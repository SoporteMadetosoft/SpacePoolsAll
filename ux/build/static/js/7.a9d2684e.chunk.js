(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[7],{1114:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(17),r=a(0),s=a(715),i=a(523),o=a(51),l=a(133),d=a(6),j=a(65),u=a.n(j),b=a(130),m=function(e){return function(t){return t({type:"HANDLE_CONTENT_WIDTH",value:e})}},O=function(e){return function(t){return t({type:"HANDLE_MENU_COLLAPSED",value:e})}},h=function(e){return function(t){return t({type:"HANDLE_MENU_HIDDEN",value:e})}},x=(a(727),a(7)),p=function(e){var t,a=e.layout,n=e.children,s=e.appLayout,i=e.wrapperClass,o=e.transition,l=e.routeMeta,j=Object(b.b)(),p=Object(b.c)((function(e){return e})),f=p.navbar,v=p.layout.contentWidth,g="HorizontalLayout"!==a||s?r.Fragment:"div";return Object(r.useEffect)((function(){return l&&(l.contentWidth&&j(m(l.contentWidth)),l.menuCollapsed&&j(O(l.menuCollapsed)),l.menuHidden&&j(h(l.menuHidden))),function(){l&&(l.contentWidth&&j(m("full")),l.menuCollapsed&&j(O(!l.menuCollapsed)),l.menuHidden&&j(h(!l.menuHidden)))}}),[]),Object(x.jsxs)("div",{className:u()("app-content content overflow-hidden",(t={},Object(d.a)(t,i,i),Object(d.a)(t,"show-overlay",f.query.length),t)),children:[Object(x.jsx)("div",{className:"content-overlay"}),Object(x.jsx)("div",{className:"header-navbar-shadow"}),Object(x.jsx)("div",{className:u()(Object(d.a)({"content-wrapper":!s,"content-area-wrapper":s,"container p-0":"boxed"===v},"animate__animated animate__".concat(o),"none"!==o&&o.length)),children:Object(x.jsx)(g,Object(c.a)(Object(c.a)({},"HorizontalLayout"!==a||s?{}:{className:u()({"content-body":!s})}),{},{children:n}))})]})},f=a(479),v=a(475),g=a(10),N=a(596),y=a(597),C=a(611),w=a(614),k=a(615),F=a(485),I=a.n(F),T=a(484),D=a.n(T),R=a(483),E=a.n(R),S=a(482),P=a.n(S),A=a(476),z=a.n(A),q=a(478),V=a(511),M=a.n(V),L=function(){var e=Object(q.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.fire({title:"\xbfEst\xe1s seguro que quieres eliminar el registro?",text:"\xa1No vas a poder revertir los cambios!",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"\xa1Si, eliminalo!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then((function(e){return e.value?(M.a.fire({icon:"success",title:"\xa1Eliminado!",text:"\xa1El registro ha sido eliminado!",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),!0):e.dismiss===M.a.DismissReason.cancel?(M.a.fire({title:"\xa1Cancelado!",text:"\xa1El registro est\xe1 a salvo!",icon:"error",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),!1):void 0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=a(49),U=a(89),H=a.n(U),W=Object(c.a)(Object(c.a)({Customers:"/customers",Vendors:"/vendors",CustomerData:"/customerData",Notification:"/notification",Carriers:"/carriers",Vehicles:"/vehicles",VRepair:"/vehicles/repair",Trailers:"/trailers",Alerts:"/alerts",TRepair:"/trailers/repair",AlertStock:"/alertsStock",Purchases:"/purchases",Pools:"/pools",Orders:"/orders",Delivery:"/delivery",Items:"/items/item",ItemColors:"/items/itemColors",Family:"/items/productFamily",Productions:"/production",Calendar:"/calendar",Users:"/users",Roles:"/roles",Logs:"/logs"},{FileManager:"/global/fileManager",ItemType:"/global/itemType",Language:"/global/language",Logos:"/global/logos",Mode:"/global/mode",Status:"/global/status",ProductionStatus:"/global/productionStatus",PurchaseStatus:"/global/purchaseStatus",Show:"/global/show",PayDay:"/global/payday"}),{PaymentMethods:"/setup/general/paymentMethod",Departments:"/setup/general/department",AddressesTypes:"/setup/general/addressesTypes",Taxes:"/setup/general/tax",CustomerType:"/setup/customers/type",CustomerCategory:"/setup/customers/category",Activity:"/setup/customers/activities",Origin:"/setup/customers/origin",VendorType:"/setup/vendors/type",Brand:"/setup/vehicles/brand",Model:"/setup/vehicles/model",Place:"/setup/items/place",Colors:"/setup/items/colors"}),J=Object(c.a)({Customers:"un cliente",Vendors:"un proveedor",Notification:"notificaci\xf3n",Carriers:"un transportista",Vehicles:"un veh\xedculo",VRepair:"una reparaci\xf3n de un veh\xedculo",Trailers:"un remolque",TRepair:"una reparaci\xf3n de remolque",Alerts:"una alerta",Purchases:"una compra",Pools:"una piscina",Orders:"un pedido",Delivery:"una entrega",Items:"un art\xedculo",ItemColors:"un art\xedculo con color",Family:"una familia",Productions:"una producci\xf3n",Calendar:"un calendario",Users:"un usuario",Roles:"un rol"},{PaymentMethods:"un m\xe9todo de pago",Departments:"un departamento",AddressesTypes:"un tipo de direcci\xf3n",Taxes:"un impuesto",CustomerType:"un tipo de cliente",CustomerCategory:"una categoria de cliente",Activity:"una actividad",Origin:"un origen",VendorType:"un tipo de proveedor",Brand:"una marca",Model:"un modelo",Place:"una ubicaci\xf3n",Colors:"un color"}),_=(a(713),function(){return JSON.parse(localStorage.getItem("userData"))}),G=function(e){var t=new Date,a=t.getDate()>=10?t.getDate():"0".concat(t.getDate()),c=t.getMonth()>=10?t.getMonth():"0".concat(t.getMonth()),n=t.getFullYear(),r=t.getHours()>=10?t.getHours():"0".concat(t.getHours()),s=t.getMinutes()>=10?t.getMinutes():"0".concat(t.getMinutes()),i=t.getSeconds()>=10?t.getSeconds():"0".concat(t.getSeconds());return"date"===e?"".concat(n,"-").concat(c,"-").concat(a):"time"===e?"".concat(r,":").concat(s,":").concat(i):"datetime"===e?"".concat(n,"-").concat(c,"-").concat(a," ").concat(r,":").concat(s,":").concat(i):""},K=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c,n,r,s,i,o,l=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.length>2&&void 0!==l[2]?l[2]:null,c=_(),n=["a\xf1adido","actualizado","eliminado","verificado"],""===(r=void 0!==J[t]&&"El usuario ".concat(c.fullName," ha ").concat(n[a]," ").concat(J[t]))){e.next=10;break}return s=G("date"),i=G("time"),o={message:r,idUser:c.id,logDate:s,logTime:i},e.next=10,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W.Logs,"/insert"),{LogObject:o});case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.delete("".concat("https://betasfp.madetosoft.com").concat(W[a],"/delete/").concat(t),{headers:{"Content-type":"application/json","x-token":c}});case 3:return e.next=5,K(a,2);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){var e=Object(q.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("accessToken")||"",e.next=3,H.a.get("".concat("https://betasfp.madetosoft.com").concat(W[t],"/list"),{headers:{"Content-type":"application/json","x-token":a}}).then((function(e){var t=[];return e.data.data.forEach((function(e){t.push(Object(c.a)({},e))})),t})).catch((function(e){return H.a.isCancel(e)&&console.log("Request canceled",e.message),[]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(q.a)(z.a.mark((function e(t){var a,c,n,r=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]?r[1]:null,c=r.length>2?r[2]:void 0,n=localStorage.getItem("accessToken")||"",!a){e.next=10;break}return e.next=6,H.a.put("".concat("https://betasfp.madetosoft.com").concat(W[t],"/update"),{form:c},{headers:{"Content-type":"application/json","x-token":n}});case 6:return e.next=8,K(t,1);case 8:e.next=14;break;case 10:return e.next=12,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/insert"),{form:c},{headers:{"Content-type":"application/json","x-token":n}});case 12:return e.next=14,K(t,0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(q.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t){return Object.assign(e,Object(d.a)({},t.value,t.label))}),{}),e.next=3,M.a.fire({title:"Selecciona un conductor",icon:"question",width:"",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"\xa1Seleccionar!",input:"select",inputOptions:a,customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1",input:"inline-flex",inputLabel:"inline-flex"},buttonsStyling:!1}).then((function(e){return e.value?(M.a.fire({icon:"success",title:"\xa1Genial!",text:"\xa1El transportista ha sido seleccionado!",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),e.value):e.dismiss===M.a.DismissReason.cancel?(M.a.fire({title:"\xa1Cancelado!",text:"\xa1No has seleccionado ning\xfan transportista!",icon:"error",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),!1):void 0}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/list"),{productionStatus:a},{headers:{"Content-type":"application/json","x-token":c}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/list"),{idUser:a},{headers:{"Content-type":"application/json","x-token":c}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){return{type:B.a.cleaningAll}},ae=function(e,t){return{type:B.a.load,payload:{data:e,endPoint:t}}},ce=function(e){return function(){var t=Object(q.a)(z.a.mark((function t(a){var c;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(te()),t.next=3,X(e);case 3:c=t.sent,a(ae(c,e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ne=function(e){return{type:B.a.delete,payload:e}},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var a=Object(q.a)(z.a.mark((function a(c,n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=null!==t?t:n().registrosReducer.endPoint,a.next=3,L();case 3:!0===a.sent&&(Y(e,r),c(ne(e)));case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},se=function(e,t,a){return function(){var c=Object(q.a)(z.a.mark((function c(n,r){return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L();case 2:!0===c.sent&&(Y(e,a),n({type:B.a.deleteRepair,payload:{id:e,index:t}}));case 4:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},ie=function(e,t,a){return function(){var c=Object(q.a)(z.a.mark((function c(n,r){return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n({type:B.a.change,payload:{valor:e,name:t,index:a}});case 1:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},oe=a(507),le=a.n(oe),de=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%",cell:function(e){return Object(x.jsxs)("div",{className:"d-flex",children:[1===e.idMode?Object(x.jsx)(N.a,{className:"mr-1",color:"green",size:15}):Object(x.jsx)(y.a,{className:"mr-1",color:"red",size:15}),Object(x.jsx)("label",{children:e.id})]})}},{name:"Nombre comercial",selector:"comercialName",sortable:!0,searchable:!0,width:"15%"},{name:"Cif",selector:"CIF",sortable:!0,searchable:!0,width:"10%"},{name:"Tel\xe9fono",selector:"phone",sortable:!0,searchable:!0,width:"12%"},{name:"Email",selector:"email",sortable:!0,searchable:!0,width:"15%"},{name:"Nombre contacto",selector:"ContactName",sortable:!0,searchable:!0,width:"15%"},{name:"Tel. con.",selector:"ContactPhone",sortable:!0,searchable:!0,width:"12%"},{name:"Estado",sortable:!0,searchable:!0,width:"9%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:2===e.idStatus?Object(x.jsx)(le.a,{color:"light-success",children:"Activo"}):Object(x.jsx)(le.a,{color:"light-danger",children:"Inactivo"})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","customers")&&Object(x.jsx)(v.b,{to:"./customers/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","customers")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],je=a(138),ue=a(616),be=a.n(ue),me=a(617),Oe=a.n(me),he=a(620),xe=a(621),pe=a(622),fe=a(623),ve=a(1076),ge=a(1077),Ne=a(1078),ye=a(1119),Ce=a(1079),we=a(1080),ke=a(1081),Fe=a(473),Ie=a(1082),Te=a(1083),De=a(1084),Re=a(1085),Ee=["onClick"],Se=Object(r.forwardRef)((function(e,t){var a=e.onClick,n=Object(je.a)(e,Ee);return Object(x.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(x.jsx)("input",Object(c.a)({type:"checkbox",className:"custom-control-input",ref:t},n)),Object(x.jsx)("label",{className:"custom-control-label",onClick:a})]})})),Pe=function(e){var t,a=e.title,c=e.columns,s=e.data,i=e.add,o=void 0===i?1:i,j=e.repa,u=void 0===j?"":j,m=Object(r.useState)(0),O=Object(n.a)(m,2),h=O[0],p=O[1],g=Object(r.useState)(""),N=Object(n.a)(g,2),y=N[0],C=N[1],k=Object(r.useState)([]),F=Object(n.a)(k,2),I=F[0],T=F[1],D=Object(f.g)(),R=Object(r.useContext)(l.a),E=Object(b.c)((function(e){return e.registrosReducer})).endPoint,S=null!==E?(t=E).charAt(0).toLowerCase()+t.slice(1):null;function P(e){var t=document.createElement("a"),a=function(e){var t;if(e.length>0){var a=Object.keys(s[0]);return t="",t+=a.join(","),t+="\n",e.forEach((function(e){var c=0;a.forEach((function(a){c>0&&(t+=","),t+=e[a],c++})),t+="\n"})),t}}(e);if(null!==a&&void 0!==a){a.match(/^data:text\/csv/i)||(a="data:text/csv;charset=utf-8,".concat(a)),t.setAttribute("href",encodeURI(a)),t.setAttribute("download","export.csv"),t.click()}}return Object(x.jsx)(r.Fragment,{children:Object(x.jsxs)(ve.a,{children:[Object(x.jsxs)(ge.a,{className:"flex-md-row flex-column align-md-items-center align-items-start border-bottom",children:[Object(x.jsx)(Ne.a,{tag:"h4",children:a}),Object(x.jsxs)("div",{className:"d-flex mt-md-0 mt-1",children:[Object(x.jsxs)(ye.a,{children:[Object(x.jsx)(Ce.a,{color:"secondary",caret:!0,outline:!0,children:Object(x.jsx)(he.a,{size:15})}),Object(x.jsx)(we.a,{right:!0,children:Object(x.jsxs)(ke.a,{className:"w-100",onClick:function(){return P(y.length?I:s)},children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"CSV"})]})})]}),""!==u&&Object(x.jsx)(v.b,{to:"#",onClick:function(){D.push("".concat(u))},children:Object(x.jsxs)(Fe.a,{className:"ml-2",color:"secondary",outline:!0,children:[Object(x.jsx)(xe.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Atr\xe1s"})]})}),1===o&&S&&R.can("insert",S)&&Object(x.jsx)(v.b,{to:"".concat(Object(f.h)().pathname,"/add"),children:Object(x.jsxs)(Fe.a,{className:"ml-2",color:"primary",children:[Object(x.jsx)(pe.a,{size:15}),Object(x.jsxs)("span",{className:"align-middle ml-50",children:["A\xf1adir ",a]})]})})]})]}),Object(x.jsx)(Ie.a,{className:"justify-content-end mx-0",children:Object(x.jsxs)(Te.a,{className:"d-flex align-items-center justify-content-end mt-1",md:"6",sm:"12",children:[Object(x.jsx)(De.a,{className:"mr-1",for:"search-input",children:"Buscar"}),Object(x.jsx)(Re.a,{className:"dataTable-filter mb-50",type:"text",bsSize:"sm",id:"search-input",value:y,onChange:function(e){var t=e.target.value,a=[];C(t),t.length&&(a=s.filter((function(e){var a;return function(){var e=[];return c.forEach((function(t){!0===t.searchable&&e.push("".concat(t.selector))})),{columnas:e}}().columnas.forEach((function(c){var n=null!==e[c]&&void 0!==e[c]?e[c].toString():"",r=n.toLowerCase().startsWith(t.toLowerCase()),s=n.toLowerCase().includes(t.toLowerCase());(r||!r&&s)&&(a=e.toString())})),a})),T(a),C(t))}})]})}),Object(x.jsx)(Oe.a,{noHeader:!0,pagination:!0,responsive:!0,noDataComponent:Object(x.jsx)("span",{children:"No hay registros para mostrar"}),columns:c,paginationPerPage:20,className:"react-dataTable",sortIcon:Object(x.jsx)(fe.a,{size:10}),paginationDefaultPage:h+1,paginationComponent:function(){var e;return Object(x.jsx)(be.a,(e={previousLabel:"",nextLabel:"",forcePage:h,onPageChange:function(e){return function(e){p(e.selected)}(e)},pageCount:y.length?I.length/20:s.length/20||1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(d.a)(e,"breakClassName","page-item"),Object(d.a)(e,"breakLinkClassName","page-link"),Object(d.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:y.length?I:s,selectableRowsComponent:Se})]})})},Ae=a(24),ze=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken"),e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/find"),{id:a},{headers:{"Content-type":"application/json","x-token":c}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),qe=function(e,t){return{type:Ae.a.inputChange,payload:{name:e,value:t}}},Ve=function(e){return{type:Ae.a.initForm,payload:e}},Me=function(e,t){return{type:Ae.a.addRepeaterRegister,payload:{key:e,structure:t}}},Le=function(e,t){return{type:Ae.a.removeRepeaterRegister,payload:{key:e,position:t}}},Be=function(e,t,a){return{type:Ae.a.editRepeaterRegister,payload:{key:e,position:t,obj:a}}},Ue=function(){return{type:Ae.a.cleanForm}},He=function(e){return{type:Ae.a.fillFormData,payload:Object(c.a)({},e)}},We=function(e,t){return function(){var a=Object(q.a)(z.a.mark((function a(c){var n;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ze(e,t);case 2:n=a.sent,c(He(n));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Je=function(){return function(){var e=Object(q.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a().normalForm);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},_e=function(e,t){return function(){var a=Object(q.a)(z.a.mark((function a(c){var n,r,s;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("accessToken")||"",a.next=3,H.a.get("".concat("https://betasfp.madetosoft.com").concat(W[e],"/findnid"),{headers:{"Content-type":"application/json","x-token":n}});case 3:r=a.sent,s=r.data.data,c(qe(t,s[0].AUTO_INCREMENT));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Ge=(a(488),a(50)),Ke=function(e){return{type:Ge.a.setSchema,payload:e}},Ye=function(e){return{type:Ge.a.setErrors,payload:e}},Xe=function(e){return{type:Ge.a.removeError,payload:e}},Qe=function(){return{type:Ge.a.cleanFormValidator}},Ze=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Customers")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:de,data:c})},$e=a(486),et=function(e,t){var a={};return Object.keys(e).forEach((function(n){Array.isArray(e[n].validations)?e[n].validations.forEach((function(e){e(t[n])||(a[n]=e.name)})):t[n].forEach((function(t,r){Object.keys(e[n]).forEach((function(s){e[n][s].validations.forEach((function(e){if(!e(t[s])){var i=a[n]&&a[n][r]?a[n][r]:{};a[n]=Object(c.a)(Object(c.a)({},a[n]),{},Object(d.a)({},r,Object(c.a)(Object(c.a)({},i),{},Object(d.a)({},s,e.name))))}}))}))}))})),a},tt={isEmail:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},isRequired:function(e){return!!e&&0!==Object.keys(e).length},length:function(e,t){var a=t.min,c=t.max;return e.length>a||c<et.length}},at=a(1088),ct=a(491),nt=a(492),rt=function(e){var t=e.errors,a=e.errMsg,c=e.target;return t&&t[c]?Object(x.jsxs)("small",{className:"text-danger",children:[a," ",Object(x.jsx)(ct.a,{icon:nt.h})]}):Object(x.jsx)("span",{})},st=function(e){var t=e.name,a=e.label,n=e.className,r=e.placeholder,s=void 0===r?a:r,i=e.type,o=void 0===i?"text":i,l=e.styles,d=e.errMsg,j=void 0===d?"":d,u=e.readonly,m=void 0!==u&&u,O=Object(b.b)(),h=Object(b.c)((function(e){return e})),p=h.normalForm,f=h.formValidator,v=p[t]?p[t]:"";return Object(x.jsxs)("div",{children:[Object(x.jsxs)("label",{className:"control-label d-flex justify-content-between",children:[a," ",Object(x.jsx)(rt,{errMsg:j,errors:f.errors,target:t})]}),Object(x.jsx)("input",{style:Object(c.a)({},l),type:o,readonly:m,className:"form-control ".concat(n," ").concat(f.errors&&f.errors[t]?"borderless border-danger rounded":""),name:t,placeholder:s,value:v,onChange:function(e){var t=e.target;f.errors&&f.errors[t.name]&&delete f.errors[t.name],O(Xe(f.errors)),O(qe(t.name,t.value))},autoComplete:"off"})]})},it=a(496),ot=a(125),lt=localStorage.getItem("accessToken")||"",dt=function(e,t){return{type:ot.a.addSelectOptions,payload:{key:e,options:t}}},jt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";return function(){var c=Object(q.a)(z.a.mark((function c(n){var r,s;return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,H.a.get("".concat("https://betasfp.madetosoft.com").concat(W[e],"/list"),{headers:{"Content-type":"application/json","x-token":lt}});case 2:r=c.sent,s=r.data.data,n(dt(t,s.map((function(e){return{label:e[a],value:e.id}}))));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},ut=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";return function(){var c=Object(q.a)(z.a.mark((function c(n){var r,s;return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,H.a.get("".concat("https://betasfp.madetosoft.com").concat(W[e],"/select"),{headers:{"Content-type":"application/json","x-token":lt}});case 2:r=c.sent,s=r.data.data,n(dt(t,s.map((function(e){return{label:e[a],value:e.id}}))));case 5:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},bt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",c=arguments.length>3?arguments[3]:void 0,n={idVendor:null,itemType:c};return function(){var r=Object(q.a)(z.a.mark((function r(s){var i,o,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=localStorage.getItem("accessToken"),r.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[e],"/listItems"),{nObj:n},{headers:{"Content-type":"application/json","x-token":i,itemType:c}});case 3:o=r.sent,l=o.data.data,s(dt(t,l.map((function(e){return{label:e[a],value:e.id}}))));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},mt=function(e){var t,a,c=e.name,n=e.label,s=e.className,i=e.endpoint,o=e.placeholder,l=void 0===o?n:o,j=e.isMulti,u=void 0!==j&&j,m=e.labelName,O=void 0===m?"name":m,h=e.errMsg,p=void 0===h?"":h,f=e.onSelect,v=Object(b.b)(),g=Object(b.c)((function(e){return e})),N=g.selectReducer,y=g.normalForm,C=g.formValidator,w=N[i],k=void 0!==w?[{label:"-",value:null}].concat(w):null;return u?(t=y[c]?y[c].map((function(e){return{value:e.id,label:e[O]}})):null,a=function(e){C.errors&&C.errors[c]&&delete C.errors[c],v(Xe(C.errors));var t=e.map((function(e){return Object(d.a)({id:e.value},O,e.label)}));v(qe(c,t))}):(t=y[c]?{label:y[c][O],value:y[c].id}:null,a=function(e){var t=e.value,a=e.label;C.errors&&C.errors[c]&&delete C.errors[c],v(Xe(C.errors)),v(qe(c,Object(d.a)({id:t},O,a)))}),Object(r.useEffect)((function(){v(jt(i,i,O))}),[]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("label",{className:"control-label d-flex justify-content-between",children:[n," ",Object(x.jsx)(rt,{errMsg:p,errors:C.errors,target:c})]}),Object(x.jsx)(it.a,{className:"".concat(s," ").concat(C.errors&&C.errors[c]?"border-danger rounded":""),name:c,options:k,placeholder:l,value:t,isMulti:u,onChange:void 0!==f?f:a})]})},Ot=Object(r.createContext)(null),ht=a(533),xt=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/load"),{filePath:a},{headers:{"Content-type":"application/json","x-token":c}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pt=a(86),ft=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/upload"),a,{headers:{"Content-Type":"multipart/form-data","x-token":c}});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),vt=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[a],"/delete"),{url:t},{headers:{"Content-type":"application/json","x-token":c}});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),gt=function(e){return{type:pt.a.SetUpload,payload:e}},Nt=function(){return{type:pt.a.CleanUp}},yt=function(e,t,a){return function(){var c=Object(q.a)(z.a.mark((function c(n){return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L();case 2:if(!0!==c.sent){c.next=8;break}return n(Le("documents",e)),n({type:B.a.delete,payload:a}),c.next=8,vt("FileManager",t);case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},Ct=function(){var e=Object(q.a)(z.a.mark((function e(t,a,c){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=Object(q.a)(z.a.mark((function e(n){var r,s,i,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FormData).append("filePath",a),s=Object(ht.a)(c);try{for(s.s();!(i=s.n()).done;)o=i.value,r.append("file",o)}catch(d){s.e(d)}finally{s.f()}return e.next=6,ft(t,r);case 6:n((l=a,{type:pt.a.SetDestination,payload:l})),n(gt(0));case 8:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),wt=function(e,t){return function(){var a=Object(q.a)(z.a.mark((function a(n,r){var s,i;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null===t){a.next=7;break}return a.next=3,xt(e,t);case 3:s=a.sent,i=r().normalForm.documents,n(qe("documents",[])),s.map((function(e){var t=i.filter((function(t){return t.url===e.url})),a=Object(c.a)(Object(c.a)({},e),{},{expiration:void 0!==t[0]?t[0].expiration:"",name:void 0!==t[0]?t[0].name:""});n(Me("documents",a))}));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},kt=function(e){return void 0!==e?e.id:null},Ft=function(e,t){var a="";a=null===t||void 0===t?"".concat(e,"/").concat(Date.now()):t;var c=localStorage.getItem("accessToken")||"";return H.a.post("".concat("https://betasfp.madetosoft.com","/global/fileManager/create"),{filePath:a},{headers:{"Content-type":"application/json","x-token":c}}),a},It=function(){var e=Object(q.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.fire({title:"Hay archivos pendientes de subir",text:"\xbfQuieres subir los archivos antes de guardar?",icon:"info",showCancelButton:!0,cancelButtonText:"Guardar sin subir archivos",confirmButtonText:"Sube los archivos y guarda",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-secondary"},buttonsStyling:!1}).then((function(e){return e.value?(M.a.fire({icon:"success",title:"\xa1Archivos guardados!",text:"\xa1Los archivos se han subido correctamente!",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),!0):e.dismiss===M.a.DismissReason.cancel?(M.a.fire({title:"Archivos descartados!",text:"\xa1Los archivos se han descartado!",icon:"error",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),!1):void 0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tt=(a(760),function(e){var t=e.form,a=void 0===t||t,c=Object(f.g)();return Object(x.jsx)("div",{id:"actionButtons",children:!0===a?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Fe.a.Ripple,{className:"float-save",color:"primary",type:"submit",children:Object(x.jsx)("span",{className:"align-middle ml-25",children:"Guardar"})}),Object(x.jsx)(Fe.a.Ripple,{className:"float-back",color:"secondary",outline:!0,style:{marginRight:"10px"},onClick:function(){c.goBack()},children:Object(x.jsx)("span",{className:"align-middle ml-25",children:"Cancelar"})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Fe.a.Ripple,{className:"float-save",color:"secondary",outline:!0,onClick:function(){c.goBack()},children:Object(x.jsx)("span",{className:"align-middle ml-25",children:"Atr\xe1s"})})})})}),Dt=["count","tag","component","children"],Rt=function(e){for(var t=e.count,a=e.tag,n=(e.component,e.children),r=Object(je.a)(e,Dt),s=a,i=[],o=0;o<t;o++)i.push(n(o));return Object(x.jsx)(s,Object(c.a)(Object(c.a)({},r),{},{children:i}))};Rt.defaultProps={tag:"div"};var Et,St,Pt,At=Rt,zt=a(629),qt=a(1115),Vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name";return{label:e[t],value:e.id}},Mt=function(e){return{name:e.label,id:e.value}},Lt={addressType:"",address:"",population:"",province:"",postcode:"",defaultAddress:!1},Bt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).addresses,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("AddressesTypes","addresseTypesOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Direcciones"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Ut,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-1 btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("addresses",Lt))},children:Object(x.jsx)(pe.a,{size:14})})]})},Ut=function(e){var t=e.position,a=Object(b.b)(),n=Object(b.c)((function(e){return e})),r=n.normalForm,s=n.selectReducer,i=Object(b.c)((function(e){return e})).formValidator,o=s.addresseTypesOpt,l=r.addresses[t],j=l.addressType,u=l.address,m=l.population,O=l.province,h=l.postcode,p=l.defaultAddress,f=j?Vt(j):null,v=function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("addresses",t,n))},g=function(e){var a=e.errMsg,c=e.target;return i.errors.addresses&&i.errors.addresses[t]?Object(x.jsx)(rt,{errMsg:a,errors:i.errors.addresses[t],target:c}):Object(x.jsx)("span",{})};return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tipo de direcci\xf3n"}),Object(x.jsx)(it.a,{name:"addressType",options:o,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("addresses",t,{name:e,value:n}))}("addressType",e)},value:f})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsxs)("label",{className:"control-label",children:["Direcci\xf3n ",Object(x.jsx)(g,{target:"address"})]}),Object(x.jsx)("input",{type:"text",id:"address-".concat(t),name:"address",className:"form-control ".concat(i.errors&&i.errors.addresses?"borderless border-danger rounded":""),onChange:v,value:u})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Poblaci\xf3n"}),Object(x.jsx)("input",{type:"text",name:"population",className:"form-control",onChange:v,value:m})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Provincia"}),Object(x.jsx)("input",{type:"text",name:"province",className:"form-control",onChange:v,value:O})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"C\xf3digo Postal"}),Object(x.jsx)("input",{type:"text",name:"postcode",className:"form-control",onChange:v,value:h})]}),Object(x.jsxs)("div",{className:"col-md-1",children:[Object(x.jsx)("label",{className:"control-label",children:"Principal"}),Object(x.jsx)("br",{}),Object(x.jsx)(qt.a,{type:"radio",onChange:function(e){var n=e.target,s=r.addresses.map((function(e,a){return Object(c.a)(Object(c.a)({},e),{},Object(d.a)({},n.name,a===t))}));a(qe("addresses",s))},name:"defaultAddress",defaultValue:f,checked:p})]}),Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("addresses",t))},children:Object(x.jsx)(zt.a,{size:14})})})]})},Ht={name:"",phone:"",email:"",charge:"",startSchedule:"",endSchedule:"",department:"",defaultContact:1},Wt=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).contacts,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("Departments","departmentOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Personas de contacto"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Jt,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-1 btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("contacts",Ht))},children:Object(x.jsx)(pe.a,{size:14})})]})},Jt=function(e){var t=e.position,a=Object(b.b)(),n=Object(b.c)((function(e){return e})).formValidator,r=Object(b.c)((function(e){return e})),s=r.normalForm,i=r.selectReducer.departmentOpt,o=s.contacts[t],l=o.name,j=o.phone,u=o.email,m=o.charge,O=o.startSchedule,h=o.endSchedule,p=o.department,f=o.defaultContact,v=p?Vt(p):null,g=function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("contacts",t,n))},N=function(e){var a=e.errMsg,c=e.target;return n.errors.contacts&&n.errors.contacts[t]?Object(x.jsx)(rt,{errMsg:a,errors:n.errors.contacts[t],target:c}):Object(x.jsx)("span",{})};return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsxs)("label",{className:"control-label",children:["Nombre del contacto ",Object(x.jsx)(N,{target:"name"})]}),Object(x.jsx)("input",{type:"text",id:"name-".concat(t),name:"name",className:"form-control ".concat(n.errors&&n.errors.contacts?"borderless border-danger rounded":""),onChange:g,value:l})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Telefono"}),Object(x.jsx)("input",{type:"text",name:"phone",className:"form-control",onChange:g,value:j})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Correo Electr\xf3nico"}),Object(x.jsx)("input",{type:"text",name:"email",className:"form-control",onChange:g,value:u})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cargo"}),Object(x.jsx)("input",{type:"text",name:"charge",className:"form-control",onChange:g,value:m})]}),Object(x.jsxs)("div",{className:"col-md-1",children:[Object(x.jsx)("label",{className:"control-label",children:"Principal"}),Object(x.jsx)("br",{}),Object(x.jsx)(qt.a,{type:"radio",checked:f,onChange:function(e){var n=e.target,r=s.contacts.map((function(e,a){return Object(c.a)(Object(c.a)({},e),{},Object(d.a)({},n.name,a===t))}));a(qe("contacts",r))},name:"defaultContact",defaultValue:v})]}),Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("contacts",t))},children:Object(x.jsx)(zt.a,{size:14})})}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Inicio de contacto"}),Object(x.jsx)("input",{type:"time",name:"startSchedule",className:"form-control",onChange:g,value:O})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Fin de contacto"}),Object(x.jsx)("input",{type:"time",name:"endSchedule",className:"form-control",onChange:g,value:h})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Departamento"}),Object(x.jsx)(it.a,{name:"department",options:i,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("contacts",t,{name:e,value:n}))}("department",e)},defaultValue:v})]})]})},_t=["onClick"],Gt=Object(r.forwardRef)((function(e,t){var a=e.onClick,n=Object(je.a)(e,_t);return Object(x.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(x.jsx)("input",Object(c.a)({type:"checkbox",className:"custom-control-input",ref:t},n)),Object(x.jsx)("label",{className:"custom-control-label",onClick:a})]})})),Kt=function(e){var t=e.columns,a=e.data,c=Object(r.useState)(0),s=Object(n.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(""),j=Object(n.a)(l,2),u=j[0],b=j[1],m=Object(r.useState)([]),O=Object(n.a)(m,2),h=O[0],p=O[1];return Object(x.jsx)(r.Fragment,{children:Object(x.jsxs)(ve.a,{children:[Object(x.jsx)(Ie.a,{className:"justify-content-end mx-0",children:Object(x.jsxs)(Te.a,{className:"d-flex align-items-center justify-content-end mt-1",md:"6",sm:"12",children:[Object(x.jsx)(De.a,{className:"mr-1",for:"search-input",children:"Buscar"}),Object(x.jsx)(Re.a,{className:"dataTable-filter mb-50",type:"text",bsSize:"sm",id:"search-input",value:u,onChange:function(e){var c=e.target.value,n=[];b(c),c.length&&(n=a.filter((function(e){var a;return function(){var e=[];return t.forEach((function(t){!0===t.searchable&&e.push("".concat(t.selector))})),{columnas:e}}().columnas.forEach((function(t){var n=null!==e[t]&&void 0!==e[t]?e[t].toString():"",r=n.toLowerCase().startsWith(c.toLowerCase()),s=n.toLowerCase().includes(c.toLowerCase());(r||!r&&s)&&(a=e.toString())})),a})),p(n),b(c))}})]})}),Object(x.jsx)(Oe.a,{noHeader:!0,pagination:!0,noDataComponent:Object(x.jsx)("span",{children:"No hay registros para mostrar"}),columns:t,paginationPerPage:20,className:"react-dataTable pb-5",sortIcon:Object(x.jsx)(fe.a,{size:10}),paginationDefaultPage:i+1,paginationComponent:function(){var e;return Object(x.jsx)(be.a,(e={previousLabel:"",nextLabel:"",forcePage:i,onPageChange:function(e){return function(e){o(e.selected)}(e)},pageCount:u.length?h.length/7:a.length/7||1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(d.a)(e,"breakClassName","page-item"),Object(d.a)(e,"breakLinkClassName","page-link"),Object(d.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:u.length?h:a,selectableRowsComponent:Gt})]})})},Yt=a(630),Xt=[{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"23%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("input",{className:"form-control",type:"text",name:"name",value:e.name,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("documents",t,n))}})})}},{name:"Documento",selector:"filename",sortable:!0,searchable:!0,width:"23%"},{name:"Tama\xf1o",selector:"filesize",sortable:!0,searchable:!0,width:"23%"},{name:"Tipo de documento",selector:"filetype",sortable:!0,searchable:!0,width:"23%"},{name:"",width:"5%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[Object(x.jsx)(v.b,{to:"".concat(e.url),target:"_blank",children:Object(x.jsxs)(I.a,{className:"w-100",children:[Object(x.jsx)(Yt.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Ver documento"})]})}),Object(x.jsx)(v.b,{onClick:function(c){a(yt(t,e.url))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Qt=function(){var e=Object(r.useContext)(Ot),t=e.file,a=e.setFile,c=Object(b.b)(),n=Object(b.c)((function(e){return e.fileUpload})),s=n.upload,i=n.filePath,o=Object(b.c)((function(e){return e.normalForm})),l=o.filePath,d=o.documents,j=null!==l?l:i;Object(r.useEffect)((function(){0===s&&void 0!==j&&c(wt("FileManager",j))}),[s]);var u=function(){var e=Object(q.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Ft("Customers",j);case 3:return n=e.sent,j=n||i,e.t0=c,e.next=8,Ct("FileManager",j,t);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("h1",{className:"card-title",children:"Documentos"})}),Object(x.jsxs)("div",{className:"row pb-1 mx-1",children:[Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)("input",{className:"form-control",type:"file",id:"formFileMultiple",accept:"application/msword, application/vnd.ms-Excel, application/vnd.ms-PowerPoint, text/plain, application/pdf, image/*",multiple:!0,onChange:function(e){a(e.target.files),0===e.target.files.length?c(gt(0)):c(gt(1))}})}),1===s&&Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)("a",{type:"button",id:"uploadButton",onClick:u,class:"btn btn-primary",children:Object(x.jsx)(ct.a,{icon:nt.o})})})]}),Object(x.jsx)(Kt,{columns:Xt,data:d})]})},Zt=a(546),$t=a.n(Zt),ea=function(){var e=Object(q.a)(z.a.mark((function e(t,a,r,s){var i,o,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==a){e.next=15;break}return e.next=3,It();case 3:if(!e.sent){e.next=15;break}return(i=new FormData).append("filePath",t),Object.entries(r).map((function(e){var t=Object(n.a)(e,2)[1];i.append("file",t)})),e.next=10,ft("FileManager",i);case 10:return e.next=12,xt("FileManager",t);case 12:return o=e.sent,l=o.map((function(e){return Object(c.a)(Object(c.a)({},s.find((function(t){return t.url===e.url}))),e)})),e.abrupt("return",l);case 15:return e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,a,c,n){return e.apply(this,arguments)}}(),ta={comercialName:{validations:[tt.isRequired]},email:{validations:[tt.isEmail]},CIF:{validations:[tt.isRequired]},idStatus:{validations:[tt.isRequired]},addresses:{address:{validations:[tt.isRequired]}},contacts:{name:{validations:[tt.isRequired]}}},aa=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(f.g)(),s=Object(r.useState)([]),i=Object(n.a)(s,2),o=i[0],l=i[1],d=$t.a.upload,j=$t.a.filePath,u=Object(b.c)((function(e){return e.normalForm})),m=u.filePath?u.filePath:j,O=Object(b.c)((function(e){return e})).normalForm,h=Object(b.c)((function(e){return e})).formValidator,p=O.observations,v=void 0!==e?e:O.customerCode,g=function(e){var a=e.target;t(qe(a.name,a.value))};Object(r.useEffect)((function(){void 0===e&&t(_e("Customers","customerCode")),t(Ke(ta))}),[]);var N=function(){var n=Object(q.a)(z.a.mark((function n(r){var s,i,l;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),s=et(h.schema,O),0===Object.keys(s).length){n.next=6;break}t(Ye(s)),n.next=12;break;case 6:return i=Ft("Customers",m),n.next=9,ea(i,d,o,u.documents);case 9:l=n.sent,t(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(c.a)(Object(c.a)({},r),{},{idPaymentMethod:kt(r.idPaymentMethod),idPayDay:kt(r.idPayDay),idCustomerOrigin:kt(r.idCustomerOrigin),idCustomerType:kt(r.idCustomerType),idCustomerActivity:kt(r.idCustomerActivity),idCustomerCategory:kt(r.idCustomerCategory),idMode:kt(r.idMode),idStatus:kt(r.idStatus),idLanguage:kt(r.idLanguage),filePath:i,documents:l,addresses:r.addresses.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{addressType:kt(e.addressType),defaultAddress:!0===e.defaultAddress?1:0})})),contacts:r.contacts.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{department:kt(e.department),defaultContact:!0===e.defaultContact?1:0})}))}),Q("Customers",e,s),t(Nt()),a.push("/customers");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:N,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Cliente"}),Object(x.jsx)("input",{className:"form-control",name:"customerCode",value:v,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"comercialName",label:"Nombre"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{id:"CIF",name:"CIF",type:"text",value:O.CIF,placeholder:"C.I.F.",onChange:g,label:"C.I.F"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"socialReason",label:"Raz\xf3n social"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"phone",label:"Tel\xe9fono"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"email",type:"email",label:"E-mail"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idPaymentMethod",label:"Forma de pago",endpoint:"PaymentMethods"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idPayDay",label:"D\xeda de pago",endpoint:"PayDay"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idCustomerOrigin",label:"Origen",endpoint:"Origin"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"accountNumber",label:"N\xfamero de cuenta"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idCustomerType",label:"Tipo de cliente",endpoint:"CustomerType"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idCustomerActivity",label:"Actividad",endpoint:"Activity"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idCustomerCategory",label:"Categor\xeda de cliente",endpoint:"CustomerCategory"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idMode",label:"Modo",endpoint:"Mode"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idStatus",label:"Estado",endpoint:"Status"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idLanguage",label:"Idioma",endpoint:"Language"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("textarea",{className:"form-control",name:"observations",value:p,onChange:g})]})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Bt,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Wt,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Ot.Provider,{value:{file:o,setFile:l},children:Object(x.jsx)(Qt,{})})})}),Object(x.jsx)(Tt,{})]})},ca={addresses:[],contacts:[],documents:[]},na=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Customers",e)),t(Ve(ca))}),[Ve]);var c=e?"Editar Cliente":"A\xf1adir Cliente",n=a.comercialName?a.comercialName:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Clientes",breadCrumbActive:c}),Object(x.jsx)(aa,{})]})},ra=[{path:"/customers",exact:!0,layout:"VerticalLayout",component:function(){return Object(x.jsx)(Ze,{titulo:"Clientes"})},meta:{action:"read",resource:"customers"}},{path:"/customers/add",exact:!0,layout:"VerticalLayout",component:function(){return Object(x.jsx)(na,{})},meta:{action:"insert",resource:"customers"}},{path:"/customers/edit/:id",exact:!0,layout:"VerticalLayout",component:function(){return Object(x.jsx)(na,{})},meta:{action:"update",resource:"customers"}}],sa=ra,ia=a(1089),oa=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"20%"},{name:"DNI/NIF",selector:"NIF",sortable:!0,searchable:!0,width:"10%"},{name:"Email",selector:"email",sortable:!0,searchable:!0,width:"18%"},{name:"Tel\xe9fono",selector:"phone",sortable:!0,searchable:!0,width:"15%"},{name:"M\xf3vil",selector:"phone2",sortable:!0,searchable:!0,width:"15%"},{name:"Estado",sortable:!0,searchable:!0,width:"10%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:2===e.idStatus?Object(x.jsx)(ia.a,{color:"light-success",children:"Activo"}):Object(x.jsx)(ia.a,{color:"light-danger",children:"Inactivo"})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","carriers")&&Object(x.jsx)(v.b,{to:"./carriers/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","carriers")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})})}}],la=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Carriers")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:oa,data:c})},da=[{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"23%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("input",{className:"form-control",type:"text",name:"name",value:e.name,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("documents",t,n))}})})}},{name:"Documento",selector:"filename",sortable:!0,searchable:!0,width:"23%"},{name:"Tama\xf1o",selector:"filesize",sortable:!0,searchable:!0,width:"23%"},{name:"Tipo de documento",selector:"filetype",sortable:!0,searchable:!0,width:"23%"},{name:"",width:"5%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[Object(x.jsx)(v.b,{to:"".concat(e.url),target:"_blank",children:Object(x.jsxs)(I.a,{className:"w-100",children:[Object(x.jsx)(Yt.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Ver archivo"})]})}),Object(x.jsx)(v.b,{onClick:function(c){a(yt(t,e.url))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],ja=function(){Object(f.i)().id;var e=Object(r.useContext)(Ot),t=e.file,a=e.setFile,c=Object(b.b)(),n=Object(b.c)((function(e){return e.fileUpload})),s=n.upload,i=n.filePath,o=Object(b.c)((function(e){return e.normalForm})),l=o.filePath,d=o.documents,j=null!==l?l:i;Object(r.useEffect)((function(){0===s&&void 0!==j&&c(wt("FileManager",j))}),[s]);var u=function(){var e=Object(q.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Ft("Carriers",j);case 3:return n=e.sent,j=n||i,e.t0=c,e.next=8,Ct("FileManager",j,t);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("h1",{className:"card-title",children:"Documentos"})}),Object(x.jsxs)("div",{className:"row pb-1 mx-1",children:[Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)("input",{className:"form-control",type:"file",id:"formFileMultiple",accept:"application/msword, application/vnd.ms-Excel, application/vnd.ms-PowerPoint, text/plain, application/pdf, image/*",multiple:!0,onChange:function(e){a(e.target.files),0===e.target.files.length?c(gt(0)):c(gt(1))}})}),1===s&&Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)("a",{type:"button",id:"uploadButton",onClick:u,class:"btn btn-primary",children:Object(x.jsx)(ct.a,{icon:nt.o})})})]}),Object(x.jsx)(Kt,{columns:da,data:d})]})},ua={NIF:{validations:[tt.isRequired]},idStatus:{validations:[tt.isRequired]}},ba=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(f.g)(),s=Object(r.useState)([]),i=Object(n.a)(s,2),o=i[0],l=i[1],d=$t.a.upload,j=$t.a.filePath,u=Object(b.c)((function(e){return e.normalForm})),m=u.filePath?u.filePath:j,O=Object(b.c)((function(e){return e})),h=O.normalForm,p=O.formValidator,v=void 0!==e?e:h.carrierCode;Object(r.useEffect)((function(){void 0===e&&t(_e("Carriers","carrierCode")),t(Ke(ua))}),[]);var g=function(){var n=Object(q.a)(z.a.mark((function n(r){var s,i,l;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),s=et(p.schema,u),0===Object.keys(s).length){n.next=6;break}t(Ye(s)),n.next=12;break;case 6:return i=Ft("Carriers",m),n.next=9,ea(i,d,o,u.documents);case 9:l=n.sent,t(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(c.a)(Object(c.a)({},r),{},{idUser:kt(r.idUser),idStatus:kt(r.idStatus),filePath:i,documents:l}),Q("Carriers",e,s),t(Nt()),a.push("/porters/carriers");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:g,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"carrierCode",label:"N\xba Transportista",readonly:"readonly",value:v})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"name",label:"Nombre"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{required:"true",name:"NIF",type:"text",label:"N.I.F.",endpoint:"Carriers"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{required:"true",name:"idStatus",label:"Estado",endpoint:"Status"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"email",type:"email",label:"Correo electr\xf3nico"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"phone",label:"Tel\xe9fono"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"phone2",label:"M\xf3vil"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"startSchedule",type:"time",label:"Horario de contacto"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"country",label:"Pa\xeds"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"state",label:"Provincia"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"city",label:"Ciudad"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"address",label:"Direcci\xf3n"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"postcode",label:"C\xf3digo postal"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(mt,{name:"idUser",label:"Usuario",endpoint:"Users",labelName:"fullname"})})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Ot.Provider,{value:{file:o,setFile:l},children:Object(x.jsx)(ja,{})})})}),Object(x.jsx)(Tt,{})]})},ma={documents:[]},Oa=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Carriers",e)),t(Ve(ma))}),[Ve]);var c=e?"Editar Transportista":"A\xf1adir Transportista",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Transportista",breadCrumbActive:c}),Object(x.jsx)(ba,{})]})},ha=[{path:"/porters/carriers",exact:!0,component:function(){return Object(x.jsx)(la,{titulo:"Transportistas"})},meta:{action:"read",resource:"carriers"}},{path:"/porters/carriers/add",exact:!0,component:function(){return Object(x.jsx)(Oa,{})},meta:{action:"insert",resource:"carriers"}},{path:"/porters/carriers/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Oa,{})},meta:{action:"update",resource:"carriers"}}],xa=ha,pa=[{path:"/login",component:Object(r.lazy)((function(){return a.e(8).then(a.bind(null,1105))})),layout:"BlankLayout",meta:{authRoute:!0}},{path:"/register",component:Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(15)]).then(a.bind(null,1106))})),layout:"BlankLayout",meta:{authRoute:!0}},{path:"/forgot-password",component:Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(14)]).then(a.bind(null,1107))})),layout:"BlankLayout",meta:{authRoute:!0}},{path:"/pages/reset-password-v1",component:Object(r.lazy)((function(){return a.e(10).then(a.bind(null,1108))})),layout:"BlankLayout"},{path:"/pages/profile",component:Object(r.lazy)((function(){return Promise.all([a.e(13),a.e(9)]).then(a.bind(null,1117))}))},{path:"/misc/coming-soon",component:Object(r.lazy)((function(){return a.e(11).then(a.bind(null,1112))})),layout:"BlankLayout",meta:{publicRoute:!0}},{path:"/misc/not-authorized",component:Object(r.lazy)((function(){return a.e(2).then(a.bind(null,1103))})),layout:"BlankLayout",meta:{publicRoute:!0}},{path:"/misc/maintenance",component:Object(r.lazy)((function(){return a.e(12).then(a.bind(null,1113))})),layout:"BlankLayout",meta:{publicRoute:!0}},{path:"/misc/error",component:Object(r.lazy)((function(){return a.e(1).then(a.bind(null,1104))})),layout:"BlankLayout",meta:{publicRoute:!0}}],fa=pa,va={name:{validations:[tt.isRequired]}},ga=function(){var e=Object(b.b)(),t=Object(f.g)(),a=Object(f.i)().id,n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator;i.customerType&&deconstructSelect(i.customerType);Object(r.useEffect)((function(){e(jt("CustomerType","CustomerType")),void 0===i.id?e(_e("CustomerType","customerType")):costumerCode=i.id,e(Ke(va))}),[]);var l=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?e(Ye(i)):(l=Object(c.a)({},n),s.preventDefault(),Q("CustomerType",a,l),t.push("/setup/customer/customerType"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{required:"true",name:"name",type:"text",label:"Tipo de Cliente"})})})}),Object(x.jsx)(Tt,{})]})},Na=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("CustomerType",e))}),[]);var c=e?"Editar Tipo de cliente":"A\xf1adir Tipo de cliente",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Tipos de cliente",breadCrumbActive:c}),Object(x.jsx)(ga,{})]})},ya=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Tipo de cliente",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","customerType")&&Object(x.jsx)(v.b,{to:"./customerType/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","customerType")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],Ca=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("CustomerType")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:ya,data:c})},wa={name:{validations:[tt.isRequired]}},ka=function(){var e=Object(b.b)(),t=Object(f.g)(),a=Object(f.i)().id,n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator;i.customerCategory&&deconstructSelect(i.customerCategory);Object(r.useEffect)((function(){e(jt("CustomerCategory","CustomerCategory")),void 0===i.id?e(_e("CustomerCategory","customerCategory")):costumerCategory=i.id,e(Ke(wa))}),[]);var l=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?e(Ye(i)):(l=Object(c.a)({},n),Q("CustomerCategory",a,l),t.push("/setup/customer/category"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{required:"true",name:"name",type:"text",label:"Categoria de cliente",onChange:function(t){var a=t.target;e(qe(a.name,a.value))}})})})}),Object(x.jsx)(Tt,{})]})},Fa=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("CustomerCategory",e))}),[]);var c=e?"Editar Categoria de cliente":"A\xf1adir Categoria de cliente",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Categorias de cliente",breadCrumbActive:c}),Object(x.jsx)(ka,{})]})},Ia=a(569),Ta={name:{validations:[tt.isRequired]}},Da=function(){var e=Object(b.b)(),t=Object(f.g)(),a=Object(f.i)().id,n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator;Object(r.useEffect)((function(){void 0===i.id?e(_e("Activity","id")):(i.id,Object(Ia.a)("id")),e(Ke(Ta))}),[]);var l=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?e(Ye(i)):(l=Object(c.a)({},n),Q("Activity",a,l),t.push("/setup/customer/activity"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{required:"true",name:"name",type:"text",label:"Actividad",onChange:function(t){var a=t.target;e(qe(a.name,a.value))}})})})}),Object(x.jsx)(Tt,{})]})},Ra=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Activity",e))}),[]);var c=e?"Editar: Actividad":"A\xf1adir Actividad",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Actividades",breadCrumbActive:c}),Object(x.jsx)(Da,{})]})},Ea=function(e){var t=e.name,a=e.label,n=e.className,r=e.placeholder,s=void 0===r?a:r,i=e.type,o=void 0===i?"text":i,l=e.styles,d=e.errMsg,j=void 0===d?"":d,u=e.readonly,m=void 0!==u&&u,O=Object(b.b)(),h=Object(b.c)((function(e){return e})),p=h.normalForm,f=h.formValidator,v=p[t]?p[t]:"";return Object(x.jsxs)("div",{children:[Object(x.jsxs)("label",{className:"control-label d-flex justify-content-between",children:[a," ",Object(x.jsx)(rt,{errMsg:j,errors:f.errors,target:t})]}),Object(x.jsx)("textarea",{style:Object(c.a)({},l),type:o,readonly:m,className:"form-control ".concat(n," ").concat(f.errors&&f.errors[t]?"borderless border-danger rounded":""),name:t,placeholder:s,value:v,onChange:function(e){var t=e.target;f.errors&&f.errors[t.name]&&delete f.errors[t.name],O(Xe(f.errors)),O(qe(t.name,t.value))}})]})},Sa={name:{validations:[tt.isRequired]},logo:{validations:[tt.isRequired]}},Pa=function(){var e=Object(b.b)(),t=Object(f.g)(),a=Object(f.i)().id,n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator;Object(r.useEffect)((function(){void 0===i.id&&e(_e("Origin","id")),e(Ke(Sa))}),[]);var l=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?e(Ye(i)):(l=Object(c.a)(Object(c.a)({},n),{},{logo:kt(n.logo)}),Q("Origin",a,l),t.push("/setup/customer/origin"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{required:"true",name:"name",type:"text",label:"Origen"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(mt,{required:"true",name:"logo",label:"Logo",endpoint:"Logos"})}),Object(x.jsx)("div",{className:"col-md-12",children:Object(x.jsx)(Ea,{name:"info",type:"text",label:"Informaci\xf3n"})})]})}),Object(x.jsx)(Tt,{})]})},Aa=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Origin",e))}),[]);var c=e?"Editar Origen":"A\xf1adir Origen",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Origenes",breadCrumbActive:c}),Object(x.jsx)(Pa,{})]})},za=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Actividad",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",searchable:!0,cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","activity")&&Object(x.jsx)(v.b,{to:"./activity/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","activity")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],qa=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Activity")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:za,data:c})},Va=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Origen",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","origin")&&Object(x.jsx)(v.b,{to:"./origin/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","origin")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],Ma=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Origin")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Va,data:c})},La=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Categoria de cliente",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",searchable:!0,cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","customerCategory")&&Object(x.jsx)(v.b,{to:"./category/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","customerCategory")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],Ba=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("CustomerCategory")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:La,data:c})},Ua=[{path:"/setup/customer/customerType",exact:!0,component:function(){return Object(x.jsx)(Ca,{titulo:"Tipos de cliente"})},meta:{action:"read",resource:"customerType"}},{path:"/setup/customer/customerType/add",exact:!0,component:function(){return Object(x.jsx)(Na,{})},meta:{action:"insert",resource:"customerType"}},{path:"/setup/customer/customerType/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Na,{})},meta:{action:"update",resource:"customerType"}},{path:"/setup/customer/category",exact:!0,component:function(){return Object(x.jsx)(Ba,{titulo:"Categorias de cliente"})},meta:{action:"read",resource:"customerCategory"}},{path:"/setup/customer/category/add",exact:!0,component:function(){return Object(x.jsx)(Fa,{})},meta:{action:"insert",resource:"customerCategory"}},{path:"/setup/customer/category/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Fa,{})},meta:{action:"update",resource:"customerCategory"}},{path:"/setup/customer/activity",exact:!0,component:function(){return Object(x.jsx)(qa,{titulo:"Actividades"})},meta:{action:"read",resource:"activity"}},{path:"/setup/customer/activity/add",exact:!0,component:function(){return Object(x.jsx)(Ra,{})},meta:{action:"insert",resource:"activity"}},{path:"/setup/customer/activity/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Ra,{})},meta:{action:"update",resource:"activity"}},{path:"/setup/customer/origin",exact:!0,component:function(){return Object(x.jsx)(Ma,{titulo:"Origenes"})},meta:{action:"read",resource:"origin"}},{path:"/setup/customer/origin/add",exact:!0,component:function(){return Object(x.jsx)(Aa,{})},meta:{action:"insert",resource:"origin"}},{path:"/setup/customer/origin/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Aa,{})},meta:{action:"update",resource:"origin"}}],Ha=Ua,Wa=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Tipo de direcci\xf3n",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){if(1!==e.id){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","addressesTypes")&&Object(x.jsx)(v.b,{to:"./addressesTypes/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","addressesTypes")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}}],Ja=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("AddressesTypes")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Wa,data:c})},_a=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Departamento",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","departments")&&Object(x.jsx)(v.b,{to:"./departments/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","departments")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],Ga=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Departments")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:_a,data:c})},Ka=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"M\xe9todo de pago",selector:"name",sortable:!0,searchable:!0,width:"43%"},{name:"Valor",selector:"value",sortable:!0,searchable:!0,width:"44%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","paymentMethods")&&Object(x.jsx)(v.b,{to:"./paymentMethods/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","paymentMethods")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],Ya=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("PaymentMethods")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Ka,data:c})},Xa={name:{validations:[tt.isRequired]}},Qa=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e})),s=n.normalForm,i=n.formValidator;Object(r.useEffect)((function(){void 0===s.id?a(_e("AddressesTypes","id")):(s.id,Object(Ia.a)("id")),a(Ke(Xa))}),[]);var o=function(){var n=Object(q.a)(z.a.mark((function n(r){var o;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),o=et(i.schema,s),0!==Object.keys(o).length?a(Ye(o)):a(Je()).then(function(){var a=Object(q.a)(z.a.mark((function a(n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=Object(c.a)({},n),Q("AddressesTypes",e,r),t.push("/setup/general/addressesTypes");case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:o,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{id:"name",label:"Tipo de direcci\xf3n",name:"name",type:"text",value:s.name,placeholder:"Tipo de direcci\xf3n",onChange:function(e){var t=e.target;a(qe(t.name,t.value))}})})})}),Object(x.jsx)(Tt,{})]})},Za=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("AddressesTypes",e))}),[]);var c=e?"Editar Tipo de direcci\xf3n":"A\xf1adir Tipo de direcci\xf3n",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Tipos de direcci\xf3n",breadCrumbActive:c}),Object(x.jsx)(Qa,{})]})},$a={name:{validations:[tt.isRequired]}},ec=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e})),s=n.normalForm,i=n.formValidator;Object(r.useEffect)((function(){a(Ke($a))}),[]);var o=function(){var n=Object(q.a)(z.a.mark((function n(r){var o;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),o=et(i.schema,s),0!==Object.keys(o).length?a(Ye(o)):a(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(c.a)({},r),Q("Departments",e,s),a(Nt),t.push("/setup/general/departments");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:o,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{id:"name",label:"Departamento",name:"name",type:"text"})})})}),Object(x.jsx)(Tt,{})]})},tc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Departments",e))}),[]);var c=e?"Editar Departamento":"A\xf1adir Departamento",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Departamentos",breadCrumbActive:c}),Object(x.jsx)(ec,{})]})},ac={name:{validations:[tt.isRequired]},value:{validations:[tt.isRequired]}},cc=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e})),s=n.normalForm,i=n.formValidator;Object(r.useEffect)((function(){a(Ke(ac))}),[]);var o=function(){var n=Object(q.a)(z.a.mark((function n(r){var o;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),o=et(i.schema,s),0!==Object.keys(o).length?a(Ye(o)):a(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(c.a)({},r),Q("PaymentMethods",e,s),a(Nt),t.push("/setup/general/paymentMethods");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:o,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{id:"name",label:"M\xe9todos de pago",name:"name",type:"text"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{label:"Valor",name:"value",type:"number"})})]})}),Object(x.jsx)(Tt,{})]})},nc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("PaymentMethods",e))}),[]);var c=e?"Editar M\xe9todo de pago":"A\xf1adir M\xe9todo de pago",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"M\xe9todos de pago",breadCrumbActive:c}),Object(x.jsx)(cc,{})]})},rc=[{path:"/setup/general/paymentMethods",exact:!0,component:function(){return Object(x.jsx)(Ya,{titulo:"M\xe9todos de pago"})},meta:{action:"read",resource:"paymentMethods"}},{path:"/setup/general/paymentMethods/add",exact:!0,component:function(){return Object(x.jsx)(nc,{})},meta:{action:"insert",resource:"paymentMethods"}},{path:"/setup/general/paymentMethods/edit/:id",exact:!0,component:function(){return Object(x.jsx)(nc,{})},meta:{action:"update",resource:"paymentMethods"}},{path:"/setup/general/departments",exact:!0,component:function(){return Object(x.jsx)(Ga,{titulo:"Departamentos"})},meta:{action:"read",resource:"departments"}},{path:"/setup/general/departments/add",exact:!0,component:function(){return Object(x.jsx)(tc,{})},meta:{action:"insert",resource:"departments"}},{path:"/setup/general/departments/edit/:id",exact:!0,component:function(){return Object(x.jsx)(tc,{})},meta:{action:"update",resource:"departments"}},{path:"/setup/general/addressesTypes",exact:!0,component:function(){return Object(x.jsx)(Ja,{titulo:"Tipos de direcci\xf3n"})},meta:{action:"read",resource:"addressesTypes"}},{path:"/setup/general/addressesTypes/add",exact:!0,component:function(){return Object(x.jsx)(Za,{})},meta:{action:"insert",resource:"addressesTypes"}},{path:"/setup/general/addressesTypes/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Za,{})},meta:{action:"update",resource:"addressesTypes"}}],sc=rc,ic={name:{validations:[tt.isRequired]}},oc=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e})),s=n.normalForm,i=n.formValidator;Object(r.useEffect)((function(){a(Ke(ic))}),[]);var o=function(){var n=Object(q.a)(z.a.mark((function n(r){var o;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),o=et(i.schema,s),0!==Object.keys(o).length?a(Ye(o)):a(Je()).then(function(){var a=Object(q.a)(z.a.mark((function a(n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=Object(c.a)({},n),Q("Colors",e,r),t.push("/setup/items/colors");case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:o,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{id:"name",label:"Color",name:"name",type:"text"})})})}),Object(x.jsx)(Tt,{})]})},lc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Colors",e))}),[]);var c=e?"Editar Color":"A\xf1adir Color",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Colores",breadCrumbActive:c}),Object(x.jsx)(oc,{})]})},dc=[{name:"ID",selector:"id",sortable:!0,minWidth:"50px",width:"8%"},{name:"Color",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","colors")&&Object(x.jsx)(v.b,{to:"./colors/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","colors")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],jc=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Colors")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:dc,data:c})},uc={name:{validations:[tt.isRequired]}},bc=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e})),s=n.normalForm,i=n.formValidator;Object(r.useEffect)((function(){a(Ke(uc))}),[]);var o=function(){var n=Object(q.a)(z.a.mark((function n(r){var o;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),o=et(i.schema,s),0!==Object.keys(o).length?a(Ye(o)):a(Je()).then(function(){var a=Object(q.a)(z.a.mark((function a(n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=Object(c.a)({},n),Q("Place",e,r),t.push("/setup/items/place");case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:o,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{id:"name",name:"name",label:"Ubicaci\xf3n",type:"text"})})})}),Object(x.jsx)(Tt,{})]})},mc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Place",e))}),[]);var c=e?"Editar Ubicaci\xf3n":"A\xf1adir Ubicaci\xf3n",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Ubicaciones",breadCrumbActive:c}),Object(x.jsx)(bc,{})]})},Oc=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Ubicaci\xf3n",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","place")&&Object(x.jsx)(v.b,{to:"./place/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","place")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],hc=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Place")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Oc,data:c})},xc=[{path:"/setup/items/place",exact:!0,component:function(){return Object(x.jsx)(hc,{titulo:"Ubicaciones"})},meta:{action:"read",resource:"place"}},{path:"/setup/items/place/add",exact:!0,component:function(){return Object(x.jsx)(mc,{})},meta:{action:"insert",resource:"place"}},{path:"/setup/items/place/edit/:id",exact:!0,component:function(){return Object(x.jsx)(mc,{})},meta:{action:"update",resource:"place"}},{path:"/setup/items/colors",exact:!0,component:function(){return Object(x.jsx)(jc,{titulo:"Colores"})},meta:{action:"read",resource:"colors"}},{path:"/setup/items/colors/add",exact:!0,component:function(){return Object(x.jsx)(lc,{})},meta:{action:"insert",resource:"colors"}},{path:"/setup/items/colors/edit/:id",exact:!0,component:function(){return Object(x.jsx)(lc,{})},meta:{action:"update",resource:"colors"}}],pc=xc,fc={name:{validations:[tt.isRequired]}},vc=function(){var e=Object(b.b)(),t=Object(f.g)(),a=Object(f.i)().id,n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})).formValidator;Object(r.useEffect)((function(){e(Ke(fc))}),[]);var i=function(){var r=Object(q.a)(z.a.mark((function r(i){var o,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.preventDefault(),o=et(s.schema,n),0!==Object.keys(o).length?e(Ye(o)):(l=Object(c.a)({},n),Q("Brand",a,l),t.push("/setup/vehicles/brand"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:i,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{required:"true",name:"name",type:"text",label:"Marca",onChange:function(t){var a=t.target;e(qe(a.name,a.value))}})})})}),Object(x.jsx)(Tt,{})]})},gc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Brand",e))}),[]);var c=e?"Editar Marca":"A\xf1adir Marca",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Marcas",breadCrumbActive:c}),Object(x.jsx)(vc,{})]})},Nc=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Marca",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","brand")&&Object(x.jsx)(v.b,{to:"./brand/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","brand")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],yc=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Brand")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Nc,data:c})},Cc={name:{validations:[tt.isRequired]},idBrand:{validations:[tt.isRequired]}},wc=function(){var e=Object(b.b)(),t=Object(f.g)(),a=Object(f.i)().id,n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator;Object(r.useEffect)((function(){e(jt("Brand","Brand")),e(Ke(Cc))}),[]);var l=function(){var r=Object(q.a)(z.a.mark((function r(s){var l,d;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),l=et(o.schema,n),0!==Object.keys(l).length?e(Ye(l)):(d=Object(c.a)(Object(c.a)({},i),{},{idBrand:kt(i.idBrand)}),Q("Model",a,d),t.push("/setup/vehicles/model"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();i.idBrand&&Vt(i.idBrand);return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(mt,{required:"true",name:"idBrand",label:"Marca",endpoint:"Brand",onChange:function(t){var a=t.value,c=t.label;e(qe("idBrand",{id:a,name:c}))}})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{required:"true",name:"name",type:"text",label:"Modelo",onChange:function(t){var a=t.target;e(qe(a.name,a.value))}})})]})}),Object(x.jsx)(Tt,{})]})},kc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Model",e))}),[]);var c=e?"Editar Modelo":"A\xf1adir Modelo",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Modelos",breadCrumbActive:c}),Object(x.jsx)(wc,{})]})},Fc=[{name:"ID",selector:"id",sortable:!0,width:"8%"},{name:"Modelo",selector:"name",sortable:!0,searchable:!0,width:"43%"},{name:"Marca",selector:"idBrand",sortable:!0,searchable:!0,width:"44%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","model")&&Object(x.jsx)(v.b,{to:"./model/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","model")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],Ic=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Model")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Fc,data:c})},Tc=[{path:"/setup/vehicles/brand",exact:!0,component:function(){return Object(x.jsx)(yc,{titulo:"Marcas"})},meta:{action:"read",resource:"brand"}},{path:"/setup/vehicles/brand/add",exact:!0,component:function(){return Object(x.jsx)(gc,{})},meta:{action:"insert",resource:"brand"}},{path:"/setup/vehicles/brand/edit/:id",exact:!0,component:function(){return Object(x.jsx)(gc,{})},meta:{action:"update",resource:"brand"}},{path:"/setup/vehicles/model",exact:!0,component:function(){return Object(x.jsx)(Ic,{titulo:"Modelos"})},meta:{action:"read",resource:"model"}},{path:"/setup/vehicles/model/add",exact:!0,component:function(){return Object(x.jsx)(kc,{})},meta:{action:"insert",resource:"model"}},{path:"/setup/vehicles/model/edit/:id",exact:!0,component:function(){return Object(x.jsx)(kc,{})},meta:{action:"update",resource:"model"}}],Dc=Tc,Rc=(a(548),a(1047),{name:{validations:[tt.isRequired]}}),Ec=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator;Object(r.useEffect)((function(){void 0===i.id?a(_e("VendorType","id")):(i.id,Object(Ia.a)("id")),a(Ke(Rc))}),[]);var l=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?a(Ye(i)):(l=Object(c.a)({},n),Q("VendorType",e,l),t.push("/setup/vendors/vendorType"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{required:"true",name:"name",type:"text",label:"Tipo de vendedor",onChange:function(e){var t=e.target;a(qe(t.name,t.value))}})})})}),Object(x.jsx)(Tt,{})]})},Sc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("VendorType",e))}),[]);var c=e?"Editar Tipo de vendedor":"A\xf1adir Tipo de vendedor",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Tipos de proveedor",breadCrumbActive:c}),Object(x.jsx)(Ec,{})]})},Pc=[{name:"ID",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Tipo de proveedor",selector:"name",sortable:!0,searchable:!0,width:"87%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","vendorType")&&Object(x.jsx)(v.b,{to:"./vendorType/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","vendorType")&&Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",onClick:function(a){a.preventDefault(),t(re(e.id))},children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})]})]})})}}],Ac=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("VendorType")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Pc,data:c})},zc=[{path:"/setup/vendors/vendorType",exact:!0,component:function(){return Object(x.jsx)(Ac,{titulo:"Tipos de proveedor"})},meta:{action:"read",resource:"vendorType"}},{path:"/setup/vendors/vendorType/add",exact:!0,component:function(){return Object(x.jsx)(Sc,{})},meta:{action:"insert",resource:"vendorType"}},{path:"/setup/vendors/vendorType/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Sc,{})},meta:{action:"update",resource:"vendorType"}}],qc=[].concat(Object(g.a)(Ha),Object(g.a)(pc),Object(g.a)(Dc),Object(g.a)(zc),Object(g.a)(sc)),Vc={addressType:"",address:"",population:"",province:"",postcode:"",defaultAddress:!1},Mc=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).addresses,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("AddressesTypes","addresseTypesOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Direcciones"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Lc,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-1 btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("addresses",Vc))},children:Object(x.jsx)(pe.a,{size:14})})]})},Lc=function(e){var t=e.position,a=Object(b.b)(),n=Object(b.c)((function(e){return e})),r=n.normalForm,s=n.selectReducer,i=Object(b.c)((function(e){return e})).formValidator,o=s.addresseTypesOpt,l=r.addresses[t],j=l.addressType,u=l.address,m=l.population,O=l.province,h=l.postcode,p=l.defaultAddress,f=j.name?Vt(j):null,v=function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("addresses",t,n))},g=function(e){var a=e.errMsg,c=e.target;return i.errors.addresses&&i.errors.addresses[t]?Object(x.jsx)(rt,{errMsg:a,errors:i.errors.addresses[t],target:c}):Object(x.jsx)("span",{})};return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tipo de direcci\xf3n"}),Object(x.jsx)(it.a,{name:"addressType",options:o,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("addresses",t,{name:e,value:n}))}("addressType",e)},value:f})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsxs)("label",{className:"control-label",children:["Direcci\xf3n ",Object(x.jsx)(g,{target:"address"})]}),Object(x.jsx)("input",{type:"text",id:"address-".concat(t),name:"address",className:"form-control ".concat(i.errors&&i.errors.addresses?"borderless border-danger rounded":""),onChange:v,value:u})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Poblac\xedon"}),Object(x.jsx)("input",{type:"text",name:"population",className:"form-control",onChange:v,value:m})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Provincia"}),Object(x.jsx)("input",{type:"text",name:"province",className:"form-control",onChange:v,value:O})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"C\xf3digo Postal"}),Object(x.jsx)("input",{type:"text",name:"postcode",className:"form-control",onChange:v,value:h})]}),Object(x.jsxs)("div",{className:"col-md-1",children:[Object(x.jsx)("label",{className:"control-label",children:"Principal"}),Object(x.jsx)("br",{}),Object(x.jsx)(qt.a,{type:"radio",onChange:function(e){var n=e.target,s=r.addresses.map((function(e,a){return Object(c.a)(Object(c.a)({},e),{},Object(d.a)({},n.name,a===t))}));a(qe("addresses",s))},name:"defaultAddress",defaultValue:f,checked:p})]}),Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("addresses",t))},children:Object(x.jsx)(zt.a,{size:14})})})]})},Bc={name:"",phone:"",email:"",charge:"",startSchedule:"",endSchedule:"",department:"",defaultContact:!1},Uc=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).contacts,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("Departments","departmentOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Personas de contacto"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Hc,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-1 btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("contacts",Bc))},children:Object(x.jsx)(pe.a,{size:14})})]})},Hc=function(e){var t=e.position,a=Object(b.b)(),n=Object(b.c)((function(e){return e})).formValidator,r=Object(b.c)((function(e){return e})),s=r.normalForm,i=r.selectReducer.departmentOpt,o=s.contacts[t],l=o.name,j=o.phone,u=o.email,m=o.charge,O=o.startSchedule,h=o.endSchedule,p=o.defaultContact,f=o.department,v=f.name?Vt(f):null,g=function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("contacts",t,n))},N=function(e){var a=e.errMsg,c=e.target;return n.errors.contacts&&n.errors.contacts[t]?Object(x.jsx)(rt,{errMsg:a,errors:n.errors.contacts[t],target:c}):Object(x.jsx)("span",{})};return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsxs)("label",{className:"control-label",children:["Nombre del contacto ",Object(x.jsx)(N,{target:"name"})]}),Object(x.jsx)("input",{type:"text",id:"name-".concat(t),name:"name",className:"form-control ".concat(n.errors&&n.errors.contacts?"borderless border-danger rounded":""),onChange:g,value:l})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Telefono"}),Object(x.jsx)("input",{type:"text",name:"phone",className:"form-control",onChange:g,value:j})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Correo Electr\xf3nico"}),Object(x.jsx)("input",{type:"email",name:"email",className:"form-control",onChange:g,value:u})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cargo"}),Object(x.jsx)("input",{type:"text",name:"charge",className:"form-control",onChange:g,value:m})]}),Object(x.jsxs)("div",{className:"col-md-1",children:[Object(x.jsx)("label",{className:"control-label",children:"Principal"}),Object(x.jsx)("br",{}),Object(x.jsx)(qt.a,{type:"radio",checked:p,onChange:function(e){var n=e.target,r=s.contacts.map((function(e,a){return Object(c.a)(Object(c.a)({},e),{},Object(d.a)({},n.name,a===t))}));a(qe("contacts",r))},name:"defaultContact",defaultValue:v})]}),Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("contacts",t))},children:Object(x.jsx)(zt.a,{size:14})})}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Inicio de contacto"}),Object(x.jsx)("input",{type:"time",name:"startSchedule",className:"form-control",onChange:g,value:O})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Fin de contacto"}),Object(x.jsx)("input",{type:"time",name:"endSchedule",className:"form-control",onChange:g,value:h})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Departamento"}),Object(x.jsx)(it.a,{name:"department",options:i,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("contacts",t,{name:e,value:n}))}("department",e)},value:v})]})]})},Wc={CIF:{validations:[tt.isRequired]},idStatus:{validations:[tt.isRequired]},comercialName:{validations:[tt.isRequired]},addresses:{address:{validations:[tt.isRequired]}},contacts:{name:{validations:[tt.isRequired]}}},Jc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(f.g)(),n=Object(b.c)((function(e){return e})).normalForm,s=Object(b.c)((function(e){return e})).formValidator,i=n.observations,o=void 0!==e?e:n.vendorCode,l=function(e){var a=e.target;t(qe(a.name,a.value))};Object(r.useEffect)((function(){void 0===e&&t(_e("Vendors","vendorCode")),t(Ke(Wc))}),[]);var d=function(){var r=Object(q.a)(z.a.mark((function r(i){var o;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.preventDefault(),o=et(s.schema,n),0!==Object.keys(o).length?t(Ye(o)):t(Je()).then(function(){var r=Object(q.a)(z.a.mark((function r(s){var i;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=Object(c.a)(Object(c.a)({},s),{},{idPaymentMethod:kt(s.idPaymentMethod),idVendorType:kt(s.idVendorType),idStatus:kt(s.idStatus),addresses:n.addresses.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{addressType:kt(e.addressType),defaultAddress:!0===e.defaultAddress?1:0})})),contacts:n.contacts.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{department:kt(e.department),defaultContact:!0===e.defaultContact?1:0})}))}),Q("Vendors",e,i),t(Nt()),a.push("/vendors");case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:d,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Proveedor"}),Object(x.jsx)("input",{className:"form-control",name:"vendorCode",value:o,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"comercialName",label:"Nombre Comercial"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{id:"CIF",name:"CIF",placeholder:"C.I.F",type:"text",value:n.CIF,onChange:l,label:"C.I.F"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"socialReason",label:"Raz\xf3n social"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"phone",label:"Tel\xe9fono"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"email",label:"Correo electr\xf3nico"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idPaymentMethod",label:"Forma de pago",endpoint:"PaymentMethods"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idVendorType",label:"Tipo de proveedor",endpoint:"VendorType"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idOrigin",label:"Origen",endpoint:"Origin"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idStatus",label:"Estado",endpoint:"Status"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("textarea",{className:"form-control",type:"text",name:"observations",placeholder:"Observaciones",defaultValue:i,onChange:l})]})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Mc,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Uc,{})})}),Object(x.jsx)(Tt,{})]})},_c={addresses:[],contacts:[]},Gc=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Vendors",e)),t(Ve(_c))}),[Ve]);var c=e?"Editar: Proveedores":"A\xf1adir Proveedores",n=a.comercialName?a.comercialName:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Proveedores",breadCrumbActive:c}),Object(x.jsx)(Jc,{})]})},Kc=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Nombre comercial",selector:"comercialName",sortable:!0,searchable:!0,width:"15%"},{name:"Cif",selector:"CIF",sortable:!0,searchable:!0,width:"10%"},{name:"Tel\xe9fono",selector:"phone",sortable:!0,searchable:!0,width:"12%"},{name:"Email",selector:"email",sortable:!0,searchable:!0,width:"15%"},{name:"Nombre contacto",selector:"contactName",sortable:!0,searchable:!0,width:"15%"},{name:"Tel. contacto",selector:"contactPhone",sortable:!0,searchable:!0,width:"12%"},{name:"Estado",sortable:!0,width:"9%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:2===e.idStatus?Object(x.jsx)(le.a,{color:"light-success",children:"Activo"}):Object(x.jsx)(le.a,{color:"light-danger",children:"Inactivo"})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","vendors")&&Object(x.jsx)(v.b,{to:"./vendors/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","vendors")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Yc=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Vendors")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Kc,data:c})},Xc=[{path:"/vendors",exact:!0,component:function(){return Object(x.jsx)(Yc,{titulo:"Proveedores"})},meta:{action:"read",resource:"vendors"}},{path:"/vendors/add",exact:!0,component:function(){return Object(x.jsx)(Gc,{})},meta:{action:"insert",resource:"vendors"}},{path:"/vendors/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Gc,{})},meta:{action:"update",resource:"vendors"}}],Qc=[{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"19%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("input",{className:"form-control",type:"text",name:"name",value:e.name,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("documents",t,n))}})})}},{name:"Documento",selector:"filename",sortable:!0,searchable:!0,width:"19%"},{name:"Tama\xf1o",selector:"filesize",sortable:!0,searchable:!0,width:"18%"},{name:"Tipo de documento",selector:"filetype",sortable:!0,searchable:!0,width:"18%"},{name:"Caducidad",selector:"expiration",sortable:!0,searchable:!0,width:"18%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("input",{className:"form-control",type:"date",name:"expiration",value:e.expiration,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("documents",t,n))}})})}},{name:"",width:"5%",cell:function(e,t){var a=Object(b.b)();Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[Object(x.jsx)(v.b,{to:"".concat(e.url),target:"_blank",children:Object(x.jsxs)(I.a,{className:"w-100",children:[Object(x.jsx)(Yt.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Ver archivo"})]})}),Object(x.jsx)(v.b,{onClick:function(c){a(yt(t,e.url,e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Zc=function(){Object(f.i)().id;var e=Object(r.useContext)(Ot),t=e.file,a=e.setFile,c=Object(b.b)(),n=Object(b.c)((function(e){return e.fileUpload})),s=n.upload,i=n.filePath,o=Object(b.c)((function(e){return e.normalForm})),l=o.filePath,d=o.documents,j=l||i;Object(r.useEffect)((function(){0===s&&void 0!==j&&c(wt("FileManager",j))}),[s]);var u=function(){var e=Object(q.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Ft("Vehicles",j);case 3:return n=e.sent,j=n||i,e.t0=c,e.next=8,Ct("FileManager",j,t);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("h1",{className:"card-title",children:"Documentos"})}),Object(x.jsxs)("div",{className:"row pb-1 mx-1",children:[Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)("input",{className:"form-control",type:"file",id:"formFileMultiple",accept:"application/msword, application/vnd.ms-Excel, application/vnd.ms-PowerPoint, text/plain, application/pdf, image/*",multiple:!0,onChange:function(e){a(e.target.files),0===e.target.files.length?c(gt(0)):c(gt(1))}})}),1===s?Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)("a",{type:"button",id:"uploadButton",onClick:u,class:"btn btn-primary",children:Object(x.jsx)(ct.a,{icon:nt.o})})}):null]}),Object(x.jsx)(Kt,{columns:Qc,data:d})]})},$c=(a(878),{plate:{validations:[tt.isRequired]},frameNumber:{validations:[tt.isRequired]},brand:{validations:[tt.isRequired]},model:{validations:[tt.isRequired]},idStatus:{validations:[tt.isRequired]},idCarrier:{validations:[tt.isRequired]}}),en=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(f.g)(),s=Object(r.useState)([]),i=Object(n.a)(s,2),o=i[0],l=i[1],d=$t.a.upload,j=$t.a.filePath,u=Object(b.c)((function(e){return e.normalForm})),m=u.filePath?u.filePath:j,O=Object(b.c)((function(e){return e})),h=O.normalForm,p=O.formValidator,v=void 0!==e?e:h.vehicleCode,g=h.observations;Object(r.useEffect)((function(){t(jt("Brand","Brand")),t(ut("Carriers","Carriers","name"))}),[]);Object(r.useEffect)((function(){t(jt("Brand","brandOpt")),void 0===e&&t(_e("Vehicles","vehicleCode")),t(Ke($c))}),[]);var N=function(){var n=Object(q.a)(z.a.mark((function n(r){var s,i,l;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),s=et(p.schema,u),0===Object.keys(s).length){n.next=6;break}t(Ye(s)),n.next=12;break;case 6:return i=Ft("Vehicles",m),n.next=9,ea(i,d,o,u.documents);case 9:l=n.sent,t(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(c.a)(Object(c.a)({},r),{},{idStatus:kt(r.idStatus),model:kt(r.model),idCarrier:kt(r.idCarrier),idTrailer:kt(r.idTrailer),filePath:i,documents:l,brand:kt(r.brand)}),Q("Vehicles",e,s),t(Nt()),a.push("/porters/vehicles");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:N,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"row card-body",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Veh\xedculo"}),Object(x.jsx)("input",{className:"form-control",name:"vehicleCode",value:v,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{required:"true",type:"text",name:"plate",label:"Matr\xedcula",endpoint:"Vehicles"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{required:"true",type:"text",name:"frameNumber",label:"N\xfamero de bastidor"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"policyNumber",label:"N\xfamero de poliza"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"tachograph",label:"Tacografo del cami\xf3n"})}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(mt,{required:"true",name:"idCarrier",label:"Transportista",endpoint:"Carriers"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"tare",label:"Tara"})}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(st,{name:"mma",label:"M.M.A."})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{required:"true",name:"brand",label:"Marca",endpoint:"Brand"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{required:"true",name:"model",label:"Modelo",endpoint:"Model"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idTrailer",label:"Remolque",endpoint:"Trailers",labelName:"plate"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"ITVdate",type:"date",placeholder:"Fecha ITV",label:"Fecha ITV"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"maintenanceDate",type:"date",label:"Fecha de mantenimiento"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{required:"true",name:"idStatus",label:"Estado",endpoint:"Status"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("textarea",{className:"form-control",placeholder:"Observaciones",name:"observations",defaultValue:g,onChange:function(e){var a=e.target;t(qe(a.name,a.value))}})]})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Ot.Provider,{value:{file:o,setFile:l},children:Object(x.jsx)(Zc,{})})})}),Object(x.jsx)(Tt,{})]})},tn={documents:[]},an=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Vehicles",e)),t(Ve(tn))}),[Ve]);var c=e?"Editar: Veh\xedculo":"A\xf1adir Veh\xedculo",n=a.plateNumber?a.plateNumber:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Veh\xedculos",breadCrumbActive:c}),Object(x.jsx)(en,{})]})},cn=a(653),nn=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Matr\xedcula",selector:"plate",sortable:!0,searchable:!0,width:"18%"},{name:"Conductor",selector:"idCarrier",sortable:!0,searchable:!0,width:"20%"},{name:"N\xfamero de bastidor",selector:"frameNumber",sortable:!0,searchable:!0,width:"20%"},{name:"Fecha de ITV",selector:"ITVdate",sortable:!0,searchable:!0,width:"20%"},{name:"Estado",sortable:!0,searchable:!0,width:"10%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:2===e.idStatus?Object(x.jsx)(le.a,{color:"light-success",children:"Activo"}):Object(x.jsx)(le.a,{color:"light-danger",children:"Inactivo"})})}},{name:"",width:"5%",cell:function(e,t){var a=Object(b.b)(),c=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[c.can("update","vehicles")&&Object(x.jsx)(v.b,{to:"./vehicles/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),c.can("actions","vehicles")&&Object(x.jsx)(v.b,{to:"./vehicles/vReparation/".concat(t),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(cn.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Reparaciones"})]})}),c.can("delete","vehicles")&&Object(x.jsx)(v.b,{onClick:function(t){a(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],rn=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Vehicles")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:nn,data:c})},sn=[{path:"/porters/vehicles",exact:!0,component:function(){return Object(x.jsx)(rn,{titulo:"Veh\xedculos"})},meta:{action:"read",resource:"vehicles"}},{path:"/porters/vehicles/add",exact:!0,component:function(){return Object(x.jsx)(an,{})},meta:{action:"insert",resource:"vehicles"}},{path:"/porters/vehicles/edit/:id",exact:!0,component:function(){return Object(x.jsx)(an,{})},meta:{action:"update",resource:"vehicles"}}],on=[{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"19%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("input",{className:"form-control",type:"text",name:"name",value:e.name,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("documents",t,n))}})})}},{name:"Documento",selector:"filename",sortable:!0,searchable:!0,width:"19%"},{name:"Tama\xf1o",selector:"filesize",sortable:!0,searchable:!0,width:"18%"},{name:"Tipo de documento",selector:"filetype",sortable:!0,searchable:!0,width:"18%"},{name:"Caducidad",selector:"expiration",sortable:!0,searchable:!0,width:"18%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("input",{className:"form-control",type:"date",name:"expiration",value:e.expiration,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("documents",t,n))}})})}},{name:"",width:"5%",cell:function(e,t){var a=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[Object(x.jsx)(v.b,{to:"".concat(e.url),target:"_blank",children:Object(x.jsxs)(I.a,{className:"w-100",children:[Object(x.jsx)(Yt.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Ver archivo"})]})}),Object(x.jsx)(v.b,{onClick:function(c){a(yt(t,e.url))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],ln=function(){var e=Object(r.useContext)(Ot),t=e.file,a=e.setFile,c=Object(b.b)(),n=Object(b.c)((function(e){return e.fileUpload})),s=n.upload,i=n.filePath,o=Object(b.c)((function(e){return e.normalForm})),l=o.filePath,d=o.documents,j=null!==l?l:i;Object(r.useEffect)((function(){0===s&&void 0!==j&&c(wt("FileManager",j))}),[s]);var u=function(){var e=Object(q.a)(z.a.mark((function e(a){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Ft("Trailers",j);case 3:return n=e.sent,j=n||i,e.t0=c,e.next=8,Ct("FileManager",j,t);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("h1",{className:"card-title",children:"Documentos"})}),Object(x.jsxs)("div",{className:"row pb-1 mx-1",children:[Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)("input",{className:"form-control",type:"file",id:"formFileMultiple",accept:"application/msword, application/vnd.ms-Excel, application/vnd.ms-PowerPoint, text/plain, application/pdf, image/*",multiple:!0,onChange:function(e){a(e.target.files),0===e.target.files.length?c(gt(0)):c(gt(1))}})}),1===s&&Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)("a",{type:"button",id:"uploadButton",onClick:u,class:"btn btn-primary",children:Object(x.jsx)(ct.a,{icon:nt.o})})})]}),Object(x.jsx)(Kt,{columns:on,data:d})]})},dn={plate:{validations:[tt.isRequired]},brand:{validations:[tt.isRequired]},model:{validations:[tt.isRequired]},idStatus:{validations:[tt.isRequired]},frame:{validations:[tt.isRequired]}},jn=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(f.g)(),s=Object(r.useState)([]),i=Object(n.a)(s,2),o=i[0],l=i[1],d=$t.a.upload,j=$t.a.filePath,u=Object(b.c)((function(e){return e.normalForm})),m=u.filePath?u.filePath:j,O=Object(b.c)((function(e){return e})),h=O.normalForm,p=O.formValidator,v=void 0!==e?e:h.trailerCode,g=h.observations;Object(r.useEffect)((function(){t(jt("Brand","Brand")),t(jt("Model","Model")),void 0===e&&t(_e("Trailers","trailerCode")),t(Ke(dn))}),[]);var N=function(){var n=Object(q.a)(z.a.mark((function n(r){var s,i,l;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),s=et(p.schema,u),0===Object.keys(s).length){n.next=6;break}t(Ye(s)),n.next=12;break;case 6:return i=Ft("Trailers",m),n.next=9,ea(i,d,o,u.documents);case 9:l=n.sent,t(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(c.a)(Object(c.a)({},r),{},{idStatus:kt(r.idStatus),model:kt(r.model),filePath:i,documents:l,frame:kt(r.frame)}),Q("Trailers",e,s),t(Nt()),a.push("/porters/trailers");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:N,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"row card-body",children:[Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Remolque"}),Object(x.jsx)("input",{className:"form-control",name:"trailerCode",value:v,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{required:"true",name:"plate",label:"Matr\xedcula del remolque"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{required:"true",name:"frame",label:"N\xfamero de bastidor"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"policyNumber",label:"N\xfamero de poliza"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{required:"true",name:"brand",label:"Marca",endpoint:"Brand"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{required:"true",name:"model",label:"Modelo",endpoint:"Model"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"mma",type:"number",label:"MMA"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"ITVdate",type:"date",label:"Fecha ITV"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"maintenanceDate",type:"date",label:"Fecha de mantenimiento"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"insuranceNumber",label:"N\xfamero de seguro"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"insuranceDateLimit",type:"date",label:"Fecha caducidad seguro"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idStatus",label:"Estado",endpoint:"Status"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("textarea",{className:"form-control",placeholder:"Observaciones",name:"observations",defaultValue:g,onChange:function(e){var a=e.target;t(qe(a.name,a.value))}})]})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Ot.Provider,{value:{file:o,setFile:l},children:Object(x.jsx)(ln,{})})})}),Object(x.jsx)(Tt,{})]})},un={documents:[]},bn=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Trailers",e)),t(Ve(un))}),[Ve]);var c=e?"Editar Remolque":"A\xf1adir Remolque",n=a.plate?a.plate:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Remolques",breadCrumbActive:c}),Object(x.jsx)(jn,{})]})},mn=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Matr\xedcula",selector:"plate",sortable:!0,searchable:!0,width:"18%"},{name:"Marca",selector:"brand",sortable:!0,searchable:!0,width:"20%"},{name:"Modelo",selector:"model",sortable:!0,searchable:!0,width:"20%"},{name:"Fecha de ITV",selector:"ITVdate",sortable:!0,searchable:!0,width:"20%"},{name:"Estado",sortable:!0,searchable:!0,width:"10%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:2===e.idStatus?Object(x.jsx)(le.a,{color:"light-success",children:"Activo"}):Object(x.jsx)(le.a,{color:"light-danger",children:"Inactivo"})})}},{name:"",width:"5%",cell:function(e,t){var a=Object(b.b)(),c=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[c.can("update","trailers")&&Object(x.jsx)(v.b,{to:"./trailers/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),c.can("actions","trailers")&&Object(x.jsx)(v.b,{to:"./trailers/tReparation/".concat(t),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(cn.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Reparaciones"})]})}),c.can("delete","trailers")&&Object(x.jsx)(v.b,{onClick:function(t){a(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],On=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Trailers")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:mn,data:c})},hn=[{path:"/porters/trailers",exact:!0,component:function(){return Object(x.jsx)(On,{titulo:"Remolques"})},meta:{action:"read",resource:"trailers"}},{path:"/porters/trailers/add",exact:!0,component:function(){return Object(x.jsx)(bn,{})},meta:{action:"insert",resource:"trailers"}},{path:"/porters/trailers/edit/:id",exact:!0,component:function(){return Object(x.jsx)(bn,{})},meta:{action:"update",resource:"trailers"}}],xn=function(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e)},pn=[{name:"N\xba",selector:"poolCode",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Nombre (fabricaci\xf3n)",selector:"fabricationName",sortable:!0,searchable:!0,width:"14%"},{name:"Nombre (Europa)",selector:"nameEuropa",sortable:!0,searchable:!0,width:"14%"},{name:"Nombre (Space)",selector:"nameSpace",sortable:!0,searchable:!0,width:"14%"},{name:"Nombre (Sociedad)",selector:"nameSociedad",sortable:!0,searchable:!0,width:"14%"},{name:"Nombre (Hydryus)",selector:"nameHydryus",sortable:!0,searchable:!0,width:"14%"},{name:"Coste",selector:"cost",sortable:!0,searchable:!0,width:"8%",cell:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:xn(e.cost)})})}},{name:"Estado",sortable:!0,searchable:!0,width:"10%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:2===e.idStatus?Object(x.jsx)(le.a,{color:"light-success",children:"Activo"}):Object(x.jsx)(le.a,{color:"light-danger",children:"Inactivo"})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","pools")&&Object(x.jsx)(v.b,{to:"./pools/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","pools")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],fn=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Pools")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:pn,data:c})},vn=a(143),gn=a(25),Nn=function(e,t,a){return function(){var c=Object(q.a)(z.a.mark((function c(n,r){return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:a.x>300&&n({type:gn.a.DropElement,payload:{key:e,position:t,obj:a}});case 1:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},yn=function(){return{type:gn.a.CleanCanvas}},Cn=function(e){return{type:gn.a.setAllCanvas,payload:{data:e}}},wn=function(e,t){return function(){var a=Object(q.a)(z.a.mark((function a(n,r){var s,i,o,l;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=localStorage.getItem("accessToken"),a.next=3,H.a.get("".concat("https://betasfp.madetosoft.com").concat(W[e],"/canvas/list/").concat(t),{headers:{"Content-type":"application/json","x-token":s}});case 3:i=a.sent,o=i.data.data,l=[],o.forEach((function(e,t){var a=r().canvasReducer.elements[e.idElemento-1].imgUrl,n=Object(c.a)(Object(c.a)({},e),{},{imgUrl:a});l[t]=n})),n(Cn(l));case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},kn=function(){return function(e,t){var a=t().canvasReducer.elements;e(yn()),a.forEach((function(t,a){var c,n,r,s={idElemento:t.idElemento,pos:t.pos,imgUrl:t.imgUrl,name:t.name,isDragging:t.isDragging,id:null,x:window.innerWidth/15,y:window.innerHeight/12*t.idElemento};e((c="elements",n=s,r=a,{type:gn.a.LoadElement,payload:{key:c,structure:n,position:r}}))}))}},Fn=function(e){return{type:vn.a.AddCost,payload:e}},In=function(e,t,a){return function(){var c=Object(q.a)(z.a.mark((function c(n,r){var s,i,o,l,d,j,u,b,m,O;return z.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:for(s=0,i=!0,o=0,l="",d=0;d<2;d++)if(l=0===d?e:t,r().normalForm[l]){for(;i;)r().normalForm[l][o]?isNaN(r().normalForm[l][o].coste)?s+=0:s+=r().normalForm[l][o].coste:i=!1,o++;i=!0,o=0}if(1===a&&r().normalForm.price&&(j=parseFloat(r().normalForm.price),s+=j),!r().normalForm.idPool){c.next=10;break}return u=r().normalForm.idPool.id,c.next=7,ze("Pools",u);case 7:b=c.sent,m=b.cost,s+=m;case 10:r().normalForm.idTax&&(O=r().normalForm.idTax.name,s*=O/100+1),null===(s=s.toFixed(2))||void 0===s||"NaN"===s||(n(Fn(s)),1!==a&&n(qe("price",s)));case 13:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},Tn=function(e,t,a,c,n){return function(){var r=Object(q.a)(z.a.mark((function r(s,i){var o,l,d,j,u,b;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===(o=i().normalForm[a][t].idItem)){r.next=13;break}return r.next=4,ze(e,o.id);case 4:l=r.sent,d=l.cost,j=i().normalForm[a][t].quantity,u=d*parseInt(j),s(Be(a,t,{name:"coste",value:u})),b=0,"raws"===c&&"items"===n&&(b=1),s(In(c,n,b));case 13:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},Dn=function(e){return function(){var t=Object(q.a)(z.a.mark((function t(a,c){var n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(0,n=!0,r=!0;n;)c().normalForm.baseItems[0]?a(Le("baseItems",0)):n=!1;for(;r;)c().normalForm.baseItemColors[0]?a(Le("baseItemColors",0)):r=!1;return t.next=7,ze("Pools",e);case 7:s=t.sent,Object.entries(s.baseItems).map((function(e){var t={idItem:e[1].idItem.id,quantity:e[1].quantity,coste:e[1].coste,name:e[1].idItem.name};a(Me("baseItems",t))})),Object.entries(s.baseItemColors).map((function(e){var t={idItem:e[1].idItem.id,quantity:e[1].quantity,colores:e[1].colores,idColor:e[1].idColor,coste:e[1].coste,name:e[1].idItem.name};a(Me("baseItemColors",t))}));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Rn=function(e){return function(t,a){var c=a().normalForm.baseItems[e],n=c.coste*c.quantity,r=a().ordersReducer.price;a().normalForm.Iva&&(r*=a().normalForm.Iva.name/100+1);var s=r-n;s=s.toFixed(2),t(Fn(s)),t(qe("price",s))}},En=function(e){return function(t,a){if(0===e)t(Fn(0));else{var c=a().normalForm;c.price&&t(Fn(c.price))}}},Sn=function(e){return function(){var t=Object(q.a)(z.a.mark((function t(a,c){var n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=6;break}a(qe("phone","")),a(qe("email","")),a(qe("deliveryAddress","")),t.next=12;break;case 6:return t.next=8,ze("Customers",e);case 8:(n=t.sent).addresses.map((function(e){1===e.addressType.id?a(qe("deliveryAddress","".concat(e.address,", ").concat(e.population))):a(qe("deliveryAddress",""))})),a(qe("phone",n.phone)),a(qe("email",n.email));case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Pn={idItem:"",quantity:"1"},An=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).items,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("Items","Items","name",2))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Art\xedculos sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(zn,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("items",Pn))},children:Object(x.jsx)(pe.a,{size:14})})]})},zn=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.Items,s=n.items[t],i=s.quantity,o=s.idItem,l=o.name?Vt(o):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)(it.a,{placeholder:"Art\xedculo",name:"idItem",value:l,options:r,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("items",t,{name:e,value:n})),a(Tn("Items",t,"items","raws","items"))}("idItem",e)}})]}),Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("items",t,n)),a(Tn("Items",t,"items","raws","items"))},value:i})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("items",t)),a(In("items","raws"))},children:Object(x.jsx)(zt.a,{size:14})})})]})},qn={idItem:"",quantity:"1",coste:0},Vn=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).raws,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("Items","Raws","name",1))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Materias primas sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Mn,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("raws",qn))},children:Object(x.jsx)(pe.a,{size:14})})]})},Mn=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.Raws,s=n.raws[t],i=s.quantity,o=s.idItem,l=o.name?Vt(o):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Materia prima"}),Object(x.jsx)(it.a,{placeholder:"Materia prima",name:"idItem",options:r,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("raws",t,{name:e,value:n})),a(Tn("Items",t,"raws","raws","items"))}("idItem",e)},value:l})]}),Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("raws",t,n)),a(Tn("Items",t,"raws","raws","items"))},value:i})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("raws",t)),a(In("items","raws"))},children:Object(x.jsx)(zt.a,{size:14})})})]})},Ln={idItem:"",idColor:"",colores:"",quantity:"1",coste:0},Bn=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).itemColor,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("ItemColors","ItemsColors","name",2))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Art\xedculos con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Un,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("itemColor",Ln))},children:Object(x.jsx)(pe.a,{size:14})})]})},Un=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.ItemsColors,s=n.itemColor[t],i=s.colores,o=s.quantity,l=s.idItem,d=s.idColor,j=l.name?Vt(l):null,u=d.name?Vt(d):null,m=function(e,c){var n=Mt(c);a(Be("itemColor",t,{name:e,value:n})),a(Tn("Items",t,"itemColor","itemColor","items"))},O=function(){var e=Object(q.a)(z.a.mark((function e(c){var n,r,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("accessToken")||"",e.next=3,H.a.get("".concat("https://betasfp.madetosoft.com","/items/itemColors/selectByIdItem/").concat(c.value),{headers:{"Content-type":"application/json","x-token":n}});case 3:r=e.sent,s=r.data.data,i=s.map((function(e){return{label:e.idColor.name,value:e.idColor.id}})),a(Be("itemColor",t,{name:"colores",value:i})),m("idItem",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)(it.a,{placeholder:"Art\xedculo",name:"idItem",value:j,options:r,onChange:function(e){O(e)}})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsx)(it.a,{placeholder:"Color",name:"idColor",options:i,onChange:function(e){m("idColor",e)},value:u})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("itemColor",t,n)),a(Tn("Items",t,"itemColor","itemColor","items"))},value:o})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("itemColor",t)),a(In("items","itemColor"))},children:Object(x.jsx)(zt.a,{size:14})})})]})},Hn={idItem:"",idColor:"",colores:"",quantity:"1",coste:0},Wn=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).rawColor,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("ItemColors","RawsColors","name",1))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Materias con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Jn,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("rawColor",Hn))},children:Object(x.jsx)(pe.a,{size:14})})]})},Jn=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.RawsColors,s=n.rawColor[t],i=s.colores,o=s.quantity,l=s.idItem,d=s.idColor,j=l.name?Vt(l):null,u=d.name?Vt(d):null,m=function(e,c){var n=Mt(c);a(Be("rawColor",t,{name:e,value:n})),a(Tn("Items",t,"rawColor","rawColor","items"))},O=function(){var e=Object(q.a)(z.a.mark((function e(c){var n,r,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("accessToken")||"",e.next=3,H.a.get("".concat("https://betasfp.madetosoft.com","/items/itemColors/selectByIdItem/").concat(c.value),{headers:{"Content-type":"application/json","x-token":n}});case 3:r=e.sent,s=r.data.data,i=s.map((function(e){return{label:e.idColor.name,value:e.idColor.id}})),a(Be("rawColor",t,{name:"colores",value:i})),m("idItem",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Materia prima"}),Object(x.jsx)(it.a,{placeholder:"Materia prima",name:"idItem",options:r,onChange:function(e){O(e)},value:j})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsx)(it.a,{placeholder:"Color",name:"idColor",options:i,onChange:function(e){m("idColor",e)},value:u})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("rawColor",t,n)),a(Tn("Items",t,"rawColor","rawColor","items"))},value:o})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("rawColor",t)),a(In("items","rawColor"))},children:Object(x.jsx)(zt.a,{size:14})})})]})},_n=a(879),Gn=a.n(_n),Kn={idStatus:{validations:[tt.isRequired]},fabricationName:{validations:[tt.isRequired]}},Yn=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.c)((function(e){return e})).normalForm,n=Object(b.c)((function(e){return e})).formValidator,s=Object(b.c)((function(e){return e.ordersReducer})).price,i=a.price,o=void 0!==e?e:a.poolCode,l=Object(b.b)();Object(r.useEffect)((function(){void 0===e&&l(_e("Pools","poolCode")),l(Ke(Kn))}),[]),Object(r.useEffect)((function(){l(In("raws","items",1))}),[a]);var d=function(){var r=Object(q.a)(z.a.mark((function r(i){var o;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i.preventDefault(),o=et(n.schema,a),0!==Object.keys(o).length?l(Ye(o)):l(Je()).then((function(n){delete n.baseItems,delete n.baseItemColors;var r=Object(c.a)(Object(c.a)({},n),{},{cost:s,idStatus:kt(n.idStatus),items:a.items.map((function(e){return{quantity:e.quantity,idItem:kt(e.idItem)}})),raws:a.raws.map((function(e){return{quantity:e.quantity,idItem:kt(e.idItem)}})),itemColor:a.itemColor.map((function(e){return{quantity:e.quantity,idItem:kt(e.idItem),idColor:kt(e.idColor)}})),rawColor:a.rawColor.map((function(e){return{quantity:e.quantity,idItem:kt(e.idItem),idColor:kt(e.idColor)}}))});Q("Pools",e,r),l(Nt()),t.push("/pools")}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(Gn.a,{onSubmit:d,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Piscina"}),Object(x.jsx)("input",{className:"form-control",name:"poolCode",value:o,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{name:"fabricationName",label:"Nombre  de fabricaci\xf3n"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"simultaneousFabrications",type:"number",label:"N\xba m\xe1ximo de fabriaci\xf3n"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idStatus",label:"Estado",endpoint:"Status"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"nameEuropa",label:"Nombre Europa"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"nameSpace",label:"Nombre Space"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"nameSociedad",label:"Nombre Sociedad"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"nameHydryus",label:"Nombre Hydrus"})}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Precio"}),Object(x.jsx)("input",{className:"form-control",name:"price",placeholder:"Precio",onChange:function(e){var t=e.target;l(qe(t.name,t.value)),l(In("raws","items",1))},value:i})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Cost"}),Object(x.jsx)("input",{className:"form-control",name:"cost",value:s,readOnly:!0})]})]})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(An,{})})})}),Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Vn,{})})})})]}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Bn,{})})})}),Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Wn,{})})})})]}),Object(x.jsx)(Tt,{})]})},Xn={items:[],itemColor:[],raws:[],rawColor:[]},Qn=function(){Object(b.c)((function(e){return e.normalForm})).poolCode;var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm})),c=Object(b.c)((function(e){return e})).normalForm;Object(r.useEffect)((function(){e&&t(We("Pools",e)),t(Ve(Xn))}),[Ve]),Object(r.useEffect)((function(){void 0===c.id?t(_e("Pools","poolCode")):c.id}),[e]);var n=e?"Editar Piscina":"A\xf1adir Piscina",s=a.name?a.name:n;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:s,breadCrumbParent:"Piscinas",breadCrumbActive:n}),Object(x.jsx)(Yn,{})]})},Zn=[{path:"/pools",exact:!0,component:function(){return Object(x.jsx)(fn,{titulo:"Piscinas"})},meta:{action:"read",resource:"pools"}},{path:"/pools/add",exact:!0,component:function(){return Object(x.jsx)(Qn,{})},meta:{action:"insert",resource:"pools"}},{path:"/pools/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Qn,{})},meta:{action:"update",resource:"pools"}}],$n=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"5%"},{name:"Proveedor",selector:"idVendor",sortable:!0,searchable:!0,width:"25%"},{name:"Fecha de compra",selector:"purchaseDate",sortable:!0,searchable:!0,width:"15%"},{name:"Fecha de entrega",selector:"deliveryDate",sortable:!0,searchable:!0,width:"15%"},(Et={name:"Observaciones",selector:"observations",searchable:!0},Object(d.a)(Et,"searchable",!0),Object(d.a)(Et,"width","25%"),Et),{name:"Estado",sortable:!0,searchable:!0,width:"10%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:1===e.idStatus?Object(x.jsx)(le.a,{color:"light-primary",children:"Proceso"}):2===e.idStatus?Object(x.jsx)(le.a,{color:"light-danger",children:"Incompleto"}):3===e.idStatus?Object(x.jsx)(le.a,{color:"light-success",children:"Recibido"}):null})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[3!==e.idStatus?Object(x.jsxs)(x.Fragment,{children:[a.can("update","purchases")&&Object(x.jsx)(v.b,{to:"./purchases/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("actions","purchases")&&Object(x.jsx)(v.b,{to:"./purchases/verify/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(N.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Verificar"})]})})]}):3===e.idStatus&&a.can("update","purchases")&&Object(x.jsx)(v.b,{to:"./purchases/view/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","purchases")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],er=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Purchases")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:$n,data:c})},tr=function(e,t,a,c){return function(){var n=Object(q.a)(z.a.mark((function n(r){var s,i;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze(e,t);case 2:s=n.sent,i=s.cost,r(Be(c,a,{name:"cost",value:i}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ar=function(e,t,a,c){return function(){var n=Object(q.a)(z.a.mark((function n(r){var s,i;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ze(e,t);case 2:s=n.sent,i=s.stock,r(Be(c,a,{name:"stock",value:i}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},cr=function(e,t,a,c){return function(){var n=Object(q.a)(z.a.mark((function n(r,s){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(Be(a,c,{name:e,value:t}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},nr={idItem:[{id:"",name:""}],quantity:1},rr=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).items,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("ItemType","ItemType"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Art\xedculos / Materias primas sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(sr,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-1 btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("items",nr))},children:Object(x.jsx)(pe.a,{size:14})})]})},sr=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,s=c.selectReducer.ItemType,i=n.idVendor,o=n.items[t],l=o.itemType,d=o.idItem,j=o.stock,u=o.cost,m=o.itemsOpt,O=o.quantity,h=d?Vt(d):null,p=l?Vt(l):null,f=function(){var e=Object(q.a)(z.a.mark((function e(c){var n,r,s,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={itemType:c.value,idVendor:i?i.id:null},r=localStorage.getItem("accessToken"),e.next=4,H.a.post("".concat("https://betasfp.madetosoft.com","/items/item/listItems"),{nObj:n},{headers:{"Content-type":"application/json","x-token":r}});case 4:s=e.sent,o=s.data.data,a(cr("itemsOpt",o.map((function(e){return{label:e.name,value:e.id}})),"items",t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){l&&f({label:l.name,value:l.id})}),[l]);var v=function(e,c){var n=Mt(c);a(Be("items",t,{name:e,value:n}))},g=u?u*O:0;return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tipo Producto"}),Object(x.jsx)(it.a,{name:"itemType",options:s,onChange:function(e){f(e),v("itemType",e)},value:p})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)(it.a,{name:"item",options:m,onChange:function(e){!function(e){a(tr("Items",e.value,t,"items")),a(ar("Items",e.value,t,"items"))}(e),v("idItem",e)},value:h})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("items",t,n))},value:O})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Precio"}),Object(x.jsx)("input",{type:"text",name:"cost",className:"form-control",value:g,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Stock"}),Object(x.jsx)("input",{type:"text",name:"stock",className:"form-control",value:j,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("items",t))},children:Object(x.jsx)(zt.a,{size:14})})})]})},ir={quantity:1},or=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).itemColors,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("ItemType","ItemType"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Art\xedculos / Materias primas con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(lr,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-1 btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("itemColors",ir))},children:Object(x.jsx)(pe.a,{size:14})})]})},lr=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,s=c.selectReducer.ItemType,i=n.idVendor,o=n.itemColors[t],l=o.itemType,d=o.idItem,j=o.stock,u=o.cost,m=o.colores,O=o.idColor,h=o.itemsOpt,p=o.quantity,f=d?Vt(d):null,v=l?Vt(l):null,g=O?Vt(O):null,N=function(){var e=Object(q.a)(z.a.mark((function e(c){var n,r,s,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={itemType:c.value,idVendor:i?i.id:null},r=localStorage.getItem("accessToken"),e.next=4,H.a.post("".concat("https://betasfp.madetosoft.com","/items/itemColors/listItems"),{nObj:n},{headers:{"Content-type":"application/json","x-token":r}});case 4:s=e.sent,o=s.data.data,a(cr("itemsOpt",o.map((function(e){return{label:e.name,value:e.id}})),"itemColors",t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){l&&N({label:l.name,value:l.id})}),[l]);var y=function(e,c){var n=Mt(c);a(Be("itemColors",t,{name:e,value:n}))},C=function(){var e=Object(q.a)(z.a.mark((function e(c){var n,r,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("accessToken"),e.next=3,H.a.get("".concat("https://betasfp.madetosoft.com","/items/itemColors/selectByIdItem/").concat(c.value),{headers:{"Content-type":"application/json","x-token":n}});case 3:r=e.sent,s=r.data.data,i=s.map((function(e){return{label:e.idColor.name,value:e.idColor.id}})),a(Be("itemColors",t,{name:"colores",value:i})),y("idItem",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=u?u*p:0;return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tipo Producto"}),Object(x.jsx)(it.a,{name:"itemType",options:s,onChange:function(e){N(e),y("itemType",e)},value:v})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)(it.a,{name:"item",options:h,onChange:function(e){!function(e){a(tr("ItemColors",e.value,t,"itemColors")),a(ar("ItemColors",e.value,t,"itemColors"))}(e),y("idItem",e),C(e)},value:f})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsx)(it.a,{placeholder:"Color",name:"idColor",options:m,onChange:function(e){y("idColor",e)},value:g})]}),Object(x.jsxs)("div",{className:"col-md-1",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("itemColors",t,n))},value:p})]}),Object(x.jsxs)("div",{className:"col-md-1",children:[Object(x.jsx)("label",{className:"control-label",children:"Precio"}),Object(x.jsx)("input",{type:"text",name:"cost",className:"form-control",value:w,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-1",children:[Object(x.jsx)("label",{className:"control-label",children:"Stock"}),Object(x.jsx)("input",{type:"text",name:"stock",className:"form-control",value:j,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-1",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("itemColors",t))},children:Object(x.jsx)(zt.a,{size:14})})})]})},dr=function(){var e=Object(b.b)(),t=Object(f.i)().id,a=Object(b.c)((function(e){return e})).normalForm,c=void 0!==t?t:a.purchaseCode;Object(r.useEffect)((function(){void 0===a.id&&e(_e("Purchases","purchaseCode"))}),[]);var n=a.observations;Object(r.useEffect)((function(){e(jt("Vendors","Vendors","comercialName")),e(ut("Vendors","Vendors","comercialName"))}),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Pedido"}),Object(x.jsx)("input",{className:"form-control",name:"purchaseCode",value:c,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(mt,{name:"idVendor",label:"Proveedor",endpoint:"Vendors",labelName:"comercialName",onSelect:function(t){var a=t.value,c=t.label;e(qe("items",[])),e(qe("itemColors",[])),e(qe("idVendor",{id:a,comercialName:c}))}})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"purchaseDate",type:"date",label:"Fecha de compra"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"deliveryDate",type:"date",label:"Fecha de entrega"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("textarea",{className:"form-control",name:"observations",value:n,onChange:function(t){var a=t.target;e(qe(a.name,a.value))}})]})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(rr,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(or,{})})})]})},jr={items:[],itemColors:[]},ur={idVendor:{validations:[tt.isRequired]},purchaseDate:{validations:[tt.isRequired]},deliveryDate:{validations:[tt.isRequired]}},br=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e})),s=n.normalForm,i=n.formValidator,o=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&a(We("Purchases",e)),a(Ve(jr))}),[Ve]),Object(r.useEffect)((function(){void 0===s.id?a(_e("Purchases","purchaseCode")):purchaseCode=s.id,a(Ke(ur))}),[]);var l=e?"Editar Compra":"A\xf1adir Compra",d=o.purchasecod?o.comercialName:l,j=function(){var n=Object(q.a)(z.a.mark((function n(r){var l;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),l=et(i.schema,s),0!==Object.keys(l).length?a(Ye(l)):a(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=Object(c.a)(Object(c.a)({},r),{},{idVendor:kt(r.idVendor),items:o.items.map((function(e){return{idItem:kt(e.idItem),quantity:e.quantity}})),itemColors:o.itemColors.map((function(e){return{idItem:kt(e.idItem),idColor:kt(e.idColor),quantity:e.quantity}}))}),Q("Purchases",e,s),a(Nt),t.push("/purchases");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:j,children:[Object(x.jsx)($e.a,{breadCrumbTitle:d,breadCrumbParent:"Compras",breadCrumbActive:l}),Object(x.jsx)(dr,{}),Object(x.jsx)(Tt,{})]})})},mr=function(e){if(null!==e){var t=e.getMonth()+1,a=e.getFullYear();t=t>=10?t:"0".concat(t);var c=e.getDate();return c=c>=10?c:"0".concat(c),"".concat(c,"/").concat(t,"/").concat(a)}},Or=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).items,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("ItemType","ItemType"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Art\xedculos sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(hr,{position:e})},e)}})]})},hr=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})).normalForm.items[t],n=c.itemType,r=c.idItem,s=c.recived,i=c.quantity,o=s?parseInt(s):0,l=r?Vt(r):null,d=n?Vt(n):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tipo Producto"}),Object(x.jsx)("h6",{children:d.label})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)("h6",{children:l.label})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad pedida"}),Object(x.jsx)("h6",{children:i+o})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad pendiente"}),Object(x.jsx)("h6",{children:i})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad recibida"}),Object(x.jsx)("input",{type:"number",name:"recived2",className:"form-control",max:i,readonly:0===i?"readonly":null,placeholder:o,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("items",t,n))}})]})]})},xr=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).itemColors,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("ItemType","ItemType"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Art\xedculos con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(pr,{position:e})},e)}})]})},pr=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})).normalForm.itemColors[t],n=c.itemType,r=c.idItem,s=c.idColor,i=c.recived,o=c.quantity,l=i?parseInt(i):0,d=r?Vt(r):null,j=n?Vt(n):null,u=s?Vt(s):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tipo Producto"}),Object(x.jsx)("h6",{children:j.label})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsxs)("h6",{children:[d.label," ",Object(x.jsx)("br",{})," ","(".concat(u.label,")")," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad pedida"}),Object(x.jsx)("h6",{children:o+l})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad pendiente"}),Object(x.jsx)("h6",{children:o})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad recibida"}),Object(x.jsx)("input",{type:"number",name:"recived2",className:"form-control",max:o,readonly:0===o?"readonly":null,placeholder:l,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("itemColors",t,n))}})]})]})},fr=function(){var e=Object(b.c)((function(e){return e.normalForm})).purchaseCode,t=Object(b.b)(),a=Object(b.c)((function(e){return e})).normalForm;Object(r.useEffect)((function(){void 0===a.id?t(_e("Purchases","purchaseCode")):e=a.id}),[]);var c=a.observations,n=a.purchaseDate,s=a.deliveryDate;Object(r.useEffect)((function(){t(jt("Vendors","Vendors","comercialName"))}),[]);var i=a.idVendor?Vt(a.idVendor,"comercialName"):"";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Pedido"}),Object(x.jsx)("h6",{children:e})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Proveedor"}),Object(x.jsx)("h6",{children:i.label})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de compra"}),Object(x.jsx)("h6",{children:mr(new Date(n))})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de entrega"}),Object(x.jsx)("h6",{children:mr(new Date(s))})]}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("h6",{children:c})]})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Or,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(xr,{})})})]})},vr=function(){var e=Object(q.a)(z.a.mark((function e(t){var a,c,n=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:null,a=n.length>2?n[2]:void 0,c=localStorage.getItem("accessToken")||"",e.next=5,H.a.put("".concat("https://betasfp.madetosoft.com").concat(W[t],"/verify"),{form:a},{headers:{"Content-type":"application/json","x-token":c}});case 5:return e.next=7,K(t,3);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gr={items:[]},Nr=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&a(We("Purchases",e)),a(Ve(gr))}),[Ve]);var s="Verificar Compra",i=n.purchasecod?n.comercialName:s,o=function(){var a=Object(q.a)(z.a.mark((function a(r){var s;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),s=Object(c.a)(Object(c.a)({},n),{},{items:n.items.map((function(e){var t=e.recived2?e.recived2:0;return{id:e.id,idItem:kt(e.idItem),quantity:e.quantity-t,recived:t}})),itemColors:n.itemColors.map((function(e){var t=e.recived2?e.recived2:0;return{id:e.id,idItem:kt(e.idItem),idColor:kt(e.idColor),quantity:e.quantity-t,recived:t}}))}),a.next=4,vr("Purchases",e,s);case 4:t.push("/purchases");case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:o,children:[Object(x.jsx)($e.a,{breadCrumbTitle:i,breadCrumbParent:"Compras",breadCrumbActive:s}),Object(x.jsx)(fr,{}),Object(x.jsx)(Tt,{})]})})},yr=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).items,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("ItemType","ItemType"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Productos"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Cr,{position:e})},e)}})]})},Cr=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})).normalForm,n=c.idVendor,s=c.items[t],i=s.itemType,o=s.idItem,l=s.recived,d=s.quantity,j=(l&&parseInt(l),o?Vt(o):null),u=i?Vt(i):null,m=function(){var e=Object(q.a)(z.a.mark((function e(c){var r,s,i,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={itemType:c.value,idVendor:n?n.id:null},s=localStorage.getItem("accessToken"),e.next=4,H.a.post("".concat("https://betasfp.madetosoft.com","/items/item/listItems"),{nObj:r},{headers:{"Content-type":"application/json","x-token":s}});case 4:i=e.sent,o=i.data.data,a(cr("itemsOpt",o.map((function(e){return{label:e.name,value:e.id}})),"items",t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i&&m({label:i.name,value:i.id})}),[i]),Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tipo Producto"}),Object(x.jsx)("h6",{children:u.label})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)("h6",{children:j.label})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad pedida"}),Object(x.jsx)("h6",{children:d})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad pendiente"}),Object(x.jsx)("h6",{children:"0"})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad recibida"}),Object(x.jsx)("h6",{children:l})]})]})},wr=function(){var e=Object(b.c)((function(e){return e.normalForm})).purchaseCode,t=Object(b.b)(),a=Object(b.c)((function(e){return e})).normalForm;Object(r.useEffect)((function(){void 0===a.id?t(_e("Purchases","purchaseCode")):e=a.id}),[]);var c=a.observations,n=a.purchaseDate,s=a.deliveryDate;Object(r.useEffect)((function(){t(jt("Vendors","Vendors","comercialName")),t(startAddSelectStatus("Vendors","Vendors","comercialName"))}),[]);var i=a.idVendor?Vt(a.idVendor,"comercialName"):"";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Pedido"}),Object(x.jsx)("h6",{children:e})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Proveedor"}),Object(x.jsx)("h6",{children:i.label})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de compra"}),Object(x.jsx)("h6",{children:n})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de entrega"}),Object(x.jsx)("h6",{children:s})]}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("h6",{children:c})]})]})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(yr,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(ViewItemsRepeaterColor,{})})})]})},kr={items:[],itemsColors:[]},Fr=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)();Object(r.useEffect)((function(){e&&a(We("Purchases",e)),a(Ve(kr))}),[Ve]);var c="Ver Compra",n=function(){var e=Object(q.a)(z.a.mark((function e(a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t.push("/purchases");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:n,children:[Object(x.jsx)($e.a,{breadCrumbTitle:c,breadCrumbParent:"Compras",breadCrumbActive:c}),Object(x.jsx)(wr,{}),Object(x.jsx)(Tt,{})]})})},Ir=[{path:"/purchases",exact:!0,component:function(){return Object(x.jsx)(er,{titulo:"Compras"})},meta:{action:"read",resource:"purchases"}},{path:"/purchases/add",exact:!0,component:function(){return Object(x.jsx)(br,{})},meta:{action:"insert",resource:"purchases"}},{path:"/purchases/edit/:id",exact:!0,component:function(){return Object(x.jsx)(br,{})},meta:{action:"update",resource:"purchases"}},{path:"/purchases/verify/:id",exact:!0,component:function(){return Object(x.jsx)(Nr,{})},meta:{action:"actions",resource:"purchases"}},{path:"/purchases/view/:id",exact:!0,component:function(){return Object(x.jsx)(Fr,{})},meta:{action:"actions",resource:"purchases"}}],Tr=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"45%"},{name:"Stock reservado",selector:"reserveStock",sortable:!0,searchable:!0,width:"20%"},{name:"Stock en almac\xe9n",selector:"stock",sortable:!0,searchable:!0,width:"20%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","items")&&Object(x.jsx)(v.b,{to:"./items/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","items")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Dr=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Items")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Tr,data:c})},Rr={itemType:{validations:[tt.isRequired]},idVendor:{validations:[tt.isRequired]},idFamily:{validations:[tt.isRequired]},idPlace:{validations:[tt.isRequired]}},Er=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(f.g)(),n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator,l=i.description,d=void 0!==e?e:i.itemCode;Object(r.useEffect)((function(){t(jt("ItemType","ItemType")),t(ut("Vendors","Vendors","comercialName")),void 0===e&&t(_e("Items","itemCode")),t(Ke(Rr))}),[]);var j=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?t(Ye(i)):(l=Object(c.a)(Object(c.a)({},n),{},{idVendor:kt(n.idVendor),itemType:kt(n.itemType),idFamily:kt(n.idFamily),idPlace:kt(n.idPlace),show:kt(n.show)}),Q("Items",e,l),t(Nt()),a.push("/items"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:j,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Art\xedculo"}),Object(x.jsx)("input",{className:"form-control",name:"itemCode",value:d,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)(st,{name:"name",label:"Nombre"})}),Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)(st,{name:"name_fr",label:"Nombre Franc\xe9s",placeholder:"Nombre"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idFamily",label:"Familia",endpoint:"Family"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{required:"true",name:"itemType",label:"Tipo de art\xedculo",endpoint:"ItemType"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{required:"true",name:"idVendor",label:"Proveedor",endpoint:"Vendors",labelName:"comercialName"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idPlace",label:"Ubicaci\xf3n",endpoint:"Place"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"stock",label:"Stock"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"minimumStock",label:"Stock m\xednimo"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"priceVATout",label:"Precio sin IVA"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"priceVATin",label:"Precio con IVA"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"cost",label:"Coste"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"maximumCost",label:"Coste m\xe1ximo"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"show",label:"Mostrar en albaran",endpoint:"Show"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Descripci\xf3n"}),Object(x.jsx)("textarea",{className:"form-control",name:"description",placeholder:"Descripci\xf3n",value:l,onChange:function(e){var a=e.target;t(qe(a.name,a.value))}})]})]})}),Object(x.jsx)(Tt,{})]})},Sr={},Pr=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Items",e)),t(Ve(Sr))}),[Ve]);var c=e?"Editar Art\xedculo":"A\xf1adir Art\xedculo",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Art\xedculos",breadCrumbActive:c}),Object(x.jsx)(Er,{})]})},Ar=[{path:"/items",exact:!0,component:function(){return Object(x.jsx)(Dr,{titulo:"Art\xedculos"})},meta:{action:"read",resource:"items"}},{path:"/items/add",exact:!0,component:function(){return Object(x.jsx)(Pr,{})},meta:{action:"insert",resource:"items"}},{path:"/items/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Pr,{})},meta:{action:"update",resource:"items"}}],zr=a(1116),qr=(a(880),function(e){var t=e.name,a=e.label,n=e.className,s=e.placeholder,i=void 0===s?a:s,o=e.endpoint,l=Object(f.i)().id,d=Object(b.b)(),j=Object(b.c)((function(e){return e.normalForm})),u=Object(b.c)((function(e){return e.selectReducer}))[o],m=(j||null).parent;return Object(r.useEffect)((function(){var e,t,a;d((e=o,t=o,a=l,function(){var n=Object(q.a)(z.a.mark((function n(r){var s,i;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[e],"/select"),{idNode:a},{headers:{"Content-type":"application/json","x-token":lt}});case 2:s=n.sent,i=s.data.data,r(dt(t,i.map((function(e){return Object(c.a)({},e)}))));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("label",{className:"control-label",children:a}),Object(x.jsx)(zr.a,{className:"".concat(n),name:t,value:m,treeData:u,placeholder:i,onChange:function(e){parseInt(l)===e?(M.a.fire({icon:"error",title:"Error",text:"\xa1La familia no puede ser padre de si misma!"}),d(qe(t,null))):d(qe(t,e))},style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeDefaultExpandAll:!0})]})}),Vr={name:{validations:[tt.isRequired]}},Mr=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator;Object(r.useEffect)((function(){e||a(_e("Family","id")),a(Ke(Vr))}),[]);var l=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?a(Ye(i)):(l=Object(c.a)({},n),Q("Family",e,l),a(Nt()),t.push("/items/family"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Familia"}),Object(x.jsx)("input",{className:"form-control",name:"id",value:i.id,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)(st,{required:"true",name:"name",label:"Nombre",endpoint:"Family"})}),Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)(qr,{name:"parent",label:"Padre",endpoint:"Family"})})]})}),Object(x.jsx)(Tt,{})]})},Lr={},Br=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Family",e)),t(Ve(Lr))}),[Ve]);var c=e?"Editar Familia":"A\xf1adir Familia",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Familias",breadCrumbActive:c}),Object(x.jsx)(Mr,{})]})},Ur=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"10%"},{name:"Nombre",selector:"name",sortable:!0,searchable:!0,minWidth:"100px"},{name:"Padre",selector:"parent",sortable:!0,searchable:!0,minWidth:"100px"},{name:"Acciones",searchable:!0,width:"150px",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","family")&&Object(x.jsx)(v.b,{to:"./family/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","family")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Hr=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Family")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Ur,data:c})},Wr=[{path:"/items/family",exact:!0,component:function(){return Object(x.jsx)(Hr,{titulo:"Familias"})},meta:{action:"read",resource:"family"}},{path:"/items/family/add",exact:!0,component:function(){return Object(x.jsx)(Br,{})},meta:{action:"insert",resource:"family"}},{path:"/items/family/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Br,{})},meta:{action:"update",resource:"family"}}],Jr=function(){var e=Object(b.c)((function(e){return e.normalForm})).baseItems,t=e?e.length:0;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Productos base"}),Object(x.jsx)(At,{count:t,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(_r,{position:e})},e)}})]})},_r=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})).normalForm.baseItems[t],n=c.name,r=c.quantity;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)("input",{type:"text",name:"name",className:"form-control",value:n,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"text",name:"quantity",className:"form-control",value:r,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("baseItems",t,n))}})]}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Rn(t)),a(Le("baseItems",t))},children:Object(x.jsx)(zt.a,{size:14})})})]})},Gr={idItem:"",quantity:1,coste:0},Kr=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).extraItems,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("Items","Items","name",2))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Productos extras sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Yr,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("extraItems",Gr))},children:Object(x.jsx)(pe.a,{size:14})})]})},Yr=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.Items,s=n.extraItems[t],i=s.idItem,o=s.quantity,l=i?Vt(i):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)(it.a,{placeholder:"Art\xedculo",name:"idItem",value:l,options:r,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("extraItems",t,{name:e,value:n})),a(Tn("Items",t,"extraItems","extraItems"))}("idItem",e)}})]}),Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("extraItems",t,n)),a(Tn("Items",t,"extraItems","extraItems"))},value:o})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("extraItems",t)),a(In("extraItems",""))},children:Object(x.jsx)(zt.a,{size:14})})})]})},Xr=a(663),Qr=a(712),Zr=function(e){var t=e.el,a=e.i,n=e.imageObj,s=e.isSelected,i=e.onChange,o=e.onDragEnd,l=e.onSelect,d=e.onClone,j=e.draggable,u=void 0===j||j,b=Object(r.useRef)(),m=Object(r.useRef)();return Object(r.useEffect)((function(){s&&(m.current.nodes([b.current]),m.current.getLayer().batchDraw())}),[s]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Qr.a,{pos:a,ref:b,id:t.id,x:t.x,y:t.y,width:50,height:50,image:n,onDragEnd:o,onClick:l,onDblClick:d,onTransformEnd:function(e){var a=b.current;i(Object(c.a)(Object(c.a)({},t),{},{x:a.x(),y:a.y(),rotation:a.rotation()}))},draggable:u,scaleX:t.isDragging?1.2:1,scaleY:t.isDragging?1.2:1,imgUrl:t.imgUrl,rotation:t.rotation},t.id),s&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Qr.e,{ref:m,resizeEnabled:!1})})]})},$r=function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),a=t[0],s=t[1],i=Object(b.b)(),o=Object(b.c)((function(e){return e.canvasReducer})).elements,l=function(e){var t=Object(c.a)(Object(c.a)({},e.target.attrs),{},{x:e.target.attrs.x,y:e.target.attrs.y});i(Nn("elements",e.target.attrs.pos,t))},d=function(e){var t=Object(c.a)(Object(c.a)({},e),{},{x:e.x,y:e.y,rotation:e.rotation});i(Nn("elements",e.pos,t))},j=function(e){var t,a;i((t="elements",a=e.target.attrs.pos,function(){var e=Object(q.a)(z.a.mark((function e(c,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({type:gn.a.CloneElement,payload:{key:t,position:a}});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))},u=function(e){e.target===e.target.getStage()&&s(null)},m=function(){var e=Object(q.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.fire({title:"\xbfEst\xe1s seguro que quieres eliminar el elemento?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"\xa1Si, eliminalo!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then((function(e){if(e.value)M.a.fire({icon:"success",title:"\xa1Eliminado!",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),i((t="elements",c=a,{type:gn.a.RemoveElement,payload:{key:t,position:c}})),s(null);else if(e.dismiss===M.a.DismissReason.cancel)return M.a.fire({title:"\xa1Cancelado!",icon:"error",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}}),!1;var t,c}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[a?Object(x.jsx)("div",{className:"row-reverse",children:Object(x.jsx)("div",{className:"float-right",children:Object(x.jsx)(Fe.a.Ripple,{onClick:m,className:"btn-icon",color:"danger",children:Object(x.jsx)(Xr.a,{size:20})})})}):Object(x.jsx)("div",{className:"row-reverse",children:Object(x.jsx)("div",{className:"float-right",children:"\xa0"})}),Object(x.jsx)("h1",{className:"card-title mb-2",children:"Composici\xf3n"}),Object(x.jsx)(Qr.d,{width:window.innerWidth,height:window.innerHeight-300,onMouseDown:u,onTouchStart:u,children:Object(x.jsxs)(Qr.b,{children:[Object(x.jsx)(Qr.c,{x:300,y:50,height:window.innerHeight-300,width:1,stroke:"#474747",cornerRadius:25,strokeWidth:1}),Object(x.jsx)(Qr.c,{x:500,y:100,width:window.innerWidth/2.5,height:400,fill:"#C7E0FF",stroke:"#474747",cornerRadius:25,strokeWidth:2,opacity:.4}),Object(x.jsx)(Qr.c,{x:600,y:100,height:400,width:1,stroke:"#474747",cornerRadius:25,strokeWidth:1}),Object(x.jsx)(Qr.c,{x:550,y:100,height:400,width:1,stroke:"#474747",cornerRadius:25,strokeWidth:1}),o.map((function(e,t){var c=new window.Image(50,50),n=e.imgUrl;return c.src=n,t<6?Object(x.jsx)(Zr,{el:e,i:t,imageObj:c,draggable:!1,onClone:j}):Object(x.jsx)(Zr,{el:e,i:t,imageObj:c,isSelected:t===a,onDragEnd:l,onChange:d,onClone:j,onSelect:function(){s(t)}})}))]})})]})},es={idItem:"",quantity:1,coste:0},ts=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).extraRaws,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("Items","Raws","name",1))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Materiales extras sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(as,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("extraRaws",es))},children:Object(x.jsx)(pe.a,{size:14})})]})},as=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.Raws,s=n.extraRaws[t],i=s.idItem,o=s.quantity,l=i?Vt(i):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Materia"}),Object(x.jsx)(it.a,{placeholder:"Materia",name:"idItem",value:l,options:r,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("extraRaws",t,{name:e,value:n})),a(Tn("Items",t,"extraRaws","extraRaws"))}("idItem",e)}})]}),Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("extraRaws",t,n)),a(Tn("Items",t,"extraRaws","extraRaws"))},value:o})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("extraRaws",t)),a(In("extraRaws",""))},children:Object(x.jsx)(zt.a,{size:14})})})]})},cs=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/validate"),{form:a},{headers:{"Content-type":"application/json","x-token":c}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ns={idItem:"",idColor:"",colores:"",quantity:1,coste:0},rs=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).extraItemColors,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("ItemColors","ItemColors","name",2))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Productos extras con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(ss,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("extraItemColors",ns))},children:Object(x.jsx)(pe.a,{size:14})})]})},ss=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.ItemColors,s=n.extraItemColors[t],i=s.idItem,o=s.colores,l=s.idColor,d=s.quantity,j=i?Vt(i):null,u=l.name?Vt(l):null,m=function(e,c){var n=Mt(c);a(Be("extraItemColors",t,{name:e,value:n})),a(Tn("ItemColors",t,"extraItemColors","extraItemColors"))},O=function(){var e=Object(q.a)(z.a.mark((function e(c){var n,r,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("accessToken"),e.next=3,H.a.get("".concat("https://betasfp.madetosoft.com","/items/itemColors/selectByIdItem/").concat(c.value),{headers:{"Content-type":"application/json","x-token":n}});case 3:r=e.sent,s=r.data.data,i=s.map((function(e){return{label:e.idColor.name,value:e.idColor.id}})),a(Be("extraItemColors",t,{name:"colores",value:i})),m("idItem",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)(it.a,{placeholder:"Art\xedculo",name:"idItem",value:j,options:r,onChange:function(e){O(e)}})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsx)(it.a,{placeholder:"Color",name:"idColor",options:o,onChange:function(e){m("idColor",e)},value:u})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("extraItemColors",t,n)),a(Tn("ItemColors",t,"extraItemColors","extraItemColors"))},value:d})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("extraItemColors",t)),a(In("extraItemColors",""))},children:Object(x.jsx)(zt.a,{size:14})})})]})},is={idItem:"",idColor:"",colores:"",quantity:1,coste:0},os=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).extraRawColors,a=t?t.length:0;return Object(r.useEffect)((function(){e(bt("ItemColors","RawColors","name",1))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Materiales extras con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(ls,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("extraRawColors",is))},children:Object(x.jsx)(pe.a,{size:14})})]})},ls=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.RawColors,s=n.extraRawColors[t],i=s.idItem,o=s.colores,l=s.idColor,d=s.quantity,j=i?Vt(i):null,u=l.name?Vt(l):null,m=function(e,c){var n=Mt(c);a(Be("extraRawColors",t,{name:e,value:n})),a(Tn("RawColors",t,"extraRawColors","extraRawColors"))},O=function(){var e=Object(q.a)(z.a.mark((function e(c){var n,r,s,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("accessToken"),e.next=3,H.a.get("".concat("https://betasfp.madetosoft.com","/items/itemColors/selectByIdItem/").concat(c.value),{headers:{"Content-type":"application/json","x-token":n}});case 3:r=e.sent,s=r.data.data,i=s.map((function(e){return{label:e.idColor.name,value:e.idColor.id}})),a(Be("extraRawColors",t,{name:"colores",value:i})),m("idItem",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Materia"}),Object(x.jsx)(it.a,{placeholder:"Materia",name:"idItem",value:j,options:r,onChange:function(e){O(e)}})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsx)(it.a,{placeholder:"Color",name:"idColor",options:o,onChange:function(e){m("idColor",e)},value:u})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("extraRawColors",t,n)),a(Tn("RawColors",t,"extraRawColors","extraRawColors"))},value:d})]}),Object(x.jsx)("div",{className:"col-md-2 ",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("extraRawColors",t)),a(In("extraRawColors",""))},children:Object(x.jsx)(zt.a,{size:14})})})]})},ds=function(){var e=Object(b.c)((function(e){return e.normalForm})).baseItemColors,t=e?e.length:0;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Productos base con color"}),Object(x.jsx)(At,{count:t,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(js,{position:e})},e)}})]})},js=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})).normalForm.baseItemColors[t],n=c.name,r=c.quantity,s=c.colores,i=c.idColor,o=i.name?Vt(i):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)("input",{type:"text",name:"name",className:"form-control",value:n,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsx)(it.a,{placeholder:"Color",name:"idColor",options:s,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("baseItemColors",t,{name:e,value:n}))}("idColor",e)},value:o})]}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"text",name:"quantity",className:"form-control",value:r,onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("baseItemColors",t,n))}})]}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Rn(t)),a(Le("baseItemColors",t))},children:Object(x.jsx)(zt.a,{size:14})})})]})},us=function(e){return new Promise(function(){var t=Object(q.a)(z.a.mark((function t(a,c){var n,r,s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.get("".concat("https://betasfp.madetosoft.com").concat(W[e],"/listNotification"));case 2:n=t.sent,r=n.data,s=[],r.data.forEach((function(e){s.push({subtitle:e.date,title:e.message})})),a(s);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},bs=a(126),ms={idCustomer:{validations:[tt.isRequired]},idPool:{validations:[tt.isRequired]},orderDate:{validations:[tt.isRequired]},productionDate:{validations:[tt.isRequired]},deliveryDate:{validations:[tt.isRequired]},idColor:{validations:[tt.isRequired]},idTax:{validations:[tt.isRequired]}},Os=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.c)((function(e){return e.ordersReducer})).price,n=Object(b.b)(),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator,l=s.canvasReducer,j=i.observations,u=i.orderDate?i.orderDate:"",m=i.productionDate?i.productionDate:"",O=i.deliveryDate?i.deliveryDate:"",h=void 0!==e?e:i.orderCode,p=function(e){var t=e.target;n(qe(t.name,t.value))};Object(r.useEffect)((function(){void 0===e&&n(_e("Orders","orderCode")),n(Ke(ms))}),[]);var v=function(){n(In("extraItems",""))},g=function(){var a=Object(q.a)(z.a.mark((function a(r){var s;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.preventDefault(),s=et(o.schema,i),0!==Object.keys(s).length?n(Ye(s)):n(Je()).then(function(){var a=Object(q.a)(z.a.mark((function a(r){var s;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return delete(s=Object(c.a)(Object(c.a)({},r),{},{customerData:{id:r.id,deliveryAddress:r.deliveryAddress,phone:r.phone,email:r.email},idPool:kt(r.idPool),idTax:kt(r.idTax),idColor:kt(r.idColor),idCustomer:kt(r.idCustomer),baseItems:r.baseItems.map((function(e){return{idItem:e.idItem,quantity:e.quantity}})),baseItemColors:r.baseItemColors.map((function(e){return{idItem:e.idItem,quantity:e.quantity,idColor:kt(e.idColor)}})),extraItems:r.extraItems.map((function(e){return{idItem:e.idItem.id,quantity:e.quantity}})),extraRaws:r.extraRaws.map((function(e){return{idItem:e.idItem.id,quantity:e.quantity}})),extraItemColors:r.extraItemColors.map((function(e){return{idItem:e.idItem.id,quantity:e.quantity,idColor:kt(e.idColor)}})),extraRawColors:r.extraRawColors.map((function(e){return{idItem:e.idItem.id,quantity:e.quantity,idColor:kt(e.idColor)}})),canvas:l.elements.map((function(e){return{id:e.id,idElemento:e.idElemento,name:e.name,x:e.x,y:e.y,rotation:e.rotation}}))})).canvasItems,delete s.deliveryAddress,delete s.phone,delete s.email,a.next=7,cs("Orders",{productionDate:s.productionDate,idPool:s.idPool});case 7:!0===a.sent?(Q("Orders",e,s),n(Nt()),t.push("/orders")):M.a.fire({title:"\xa1Error!",text:"Ya has alcanzado el n\xfamero m\xe1ximo de fabricaciones simult\xe1neas para esa piscina ese d\xeda",icon:"error",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"btn btn-success"}});case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:g,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Order"}),Object(x.jsx)("input",{className:"form-control",name:"orderCode",value:h,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(mt,{label:"Cliente",name:"idCustomer",onSelect:function(e){!function(e,t){var a=t.value,c=t.label,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name";n(qe(e,Object(d.a)({id:a},r,c))),n(Sn(a))}("idCustomer",e,"comercialName")},endpoint:"Customers",labelName:"comercialName"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"deliveryAddress",label:"Direcci\xf3n"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"phone",label:"Tel\xe9fono"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"email",label:"Correo Electr\xf3nico"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idPool",label:"Piscina",onSelect:function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name";n(Dn(e.value)),n(qe("idPool",Object(d.a)({id:e.value},t,e.label))),v()}(e,"fabricationName")},endpoint:"Pools",labelName:"fabricationName"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idColor",label:"Colores",endpoint:"Colors"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(mt,{name:"idTax",label:"IVA",onSelect:function(e){!function(e){n(qe("idTax",{id:e.value,name:e.label})),v()}(e)},endpoint:"Taxes"})}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label d-flex",children:"Precio"}),Object(x.jsx)(st,{className:"form-control",name:"price",value:a,readonly:"readonly"})]}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{className:"form-control",label:"Fecha de pedido",type:"date",name:"orderDate",value:u,onChange:p})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{className:"form-control",label:"Fecha de producci\xf3n",type:"date",name:"productionDate",value:m,onChange:p})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{className:"form-control",label:"Fecha de entrega",type:"date",name:"deliveryDate",value:O,onChange:p})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"deliverySchedulerStart",type:"time",label:"Inicio de Horario de entrega"})}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(st,{name:"deliverySchedulerEnd",type:"time",label:"Fin de Horario de entrega"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsx)("textarea",{className:"form-control",name:"observations",value:j,onChange:p})]})]})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Jr,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(ds,{})})})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Kr,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(ts,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(rs,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(os,{})})})]})]}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)($r,{})})}),Object(x.jsx)(Tt,{})]})},hs={baseItems:[],baseItemColors:[],extraRaws:[],extraRawColors:[],extraItems:[],extraItemColors:[]},xs=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e?(t(We("Orders",e)),t(wn("Orders",e))):(t(En(0)),t(kn())),t(Ve(hs))}),[Ve]),Object(r.useEffect)((function(){t(En())}),[a]);var c=e?"Editar Pedido":"A\xf1adir Pedido",n=a.ordercod?a.idOrder:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Pedidos",breadCrumbActive:c}),Object(x.jsx)(Os,{})]})},ps=a(664),fs=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"cliente",selector:"customerName",sortable:!0,searchable:!0,width:"15%"},{name:"Tel\xe9fono",selector:"customerPhone",searchable:!0,width:"10%"},{name:"correo Electr\xf3nico",selector:"customerEmail",searchable:!0,width:"15%"},{name:"Fecha de entrega",selector:"deliveryDate",sortable:!0,searchable:!0,width:"8%"},(St={name:"horario de entrega",selector:"deliveryTime",searchable:!0},Object(d.a)(St,"searchable",!0),Object(d.a)(St,"width","12%"),St),{name:"Fecha de pedido",selector:"orderDate",sortable:!0,searchable:!0,width:"8%"},{name:"precio",selector:"price",sortable:!0,searchable:!0,width:"10%",cell:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:xn(e.price)})})}},{name:"Estado",sortable:!0,searchable:!0,width:"10%",cell:function(e){var t=e.state;return Object(x.jsx)(x.Fragment,{children:1===t?Object(x.jsx)(le.a,{color:"light-success",children:"Finalizado"}):Object(x.jsx)(le.a,{color:"light-danger",children:"En proceso"})})}},{width:"5%",searchable:!0,cell:function(e){var t=Object(b.b)(),a=e.idProductionStatus,c=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[c.can("update","orders")&&Object(x.jsx)(v.b,{to:"./orders/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),c.can("actions","orders")&&a>=5&&Object(x.jsx)(v.b,{onClick:function(a){t(function(e,t){var a=e.idOrder,c=e.idCustomer;return function(){var e=Object(q.a)(z.a.mark((function e(n,r){var s,i,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r().selectReducer.Carriers,e.next=3,Z(s);case 3:i=e.sent,o={idStatus:2,idCarrier:i,idOrder:a,idCustomer:c,signature:""},!1!==i&&Q(t,null,o);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}({idOrder:e.id,idCustomer:e.idCustomer},"Delivery"))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(ps.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Albar\xe1n pedido"})]})}),c.can("delete","orders")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],vs=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(yn()),a(Ue()),a(ce("Orders")),a(ut("Carriers","Carriers","name")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:fs,data:c})},gs=[{path:"/orders",exact:!0,component:function(){return Object(x.jsx)(vs,{titulo:"Pedidos"})},meta:{action:"read",resource:"orders"}},{path:"/orders/add",exact:!0,component:function(){return Object(x.jsx)(xs,{})},meta:{action:"insert",resource:"orders"}},{path:"/orders/edit/:id",exact:!0,component:function(){return Object(x.jsx)(xs,{})},meta:{action:"update",resource:"orders"}}],Ns=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})),a=(t.orderData?t.orderData:"").baseItems,c=a?a.length:0;return Object(r.useEffect)((function(){e(jt("Items","idOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Productos Por Defecto"}),Object(x.jsx)(At,{count:c,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(ys,{position:e})},e)}})]})},ys=function(e){var t=e.position,a=Object(b.c)((function(e){return e})).normalForm,c=a.orderData?a.orderData.baseItems[t]:"",n=c.name,r=c.quantity;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)("input",{type:"text",name:"name",className:"form-control",value:n,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"text",name:"quantity",className:"form-control",value:r,readOnly:!0})]})]})},Cs=function(){var e=Object(b.c)((function(e){return e.normalForm})),t=(e.orderData?e.orderData:"").extraItems,a=t?t.length:0;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Productos extras sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(ws,{position:e})},e)}})]})},ws=function(e){var t=e.position,a=Object(b.c)((function(e){return e})).normalForm,c=a.orderData?a.orderData.extraItems[t]:"",n=c.idItem,r=c.quantity,s=n?Vt(n):"";return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)("input",{type:"text",name:"idItem",className:"form-control",value:s.label,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:r,readOnly:!0})]})]})},ks=function(e){var t=e.el,a=e.i,c=e.imageObj,n=Object(r.useRef)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Qr.a,{pos:a,ref:n,id:t.id,x:t.x,y:t.y,width:50,height:50,image:c,scaleX:t.isDragging?1.2:1,scaleY:t.isDragging?1.2:1,imgUrl:t.imgUrl,rotation:t.rotation},t.id)})},Fs=function(){var e=Object(b.c)((function(e){return e.canvasReducer})).elements;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Composici\xf3n"}),Object(x.jsx)(Qr.d,{width:window.innerWidth,height:window.innerHeight-300,children:Object(x.jsxs)(Qr.b,{children:[Object(x.jsx)(Qr.c,{x:300,y:50,height:window.innerHeight-300,width:1,stroke:"#474747",cornerRadius:25,strokeWidth:1}),Object(x.jsx)(Qr.c,{x:500,y:100,width:window.innerWidth/2.5,height:400,fill:"#C7E0FF",stroke:"#474747",cornerRadius:25,strokeWidth:2,opacity:.4}),Object(x.jsx)(Qr.c,{x:600,y:100,height:400,width:1,stroke:"#474747",cornerRadius:25,strokeWidth:1,opacity:.4}),Object(x.jsx)(Qr.c,{x:550,y:100,height:400,width:1,stroke:"#474747",cornerRadius:25,strokeWidth:1,opacity:.4}),e.map((function(e,t){var a=new window.Image(50,50),c=e.imgUrl;return a.src=c,Object(x.jsx)(ks,{el:e,i:t,imageObj:a})}))]})})]})},Is=function(){var e=Object(b.c)((function(e){return e.normalForm})),t=(e.orderData?e.orderData:"").extraRaws,a=t?t.length:0;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Materiales extras sin color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Ts,{position:e})},e)}})]})},Ts=function(e){var t=e.position,a=Object(b.c)((function(e){return e})).normalForm,c=a.orderData?a.orderData.extraRaws[t]:"",n=c.idItem,r=c.quantity,s=n?Vt(n):"";return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)("input",{type:"text",name:"idItem",className:"form-control",value:s.label,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:r,readOnly:!0})]})]})},Ds=function(){var e=Object(b.c)((function(e){return e.normalForm})),t=(e.orderData?e.orderData:"").extraItemColors,a=t?t.length:0;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Productos extras con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Rs,{position:e})},e)}})]})},Rs=function(e){var t=e.position,a=Object(b.c)((function(e){return e})).normalForm,c=a.orderData?a.orderData.extraItemColors[t]:"",n=c.idItem,r=c.quantity,s=n?Vt(n):"";return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)("input",{type:"text",name:"idItem",className:"form-control",value:s.label,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:r,readOnly:!0})]})]})},Es=function(){var e=Object(b.c)((function(e){return e.normalForm})),t=(e.orderData?e.orderData:"").extraRawColors,a=t?t.length:0;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title",children:"Materiales extras con color"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Ss,{position:e})},e)}})]})},Ss=function(e){var t=e.position,a=Object(b.c)((function(e){return e})).normalForm,c=a.orderData?a.orderData.extraRawColors[t]:"",n=c.idItem,r=c.quantity,s=n?Vt(n):"";return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Art\xedculo"}),Object(x.jsx)("input",{type:"text",name:"idItem",className:"form-control",value:s.label,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:r,readOnly:!0})]})]})},Ps=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})),a=(t.orderData?t.orderData:"").baseItemColors,c=a?a.length:0;return Object(r.useEffect)((function(){e(jt("Items","idOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Productos Por Defecto"}),Object(x.jsx)(At,{count:c,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(As,{position:e})},e)}})]})},As=function(e){var t=e.position,a=Object(b.c)((function(e){return e})).normalForm,c=a.orderData?a.orderData.baseItemColors[t]:"",n=c.name,r=c.quantity,s=c.idColor;return Object(x.jsxs)("div",{className:"row border-bottom pb-1",children:[Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Producto"}),Object(x.jsx)("input",{type:"text",name:"name",className:"form-control",value:n,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsx)("input",{type:"text",name:"color",className:"form-control",value:s.name,readOnly:!0})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Cantidad"}),Object(x.jsx)("input",{type:"text",name:"quantity",className:"form-control",value:r,readOnly:!0})]})]})},zs=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e})).normalForm,a=t.orderData?t.orderData.idCustomer.comercialName:"",c=t.orderData?t.orderData.id:"",n=t.orderData?t.orderData.customerData[0].deliveryAddress:"",s=t.orderData?t.orderData.customerData[0].phone:"",i=t.orderData?t.orderData.customerData[0].email:"",o=t.orderData?t.orderData.idPool.fabricationName:"",l=t.orderData?t.orderData.idTax.name:"",d=t.orderData?t.orderData.price:"",j=t.orderData?t.orderData.orderDate:"",u=t.orderData?t.orderData.productionDate:"",m=t.orderData?t.orderData.deliveryDate:"",O=t.orderData?t.orderData.deliverySchedulerStart:"",h=t.orderData?t.orderData.deliverySchedulerEnd:"",p=t.orderData?t.orderData.observations:"",f=t.orderData?t.orderData.idColor.name:"";return Object(r.useEffect)((function(){e(jt("Pools","poolsOpt","fabricationName")),e(jt("Taxes","taxesOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Pedido"}),Object(x.jsxs)("h6",{children:[" ",c," "]})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Cliente"}),Object(x.jsxs)("h6",{children:[" ",a," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Direcci\xf3n"}),Object(x.jsxs)("h6",{children:[" ",n," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tel\xe9fono"}),Object(x.jsxs)("h6",{children:[" ",s," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Correo Electr\xf3nico"}),Object(x.jsxs)("h6",{children:[" ",i," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Piscina"}),Object(x.jsxs)("h6",{children:[" ",o," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsxs)("h6",{children:[" ",f," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"IVA"}),Object(x.jsxs)("h6",{children:[" ",l," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Precio"}),Object(x.jsxs)("h6",{children:[" ",d," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de pedido"}),Object(x.jsxs)("h6",{children:[" ",mr(new Date(j))," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de producci\xf3n"}),Object(x.jsxs)("h6",{children:[" ",mr(new Date(u))," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de entrega"}),Object(x.jsxs)("h6",{children:[" ",mr(new Date(m))," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Inicio de Horario de entrega"}),Object(x.jsxs)("h6",{children:[" ",O," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fin de Horario de entrega"}),Object(x.jsxs)("h6",{children:[" ",h," "]})]}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsxs)("h6",{children:[" ",p," "]})]})]})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Ns,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Ps,{})})})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Cs,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Is,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Ds,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Es,{})})})]})]}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(Fs,{})})})]})},qs=(a(890),{baseItems:[],extraItems:[]}),Vs=function(){var e=Object(f.i)().id,t=(Object(f.g)(),Object(b.b)()),a=Object(b.c)((function(e){return e.normalForm})),c=(Object(b.c)((function(e){return e.canvasReducer})),Object(b.c)((function(e){return e.ordersReducer})),Object(b.c)((function(e){return e.normalForm.canvasItems})),a.orderData?a.orderData.id:"");Object(r.useEffect)((function(){t(e?We("Productions",e):En(0)),t(Ve(qs))}),[Ve]),Object(r.useEffect)((function(){t(c?wn("Orders",c):kn()),t(En())}),[a]);var n=e?"Ver Producci\xf3n":"",s=a.ordercod?a.idOrder:n;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:s,breadCrumbParent:"Pedidos",breadCrumbActive:n}),Object(x.jsx)(zs,{}),Object(x.jsx)(Tt,{form:!1})]})},Ms=a(670),Ls=a(671),Bs=a(1090);function Us(e){switch(e){case 1:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-secondary",children:"Pintura"})});case 2:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-dark",children:"Laminar 1"})});case 3:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-dark",children:"Laminar 2"})});case 4:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-info",children:"Montaje"})});case 5:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-primary",children:"Proyectado"})});case 6:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-success",children:"Acabado"})});case 7:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-success",children:"Finalizado"})});case 8:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-success",children:"Control de calidad"})});default:return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(le.a,{color:"light-dark",children:"En cola"})})}}var Hs=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Piscina",selector:"pool",sortable:!0,searchable:!0,width:"15%"},{name:"Color",selector:"color",sortable:!0,searchable:!0,width:"15%"},{name:"Fecha de Pedido",selector:"orderDate",sortable:!0,searchable:!0,width:"12%"},{name:"Fecha de Entrega",selector:"deliveryDate",sortable:!0,searchable:!0,width:"12%"},(Pt={name:"Observaciones",selector:"observations",searchable:!0},Object(d.a)(Pt,"searchable",!0),Object(d.a)(Pt,"width","19%"),Pt),{name:"Estado",sortable:!0,width:"15%",cell:function(e,t){var a=e.idProductionStatus,c=Object(b.b)();return Object(x.jsxs)("div",{className:"d-flex justify-content-start",children:[a>=2&&a<=7?Object(x.jsx)(v.b,{onClick:function(){Q("Productions",e.id,{id:e.id,idProductionStatus:e.idProductionStatus-1}),c(ie(e.idProductionStatus-1,"idProductionStatus",t))},children:Object(x.jsx)(le.a,{color:"light-dark",className:"mr-1",children:Object(x.jsx)(Ms.a,{size:15})})}):"",Us(a),a<8?Object(x.jsx)(v.b,{onClick:function(){if(Q("Productions",e.id,{id:e.id,idProductionStatus:e.idProductionStatus+1}),c(ie(e.idProductionStatus+1,"idProductionStatus",t)),e.idProductionStatus+1===8){var a=localStorage.getItem("accessToken");H.a.put("".concat("https://betasfp.madetosoft.com").concat(W.Orders,"/switchState"),{id:e.idOrder,state:1},{headers:{"Content-type":"application/json","x-token":a}})}},children:Object(x.jsx)(le.a,{color:"light-dark",className:"ml-1",children:Object(x.jsx)(Ls.a,{size:15})})}):""]})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","production")&&Object(x.jsx)(v.b,{to:"./production/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","production")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})}),1===e.isStarted&&Object(x.jsx)(Bs.a,{color:"success",size:"sm"})]})}}],Ws=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){var t;e(Ue()),e((t="Productions",function(){var e=Object(q.a)(z.a.mark((function e(a){var c,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(te()),c=JSON.parse(localStorage.getItem("userData")),e.next=4,$(t,c.productionStatus);case 4:n=e.sent,a(ae(n,t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e(Qe())}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Kt,{columns:Hs,data:t})})},Js=[{path:"/production",exact:!0,component:function(){return Object(x.jsx)(Ws,{titulo:"Producciones"})},meta:{action:"read",resource:"production"}},{path:"/production/add",exact:!0,component:function(){return Object(x.jsx)(Vs,{})},meta:{action:"insert",resource:"production"}},{path:"/production/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Vs,{})},meta:{action:"update",resource:"production"}}],_s=Js,Gs=a(1053),Ks=a(918),Ys=a(672),Xs=a(921),Qs=a(923),Zs=a(924),$s=a.n(Zs),ei=a(515),ti=a(140),ai=a(1091),ci=a(673),ni=function(e){var t=e.title,a=e.icon,c=e.color;return Object(x.jsx)(r.Fragment,{children:Object(x.jsx)("div",{className:"toastify-header pb-0",children:Object(x.jsxs)("div",{className:"title-wrapper",children:[Object(x.jsx)(ei.a,{size:"sm",color:c,icon:a}),Object(x.jsx)("h6",{className:"toast-title",children:t})]})})})},ri=function(e){var t=Object(r.useRef)(null),a=e.store,n=e.isRtl,s=e.dispatch,i=e.calendarsColor,o=e.calendarApi,l=e.setCalendarApi,d=e.handleAddEventSidebar,j=e.blankEvent,u=e.toggleSidebar,b=e.selectEvent,m=e.updateEvent;Object(r.useEffect)((function(){null===o&&l(t.current.getApi())}),[o]);var O={events:a.events.length?a.events:[],plugins:[Qs.a,Ys.b,Xs.a,Ks.a],initialView:"dayGridMonth",locale:$s.a,headerToolbar:{start:"sidebarToggle, prev,today,next, title",end:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},timeFormat:"H(:mm)",editable:!1,eventResizableFromStart:!1,dragScroll:!1,dayMaxEvents:2,navLinks:!0,eventClassNames:function(e){var t=e.event,a=i[t._def.extendedProps.calendar];return["bg-light-".concat(a)]},eventClick:function(e){var t=e.event;s(b(t)),d()},customButtons:{sidebarToggle:{text:Object(x.jsx)(ci.a,{className:"d-xl-none d-block"}),click:function(){u(!0)}}},dateClick:function(e){var t=j;t.start=e.date,t.end=e.date,s(b(t)),d()},eventDrop:function(e){var t=e.event;s(m(t)),ti.c.success(Object(x.jsx)(ni,{title:"Event Updated",color:"success",icon:Object(x.jsx)(N.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},eventResize:function(e){var t=e.event;s(m(t)),ti.c.success(Object(x.jsx)(ni,{title:"Event Updated",color:"success",icon:Object(x.jsx)(N.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},ref:t,direction:n?"rtl":"ltr"};return Object(x.jsx)(ve.a,{className:"shadow-none border-0 mb-0 rounded-0",children:Object(x.jsxs)(ai.a,{className:"pb-0",children:[Object(x.jsx)(Gs.a,Object(c.a)({},O))," "]})})},si=Object(r.memo)(ri),ii=a(1120),oi=[{label:"Producci\xf3n",color:"info",className:"custom-control-info mb-1"},{label:"Entrega",color:"success",className:"custom-control-success mb-1"}],li=function(e){e.handleAddEventSidebar,e.toggleSidebar;var t=e.updateFilter,a=e.updateAllFilters,c=e.store,n=e.dispatch;return Object(x.jsx)(r.Fragment,{children:Object(x.jsx)("div",{className:"sidebar-wrapper",children:Object(x.jsxs)(ai.a,{children:[Object(x.jsx)("h5",{className:"section-label mb-1",children:Object(x.jsx)("span",{className:"align-middle",children:"Filtro"})}),Object(x.jsx)(ii.a,{type:"checkbox",className:"mb-1",label:"Ver todo",id:"view-all",checked:c.selectedCalendars.length===oi.length,onChange:function(e){return n(a(e.target.checked))}}),Object(x.jsx)("div",{className:"calendar-events-filter",children:oi.length&&oi.map((function(e){return Object(x.jsx)(ii.a,{type:"checkbox",id:e.label,label:e.label,checked:c.selectedCalendars.includes(e.label),className:u()(Object(d.a)({},e.className,e.className)),onChange:function(a){return n(t(e.label))}},e.label)}))})]})})})},di=function(){var e=Object(q.a)(z.a.mark((function e(t,a){var c,n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("accessToken")||"",e.next=3,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W[t],"/getEvents"),{calendars:a},{headers:{"Content-type":"application/json","x-token":c}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ji=a(31),ui=function(e){return function(){var t=Object(q.a)(z.a.mark((function t(a){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,di("Calendar",e).then((function(e){a({type:ji.a.FetchEvents,events:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},bi=function(e){return function(t){H.a.post("/apps/calendar/update-event",{event:e}).then((function(){t({type:ji.a.UpdateEvent})}))}},mi=function(e){return function(t,a){t({type:ji.a.UpdateFilter,filter:e}),t(ui(a().calenderReducer.selectedCalendars))}},Oi=function(e){return function(t,a){t({type:ji.a.UpdateAllFilters,value:e}),t(ui(a().calenderReducer.selectedCalendars))}},hi=function(e){return function(t){t({type:ji.a.SelectEvent,event:e})}},xi=(a(925),{"Producci\xf3n":"info",Entrega:"success"}),pi=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.calenderReducer})),a=Object(r.useState)(!1),c=Object(n.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(!1),l=Object(n.a)(o,2),d=l[0],j=l[1],m=Object(r.useState)(null),O=Object(n.a)(m,2),h=O[0],p=O[1],f=function(){return i(!s)},v=function(e){return j(e)};return Object(r.useEffect)((function(){e(ui(t.selectedCalendars))}),[]),Object(x.jsx)(r.Fragment,{children:Object(x.jsx)("div",{className:"app-calendar overflow-hidden border",children:Object(x.jsxs)(Ie.a,{noGutters:!0,children:[Object(x.jsx)(Te.a,{id:"app-calendar-sidebar",className:u()("col app-calendar-sidebar flex-grow-0 overflow-hidden d-flex flex-column",{show:d}),children:Object(x.jsx)(li,{store:t,dispatch:e,updateFilter:mi,toggleSidebar:v,updateAllFilters:Oi,handleAddEventSidebar:f})}),Object(x.jsx)(Te.a,{className:"position-relative",children:Object(x.jsx)(si,{store:t,dispatch:e,blankEvent:{title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:"",guests:[],location:"",description:""}},calendarApi:h,selectEvent:hi,updateEvent:bi,toggleSidebar:v,calendarsColor:xi,setCalendarApi:p,handleAddEventSidebar:f})}),Object(x.jsx)("div",{className:u()("body-content-overlay",{show:!0===d}),onClick:function(){return v(!1)}})]})})})},fi=[{path:"/calendar",exact:!0,component:function(){return Object(x.jsx)(pi,{})},meta:{action:"read",resource:"calendar"}}],vi=fi,gi={name:{validations:[tt.isRequired]}},Ni=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),n=Object(b.c)((function(e){return e})),s=n.normalForm,i=n.formValidator;Object(r.useEffect)((function(){a(Ke(gi))}),[]);var o=function(){var n=Object(q.a)(z.a.mark((function n(r){var o;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),o=et(i.schema,s),0!==Object.keys(o).length?a(Ye(o)):a(Je()).then(function(){var n=Object(q.a)(z.a.mark((function n(r){var i;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=Object(c.a)(Object(c.a)({},s),{},{value:kt(r.name/100)}),console.log(r.name/100),Q("Taxes",e,i),a(Nt),t.push("/setup/taxes");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:o,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(st,{id:"name",name:"name",label:"IVA (%)",type:"text"})})})}),Object(x.jsx)(Tt,{})]})},yi=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Taxes",e))}),[]);var c=e?"Editar Impuesto":"A\xf1adir Impuesto",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Impuestos",breadCrumbActive:c}),Object(x.jsx)(Ni,{})]})},Ci=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"IVA",selector:"name",sortable:!0,searchable:!0,width:"45%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","taxes")&&Object(x.jsx)(v.b,{to:"./taxes/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","taxes")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],wi=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Taxes")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Ci,data:c})},ki=[{path:"/setup/taxes",exact:!0,component:function(){return Object(x.jsx)(wi,{titulo:"Impuestos"})},meta:{action:"read",resource:"taxes"}},{path:"/setup/taxes/add",exact:!0,component:function(){return Object(x.jsx)(yi,{})},meta:{action:"insert",resource:"taxes"}},{path:"/setup/taxes/edit/:id",exact:!0,component:function(){return Object(x.jsx)(yi,{})},meta:{action:"update",resource:"taxes"}}],Fi=ki,Ii=function(){var e=Object(f.i)(),t=e.id,a=e.index,n=Object(b.b)(),s=Object(f.g)(),i=Object(b.c)((function(e){return e})).normalForm,o=Object(b.c)((function(e){return e.registrosReducer})).registros,l=void 0!==t?t:i.idRepair,d=i.description;Object(r.useEffect)((function(){void 0===t&&n(_e("TRepair","idRepair"))}),[]);var j=function(){var e=Object(q.a)(z.a.mark((function e(r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),n(Je()).then(function(){var e=Object(q.a)(z.a.mark((function e(r){var i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete r.idRepair,i=Object(c.a)(Object(c.a)({},r),{},{idTrailer:void 0!==r.idTrailer?r.idTrailer:o[a].id}),Q("TRepair",t,i),n(Nt()),s.push("/porters/trailers/tReparation/".concat(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:j,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"row card-body",children:[Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Reparaci\xf3n"}),Object(x.jsx)("input",{className:"form-control",name:"idRepair",value:l,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"date",name:"date",label:"Fecha"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"garage",label:"Taller"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"cost",label:"Coste de reparaci\xf3n"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Descripci\xf3n de la reparaci\xf3n"}),Object(x.jsx)("textarea",{className:"form-control",placeholder:"Descripci\xf3n de la reparaci\xf3n",name:"description",defaultValue:d,onChange:function(e){var t=e.target;n(qe(t.name,t.value))}})]})]})}),Object(x.jsx)(Tt,{})]})},Ti={},Di=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("TRepair",e)),t(ce("Trailers")),t(Ve(Ti))}),[Ve]);var c=e?"Editar Reparaci\xf3n":"A\xf1adir Reparaci\xf3n",n=a.plate?a.plate:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Reparaci\xf3n de Remolques",breadCrumbActive:c}),Object(x.jsx)(Ii,{})]})},Ri=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Fecha",selector:"date",width:"22%",cell:function(e){var t=e.date;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:mr(new Date(t))})})})}},{name:"Descripci\xf3n",selector:"description",sortable:!0,searchable:!0,width:"22%"},{name:"Taller",selector:"garage",sortable:!0,searchable:!0,width:"22%"},{name:"Coste",selector:"cost",sortable:!0,searchable:!0,width:"22%",cell:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:xn(e.cost)})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(f.i)().id,c=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[c.can("update","trailers")&&Object(x.jsx)(v.b,{to:"./".concat(a,"/edit/").concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),c.can("delete","trailers")&&Object(x.jsx)(v.b,{onClick:function(c){t(se(e.id,a,"TRepair"))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Ei=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(f.i)().id,n=Object(b.c)((function(e){return e.registrosReducer})).registros,s=void 0!==n[c]?n[c].repairs:"",i=void 0!==n[c]?n[c].plate:"";return Object(r.useEffect)((function(){a(Ue()),a(ce("Trailers"))}),[]),Object(x.jsx)(Pe,{title:"".concat(t," - ").concat(i),repa:"/porters/trailers",columns:Ri,data:s})},Si=[{path:"/porters/trailers/tReparation/:id",exact:!0,component:function(){return Object(x.jsx)(Ei,{titulo:"Reparaciones"})},meta:{action:"actions",resource:"trailers"}},{path:"/porters/trailers/tReparation/:index/add",exact:!0,component:function(){return Object(x.jsx)(Di,{})},meta:{action:"actions",resource:"trailers"}},{path:"/porters/trailers/tReparation/:index/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Di,{})},meta:{action:"actions",resource:"trailers"}}],Pi=function(){var e=Object(f.i)(),t=e.id,a=e.index,n=Object(b.b)(),s=Object(f.g)(),i=Object(b.c)((function(e){return e})).normalForm,o=Object(b.c)((function(e){return e.registrosReducer})).registros,l=void 0!==t?t:i.idRepair,d=i.description;Object(r.useEffect)((function(){void 0===t&&n(_e("VRepair","idRepair"))}),[]);var j=function(){var e=Object(q.a)(z.a.mark((function e(r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),n(Je()).then(function(){var e=Object(q.a)(z.a.mark((function e(r){var i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete r.idRepair,i=Object(c.a)(Object(c.a)({},r),{},{idVehicle:void 0!==r.idVehicle?r.idVehicle:o[a].id}),Q("VRepair",t,i),n(Nt()),s.push("/porters/vehicles/vReparation/".concat(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:j,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"row card-body",children:[Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Reparaci\xf3n"}),Object(x.jsx)("input",{className:"form-control",name:"idRepair",value:l,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"date",name:"date",label:"Fecha"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"garage",label:"Taller"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"cost",label:"Coste de reparaci\xf3n"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Descripci\xf3n de la reparaci\xf3n"}),Object(x.jsx)("textarea",{className:"form-control",placeholder:"Descripci\xf3n de la reparaci\xf3n",name:"description",defaultValue:d,onChange:function(e){var t=e.target;n(qe(t.name,t.value))}})]})]})}),Object(x.jsx)(Tt,{})]})},Ai={},zi=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("VRepair",e)),t(ce("Vehicles")),t(Ve(Ai))}),[Ve]);var c=e?"Editar Reparaci\xf3n":"A\xf1adir Reparaci\xf3n",n=a.plate?a.plate:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Reparaci\xf3n de Veh\xedculos",breadCrumbActive:c}),Object(x.jsx)(Pi,{})]})},qi=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Fecha",selector:"date",sortable:!0,searchable:!0,width:"22%",cell:function(e){var t=e.date;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:mr(new Date(t))})})})}},{name:"Descripci\xf3n",selector:"description",sortable:!0,searchable:!0,width:"22%"},{name:"Taller",selector:"garage",sortable:!0,searchable:!0,width:"22%"},{name:"Coste",selector:"cost",sortable:!0,searchable:!0,width:"22%",cell:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("span",{children:xn(e.cost)})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(f.i)().id,c=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[c.can("update","vehicles")&&Object(x.jsx)(v.b,{to:"./".concat(a,"/edit/").concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),c.can("delete","vehicles")&&Object(x.jsx)(v.b,{onClick:function(c){t(se(e.id,a,"VRepair"))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Vi=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(f.i)().id,n=Object(b.c)((function(e){return e.registrosReducer})).registros,s=void 0!==n[c]?n[c].repairs:"",i=void 0!==n[c]?n[c].plate:"";return Object(r.useEffect)((function(){a(Ue()),a(ce("Vehicles")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:"".concat(t," - ").concat(i),repa:"/porters/vehicles",columns:qi,data:s})},Mi=[{path:"/porters/vehicles/vReparation/:id",exact:!0,component:function(){return Object(x.jsx)(Vi,{titulo:"Reparaciones"})},meta:{action:"actions",resource:"vehicles"}},{path:"/porters/vehicles/vReparation/:index/add",exact:!0,component:function(){return Object(x.jsx)(zi,{})},meta:{action:"actions",resource:"vehicles"}},{path:"/porters/vehicles/vReparation/:index/edit/:id",exact:!0,component:function(){return Object(x.jsx)(zi,{})},meta:{action:"actions",resource:"vehicles"}}],Li=a(674),Bi=[{name:"N\xba",selector:"idOrder",sortable:!0,searchable:!0,width:"8%"},{name:"Cliente",selector:"Customer",sortable:!0,searchable:!0,width:"20%"},{name:"Transportista",selector:"carrier",sortable:!0,searchable:!0,width:"20%"},{name:"Inicio de entrega",selector:"deliveryStart",sortable:!0,searchable:!0,width:"16%"},{name:"Fin de entrega",selector:"deliveryEnd",sortable:!0,searchable:!0,width:"16%"},{name:"Lugar",selector:"gps",width:"16%",searchable:!0,cell:function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("a",{href:"".concat(e.gps),target:"_blank",children:[Object(x.jsx)(Li.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Localizaci\xf3n"})]})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","delivery")&&Object(x.jsx)(v.b,{to:"./delivery/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles del pedido"})]})}),a.can("actions","delivery")&&Object(x.jsx)(v.b,{to:"./delivery/note/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Albar\xe1n de entrega"})]})}),a.can("delete","delivery")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Ui=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){var e;a(Ue()),a((e="Delivery",function(){var t=Object(q.a)(z.a.mark((function t(a){var c,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(te()),c=JSON.parse(localStorage.getItem("userData")),t.next=4,ee(e,c.id);case 4:n=t.sent,a(ae(n,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Bi,data:c,add:0})},Hi=(a(926),function(){var e=Object(b.c)((function(e){return e})).normalForm,t=void 0!==e.customer?e.customer.name:"",a=void 0!==e.customer?e.customer.customerData[0].deliveryAddress:"",c=void 0!==e.customer?e.customer.customerData[0].phone:"",n=void 0!==e.customer?e.customer.customerData[0].email:"",r=(void 0!==e.idCarrier&&e.idCarrier,void 0!==e.pool?e.pool.name:""),s=void 0!==e.pool?e.pool.color:"",i=(void 0!==e.idPool&&e.idPool.price,void 0!==e.orderData?e.orderData.idTax.name:""),o=e?e.idOrder:"",l=e.orderData?e.orderData.price:"",d=e?e.orderDate:"",j=e?e.deliveryDate:"",u=e?e.productionDate:"",m=e.orderData?e.orderData.deliverySchedulerStart:"",O=e.orderData?e.orderData.deliverySchedulerEnd:"",h=e.orderData?e.orderData.observations:"";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Pedido"}),Object(x.jsxs)("h6",{children:[" ",o," "]})]}),Object(x.jsxs)("div",{className:"col-md-4",children:[Object(x.jsx)("label",{className:"control-label",children:"Cliente"}),Object(x.jsxs)("h6",{children:[" ",t," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Direcci\xf3n"}),Object(x.jsxs)("h6",{children:[" ",a," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Tel\xe9fono"}),Object(x.jsxs)("h6",{children:[" ",c," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Correo Electr\xf3nico"}),Object(x.jsxs)("h6",{children:[" ",n," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Piscina"}),Object(x.jsxs)("h6",{children:[" ",r," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Color"}),Object(x.jsxs)("h6",{children:[" ",s," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"IVA"}),Object(x.jsxs)("h6",{children:[" ",i," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Precio"}),Object(x.jsxs)("h6",{children:[" ",l," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de Pedido"}),Object(x.jsxs)("h6",{children:[" ",d," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de producci\xf3n"}),Object(x.jsxs)("h6",{children:[" ",u," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fecha de Entrega"}),Object(x.jsxs)("h6",{children:[" ",j," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Inicio de Horario de entrega"}),Object(x.jsxs)("h6",{children:[" ",m," "]})]}),Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"Fin de Horario de entrega"}),Object(x.jsxs)("h6",{children:[" ",O," "]})]}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Observaciones"}),Object(x.jsxs)("h6",{children:[" ",h," "]})]})]})}),Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Ns,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Ps,{})})})]}),Object(x.jsxs)("div",{className:"col-md-6",children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Cs,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Is,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Ds,{})})}),Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Es,{})})})]})]}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-12",children:Object(x.jsx)("div",{class:"card",children:Object(x.jsx)("div",{className:" card-body row px-3",children:Object(x.jsx)(Fs,{})})})})})]})}),Wi=a(933),Ji=a.n(Wi),_i=a(675),Gi=a.n(_i),Ki=a(1092),Yi=a(1093),Xi=a(927),Qi=a.n(Xi),Zi={baseItems:[],extraItems:[]},$i=[a(148).default,a(930).default,a(931).default,a(932).default],eo=["nameSpace","nameHydryus","nameEuropa","nameSociedad"],to=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e})).normalForm,c=void 0!==a.customer?a.customer.name:"",n=void 0!==a.customer?a.customer.customerData[0].deliveryAddress:"",s=void 0!==a.customer?a.customer.customerData[0].phone:"",i=void 0!==a.customer?a.customer.customerData[0].email:"",o=void 0!==a.customer?a.customer.origin.logo.id:"",l=void 0!==a.customer?a.customer.origin.info.split("\n"):"",d=void 0!==a.customer?a.customer.language.id:"",j=void 0!==a.carrier?a.carrier.name:"",u=void 0!==a.carrier?a.carrier.NIF:"",m=void 0!==a.vehiclePlate?a.vehiclePlate:"",O=void 0!==a.trailerPlate?a.trailerPlate:"",h=void 0!==a.pool?a.pool:"",p=void 0!==a.pool?a.pool.color:"",v=void 0!==a.orderData?a.orderData.baseItems:"",g=void 0!==a.orderData?a.orderData.baseItemColors:"",N=void 0!==a.orderData?a.orderData.extraItems:"",y=void 0!==a.orderData?a.orderData.extraItemColors:"",C=void 0!==a.orderData?a.orderData.extraRaws:"",w=void 0!==a.orderData?a.orderData.extraRawColors:"",k=a?a.deliveryDate:"",F=a?a.orderDate:"",I=a.orderData?a.orderData.observations:"";Object(r.useEffect)((function(){e&&t(We("Delivery",e)),t(Ve(Zi))}),[Ve]);var T={};return Object(x.jsxs)(ve.a,{className:"invoice-preview-card",children:[Object(x.jsx)(ai.a,{className:"invoice-padding pb-0",children:Object(x.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"logo-wrapper",children:Object(x.jsx)("img",{src:$i[o-1],style:{width:"300px"},alt:"logo"})}),Object.entries(l).map((function(e){return Object(x.jsx)(Ki.a,{className:"mb-25",children:e[1]})}))]}),Object(x.jsxs)("div",{className:"mt-md-0 mt-2",children:[Object(x.jsxs)("h4",{className:"invoice-title",children:[void 0!==d&&1===d?"Entrega":"Livraison"," ",Object(x.jsxs)("span",{className:"invoice-number",children:["#",e]})]}),Object(x.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(x.jsx)("p",{className:"invoice-date-title",children:void 0!==d&&1===d?"F. pedido:":"D. commande:"}),Object(x.jsx)("p",{className:"invoice-date",children:F})]}),Object(x.jsxs)("div",{className:"invoice-date-wrapper",children:[Object(x.jsx)("p",{className:"invoice-date-title",children:void 0!==d&&1===d?"F. entrega:":"D. livraison:"}),Object(x.jsx)("p",{className:"invoice-date",children:k})]})]})]})}),Object(x.jsx)("hr",{className:"invoice-spacing"}),Object(x.jsx)(ai.a,{className:"invoice-padding pt-0",children:Object(x.jsxs)(Ie.a,{className:"invoice-spacing",children:[Object(x.jsxs)(Te.a,{className:"p-0",lg:"8",children:[Object(x.jsx)("h6",{className:"mb-2",children:void 0!==d&&1===d?"Datos del receptor:":"Donn\xe9es du r\xe9cepteur:"}),Object(x.jsx)("h6",{className:"mb-25",children:c}),Object(x.jsx)(Ki.a,{className:"mb-25",children:n}),Object(x.jsx)(Ki.a,{className:"mb-25",children:s}),Object(x.jsx)(Ki.a,{className:"mb-25",children:i})]}),Object(x.jsxs)(Te.a,{className:"p-0 mt-xl-0 mt-2",lg:"4",children:[Object(x.jsx)("h6",{className:"mb-2",children:void 0!==d&&1===d?"Transportista:":"Transporteur:"}),Object(x.jsx)("table",{children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pr-1",children:void 0!==d&&1===d?"Nombre:":"Nom:"}),Object(x.jsx)("td",{children:Object(x.jsx)("span",{className:"font-weight-bolder",children:j})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"pr-1",children:"NIF: "}),Object(x.jsx)("td",{children:u})]}),Object(x.jsxs)("tr",{children:[Object(x.jsxs)("td",{className:"pr-1",children:[void 0!==d&&1===d?"Matr\xedcula:":"Inscription:"," "]}),Object(x.jsxs)("td",{children:[m," ( ",O," )"]})]})]})})]})]})}),Object(x.jsxs)(Yi.a,{responsive:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:Object(x.jsx)("th",{className:"py-1",children:void 0!==d&&1===d?"Pedido":"Commande"})})}),Object(x.jsxs)("tbody",{children:[Object(x.jsx)("tr",{className:"border-bottom",children:Object(x.jsxs)("td",{className:"py-1",children:[Object(x.jsxs)("p",{className:"card-text font-weight-bold mb-50",children:[h[eo[o-1]]," (",p,")"]}),void 0!==v&&""!==v&&v.map((function(e){return 2===e.show&&Object(x.jsxs)("p",{className:"card-text text-nowrap",style:{"font-size":"11px"},children:["- ",void 0!==d&&1===d?e.name:e.name_fr]})})),void 0!==g&&""!==g&&g.map((function(e){return 2===e.show&&Object(x.jsxs)("p",{className:"card-text text-nowrap",style:{"font-size":"11px"},children:["- ",void 0!==d&&1===d?e.name:e.name_fr,void 0!==e.idColor.name&&"(".concat(e.idColor.name,")")]})}))]})}),void 0!==N&&""!==N&&N.map((function(e){return 2===e.idItem.show.id&&Object(x.jsx)("tr",{className:"border-bottom",children:Object(x.jsx)("td",{className:"py-1",children:Object(x.jsxs)("p",{className:"card-text text-nowrap",style:{"font-size":"11px"},children:["- ",void 0!==d&&1===d?e.idItem.name:e.idItem.name_fr]})})})})),void 0!==C&&""!==C&&C.map((function(e){return 2===e.idItem.show.id&&Object(x.jsx)("tr",{className:"border-bottom",children:Object(x.jsx)("td",{className:"py-1",children:Object(x.jsxs)("p",{className:"card-text text-nowrap",style:{"font-size":"11px"},children:["- ",void 0!==d&&1===d?e.idItem.name:e.idItem.name_fr]})})})})),void 0!==y&&""!==y&&y.map((function(e){return 2===e.idItem.show.id&&Object(x.jsx)("tr",{className:"border-bottom",children:Object(x.jsx)("td",{className:"py-1",children:Object(x.jsxs)("p",{className:"card-text text-nowrap",style:{"font-size":"11px"},children:["- ",void 0!==d&&1===d?e.idItem.name:e.idItem.name_fr,void 0!==e.idColor.name&&"(".concat(e.idColor.name,")")]})})})})),void 0!==w&&""!==w&&w.map((function(e){return 2===e.idItem.show.id&&Object(x.jsx)("tr",{className:"border-bottom",children:Object(x.jsx)("td",{className:"py-1",children:Object(x.jsxs)("p",{className:"card-text text-nowrap",style:{"font-size":"11px"},children:["- ",void 0!==d&&1===d?e.idItem.name:e.idItem.name_fr,void 0!==e.idColor.name&&"(".concat(e.idColor.name,")")]})})})}))]})]}),Object(x.jsx)(ai.a,{className:"invoice-padding pb-0",children:Object(x.jsx)(Ie.a,{className:"invoice-sales-total-wrapper",children:Object(x.jsx)(Te.a,{className:"d-flex justify-content-center",md:"12",order:{md:12,lg:12},children:void 0!==a.signature&&""!==a.signature&&null!==a.signature?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("img",{src:a.signature,style:{width:700,height:300}})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Qi.a,{onEnd:function(){t(qe("signature",T.getTrimmedCanvas().toDataURL("image/png")))},penColor:"blue",backgroundColor:"#F2F2F2",canvasProps:{width:700,height:300,className:"sigCanvas"},ref:function(e){T=e}})})})})}),Object(x.jsx)("hr",{className:"invoice-spacing"}),Object(x.jsx)(ai.a,{className:"invoice-padding pt-0",children:Object(x.jsx)(Ie.a,{children:Object(x.jsx)(Te.a,{sm:"12",children:Object(x.jsx)("span",{children:I})})})})]})},ao={baseItems:[],extraItems:[]},co=function(){var e=Object(f.i)().id,t=Object(f.g)(),a=Object(b.b)(),c=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&a(We("Delivery",e)),a(Ve(ao))}),[Ve]);var n="Ver Hoja de Entrega",s=function(){var n=Object(q.a)(z.a.mark((function n(r){var s;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),s={id:c.id,signature:c.signature},Q("Delivery",e,s),a(Nt()),t.push("/delivery");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:s,children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Gestor de entregas",breadCrumbActive:n}),Object(x.jsx)("div",{className:"invoice-preview-wrapper",children:Object(x.jsx)(Ji.a,{className:"invoice-preview",children:Object(x.jsx)(Gi.a,{xl:12,md:12,sm:12,children:Object(x.jsx)(to,{})})})}),Object(x.jsx)(Tt,{})]})})},no={baseItems:[],extraItems:[]},ro=function(){var e=Object(f.i)().id,t=Object(b.c)((function(e){return e.normalForm})).idOrder,a=Object(b.c)((function(e){return e.normalForm})),c=Object(f.g)(),n=Object(b.b)();Object(r.useEffect)((function(){n(We("Delivery",e)),n(Ve(no))}),[Ve]),Object(r.useEffect)((function(){n(t?wn("Orders",t):kn())}),[a]);var s="Detalles del pedido",i=function(){var e=Object(q.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c.push("/delivery");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{onSubmit:i,children:[Object(x.jsx)($e.a,{breadCrumbTitle:s,breadCrumbParent:"Gestor de entregas",breadCrumbActive:s}),Object(x.jsx)(Hi,{}),Object(x.jsx)(Tt,{})]})})},so=[{path:"/delivery",exact:!0,component:function(){return Object(x.jsx)(Ui,{titulo:"Gestor de entregas"})},meta:{action:"read",resource:"delivery"}},{path:"/delivery/edit/:id",exact:!0,component:function(){return Object(x.jsx)(ro,{})},meta:{action:"update",resource:"delivery"}},{path:"/delivery/note/:id",exact:!0,component:function(){return Object(x.jsx)(co,{})},meta:{action:"actions",resource:"delivery"}}],io=a(934),oo=a.n(io),lo=a(935),jo=a.n(lo),uo=a(561),bo={login:{validations:[tt.isRequired]},fullname:{validations:[tt.isRequired]},idRole:{validations:[tt.isRequired]},idStatus:{validations:[tt.isRequired]}},mo={login:{validations:[tt.isRequired]},fullname:{validations:[tt.isRequired]},idRole:{validations:[tt.isRequired]},idStatus:{validations:[tt.isRequired]},confirmPassword:{validations:[tt.isRequired]},password:{validations:[tt.isRequired]}},Oo=function(){var e=Object(b.b)(),t=Object(f.g)(),a=Object(f.i)().id,n=Object(b.c)((function(e){return e})).normalForm,s=Object(b.c)((function(e){return e})).formValidator,i=n.password?n.password:"";Object(r.useEffect)((function(){e(Ke(void 0===a?mo:bo))}),[a]);var o=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"toastify-header",children:Object(x.jsx)("div",{className:"title-wrapper",children:Object(x.jsx)("h6",{className:"toast-title",children:"\xa1Contrase\xf1a generada!"})})}),Object(x.jsx)("div",{className:"toastify-body",children:Object(x.jsx)("span",{role:"img","aria-label":"toast-text",children:"\ud83d\udccb Se ha copiado la contrase\xf1a generada al portapapeles."})})]})},l=function(){var r=Object(q.a)(z.a.mark((function r(i){var o,l,d,j,u;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.preventDefault(),o=et(s.schema,n),0===Object.keys(o).length){r.next=6;break}e(Ye(o)),r.next=18;break;case 6:if(!a){r.next=10;break}n.password&&(n.password!==n.confirmPassword?(l="\xa1Las contrase\xf1as no coinciden!",e(qe("password","")),e(qe("confirmPassword",""))):n.password.length<8&&(l="\xa1Contrase\xf1a demasiado corta!",e(qe("password","")),e(qe("confirmPassword","")))),r.next=17;break;case 10:return n.password!==n.confirmPassword?(l="\xa1Las contrase\xf1as no coinciden!",e(qe("password","")),e(qe("confirmPassword",""))):n.password.length<8&&(l="\xa1Contrase\xf1a demasiado corta!",e(qe("password","")),e(qe("confirmPassword",""))),d=localStorage.getItem("accessToken")||"",r.next=14,H.a.post("".concat("https://betasfp.madetosoft.com").concat(W.Users,"/checkUser"),{username:n.login},{headers:{"Content-type":"application/json","x-token":d}});case 14:j=r.sent,!1===j.data.ok&&(l="\xa1Este usuario ya est\xe1 introducido!",e(qe("login","")));case 17:l?M.a.fire({icon:"error",title:"Error",text:l}):(delete(u=Object(c.a)(Object(c.a)({},n),{},{idStatus:kt(n.idStatus),idRole:kt(n.idRole)})).confirmPassword,Q("Users",a,u),t.push("/users"));case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:l,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"login",label:"Nombre de usuario"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"fullname",label:"Nombre completo"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"email",name:"email",label:"Correo electr\xf3nico"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"phone",label:"Tel\xe9fono"})}),Object(x.jsxs)("div",{className:"col-md-3",children:[Object(x.jsx)(uo.a,{onChange:function(t){var a=t.target;e(qe("password",a.value))},value:i,name:"password",label:"Contrase\xf1a"}),Object(x.jsx)(oo.a,{minLength:"8",shortScoreWord:"Demasiado corta",scoreWords:["D\xe9bil","Floja","Media","Buena","Fuerte"],password:i}),Object(x.jsx)("button",{className:"form-control btn btn-primary",color:"primary",onClick:function(t){t.preventDefault();var a=jo.a.generate({length:12,numbers:!0,symbols:!0});e(qe("password",a)),e(qe("confirmPassword",a)),navigator.clipboard.writeText(a),ti.c.success(Object(x.jsx)(o,{}))},children:"Generar contrase\xf1a"})]}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"password",name:"confirmPassword",label:"Confirmar Contrase\xf1a"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idRole",label:"Rol",endpoint:"Roles"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idStatus",label:"Estado",endpoint:"Status"})})]})}),Object(x.jsx)(Tt,{})]})},ho=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("Users",e))}),[]);var c=e?"Editar Usuario":"A\xf1adir Usuario",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Usuarios",breadCrumbActive:c}),Object(x.jsx)(Oo,{})]})},xo=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Nombre",selector:"fullname",sortable:!0,searchable:!0,width:"30%"},{name:"Login",selector:"login",sortable:!0,searchable:!0,width:"30%"},{name:"Rol",selector:"idRole",sortable:!0,searchable:!0,width:"18%"},{name:"Estado",sortable:!0,searchable:!0,width:"10%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:2===e.idStatus?Object(x.jsx)(le.a,{color:"light-success",children:"Activo"}):Object(x.jsx)(le.a,{color:"light-danger",children:"Inactivo"})})}},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","users")&&Object(x.jsx)(v.b,{to:"./users/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","users")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],po=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Users")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:xo,data:c})},fo=[{path:"/users",exact:!0,component:function(){return Object(x.jsx)(po,{titulo:"Usuarios"})},meta:{action:"read",resource:"users"}},{path:"/users/add",exact:!0,component:function(){return Object(x.jsx)(ho,{})},meta:{action:"insert",resource:"users"}},{path:"/users/edit/:id",exact:!0,component:function(){return Object(x.jsx)(ho,{})},meta:{action:"update",resource:"users"}}],vo=a(677),go=a(940),No=a.n(go),yo=a(938),Co=a.n(yo),wo=a(64),ko={Customers:"Clientes",Vendors:"Proveedores",Carriers:"Transportistas",Vehicles:"Veh\xedculos",Trailers:"Remolques",Pools:"Piscinas",Items:"Art\xedculos",ItemColors:"Art\xedculos con color",Family:"Familias",Purchases:"Compras",Orders:"Pedidos",Delivery:"Gestor de entregas",Production:"Producci\xf3n",Calendar:"Calendario",Users:"Usuarios",Roles:"Roles",PaymentMethods:"M\xe9todos de pago",Departments:"Departamentos",AddressesTypes:"Tipos de diecci\xf3n",Taxes:"Impuestos",CustomerType:"Tipos de cliente",CustomerCategory:"Categorias de cliente",Activity:"Actividades",Origin:"Origenes",VendorType:"Tipos de vendedor",Brand:"Marcas",Model:"Modelos",Place:"Ubicaciones",Colors:"Colores",Alerts:"Alertas",Logs:"Logs"},Fo=function(e){var t=e.id,a=e.add,c=e.edit,n=e.del,r=e.actions,s=Object(b.b)(),i=Object(b.c)((function(e){return e.permisosReducer})),o=!1,l=0,d=1+(a?1:0)+(c?1:0)+(n?1:0)+(r?1:0);!0===i[t].read&&(l+=1),!0===i[t].insert&&(l+=1),!0===i[t].update&&(l+=1),!0===i[t].delete&&(l+=1),!0===i[t].actions&&(l+=1),l===d&&(o=!0);var j=function(e,t,a){s(function(e,t,a){return{type:wo.a.SwitchPermission,payload:{key:e,permiso:t,value:a}}}(t,a,e.target.checked))},u=function(e,t){s(function(e,t){return{type:wo.a.SwitchPermissionAll,payload:{key:e,value:t}}}(t,e.target.checked))};return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{style:{width:"2%"},children:Object(x.jsx)(Co.a,{type:"checkbox",checked:o,onChange:function(e){return u(e,t)},id:"".concat(t,"-0")})}),Object(x.jsx)("td",{children:ko[t]}),Object(x.jsx)("td",{children:Object(x.jsx)(Co.a,{type:"checkbox",checked:i[t].read,onChange:function(e){return j(e,t,"read")},id:"".concat(t,"-1")})}),Object(x.jsx)("td",{children:void 0!==a&&Object(x.jsx)(Co.a,{type:"checkbox",checked:i[t].insert,onChange:function(e){return j(e,t,"insert")},id:"".concat(t,"-2")})}),Object(x.jsx)("td",{children:void 0!==c&&Object(x.jsx)(Co.a,{type:"checkbox",checked:i[t].update,onChange:function(e){return j(e,t,"update")},id:"".concat(t,"-3")})}),Object(x.jsx)("td",{children:void 0!==n&&Object(x.jsx)(Co.a,{type:"checkbox",checked:i[t].delete,onChange:function(e){return j(e,t,"delete")},id:"".concat(t,"-4")})}),void 0!==r?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("td",{children:Object(x.jsx)(Co.a,{type:"checkbox",checked:i[t].actions,onChange:function(e){return j(e,t,"actions")},id:"".concat(t,"-5")})}),"Production"===t?Object(x.jsx)("td",{style:{width:"20%"},children:Object(x.jsx)(mt,{name:"productionStatus",placeholder:"Estado",endpoint:"ProductionStatus",isMulti:!0})}):Object(x.jsx)("td",{})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("td",{}),Object(x.jsx)("td",{})]})]})},Io=function(e,t){return e&&(e=e.map((function(e){return Object(d.a)({},t,kt(e))}))),e},To=function(){var e=Object(f.g)(),t=Object(f.i)().id,a=Object(b.c)((function(e){return e})),n=a.normalForm,r=a.permisosReducer,s=function(){var a=Object(q.a)(z.a.mark((function a(s){var i;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:s.preventDefault(),i=Object(c.a)(Object(c.a)({},n),{},{productionStatus:Io(n.productionStatus,"idStatus"),Customers:JSON.stringify(r.Customers),Vendors:JSON.stringify(r.Vendors),Carriers:JSON.stringify(r.Carriers),Vehicles:JSON.stringify(r.Vehicles),Trailers:JSON.stringify(r.Trailers),Pools:JSON.stringify(r.Pools),Items:JSON.stringify(r.Items),ItemColors:JSON.stringify(r.ItemColors),Family:JSON.stringify(r.Family),Purchases:JSON.stringify(r.Purchases),Orders:JSON.stringify(r.Orders),Delivery:JSON.stringify(r.Delivery),Production:JSON.stringify(r.Production),Calendar:JSON.stringify(r.Calendar),Users:JSON.stringify(r.Users),Roles:JSON.stringify(r.Roles),PaymentMethods:JSON.stringify(r.PaymentMethods),Departments:JSON.stringify(r.Departments),AddressesTypes:JSON.stringify(r.AddressesTypes),Taxes:JSON.stringify(r.Taxes),CustomerType:JSON.stringify(r.CustomerType),CustomerCategory:JSON.stringify(r.CustomerCategory),Activity:JSON.stringify(r.Activity),Origin:JSON.stringify(r.Origin),VendorType:JSON.stringify(r.VendorType),Brand:JSON.stringify(r.Brand),Model:JSON.stringify(r.Model),Place:JSON.stringify(r.Place),Colors:JSON.stringify(r.Colors),Alerts:JSON.stringify(r.Alerts),Logs:JSON.stringify(r.Logs)}),Q("Roles",t,i),e.push("/roles");case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:s,children:[Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:" card-body row pb-3 px-3",children:Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{name:"name",label:"Nombre"})})}),Object(x.jsx)(Gi.a,{sm:"12",children:Object(x.jsxs)("div",{className:"permissions border mt-1 mb-4",children:[Object(x.jsxs)("h6",{className:"py-1 mx-1 mb-0 font-medium-2",children:[Object(x.jsx)(vo.a,{size:18,className:"mr-25"}),Object(x.jsx)("span",{className:"align-middle",children:"Permisos"})]}),Object(x.jsxs)(No.a,{borderless:!0,striped:!0,responsive:!0,children:[Object(x.jsx)("thead",{className:"thead-light",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{colspan:"2",children:"M\xf3dulo"}),Object(x.jsx)("th",{children:"Leer"}),Object(x.jsx)("th",{children:"A\xf1adir"}),Object(x.jsx)("th",{children:"Detalles"}),Object(x.jsx)("th",{children:"Eliminar"}),Object(x.jsx)("th",{colspan:"2",children:"Acciones"})]})}),Object(x.jsx)("tbody",{children:Object.entries(r).map((function(e){return Object(x.jsx)(Fo,{id:e[0],add:e[1].insert,edit:e[1].update,del:e[1].delete,actions:e[1].actions})}))})]})]})})]}),Object(x.jsx)(Tt,{})]})},Do=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e})).normalForm;Object(r.useEffect)((function(){e?(t(We("Roles",e)),t(function(e,t){return function(){var a=Object(q.a)(z.a.mark((function a(n){var r;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ze(e,t);case 2:delete(r=a.sent).id,delete r.name,delete r.productionStatus,n({type:wo.a.FillPermision,payload:Object(c.a)({},r)});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}("Roles",e))):t((function(e,t){e({type:wo.a.CleanPermisions})}))}),[]);var n=e?"Editar Roles":"A\xf1adir Roles",s=a.name?a.name:n;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:s,breadCrumbParent:"Roles",breadCrumbActive:n}),Object(x.jsx)(To,{})]})},Ro=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,width:"8%"},{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"83%"},{name:"",width:"5%",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","roles")&&Object(x.jsx)(v.b,{to:"./roles/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","roles")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Eo=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Roles"))}),[]),Object(x.jsx)(Pe,{title:t,columns:Ro,data:c})},So=[{path:"/roles",exact:!0,component:function(){return Object(x.jsx)(Eo,{titulo:"Roles"})},meta:{action:"read",resource:"roles"}},{path:"/roles/add",exact:!0,component:function(){return Object(x.jsx)(Do,{})},meta:{action:"insert",resource:"roles"}},{path:"/roles/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Do,{})},meta:{action:"update",resource:"roles"}}],Po=[{name:"N\xba",selector:"id",sortable:!0,searchable:!0,minWidth:"50px",width:"8%"},{name:"Nombre",selector:"name",sortable:!0,searchable:!0,width:"45%"},{name:"Stock reservado",selector:"reserveStock",sortable:!0,searchable:!0,width:"20%"},{name:"Stock en almac\xe9n",selector:"stock",sortable:!0,searchable:!0,width:"20%"},{name:"Acciones",searchable:!0,width:"150px",cell:function(e){var t=Object(b.b)(),a=Object(r.useContext)(l.a);return Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsxs)(D.a,{right:!0,children:[a.can("update","itemColors")&&Object(x.jsx)(v.b,{to:"./itemColors/edit/".concat(e.id),children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(w.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Detalles"})]})}),a.can("delete","itemColors")&&Object(x.jsx)(v.b,{onClick:function(a){t(re(e.id))},children:Object(x.jsxs)(I.a,{tag:"a",href:"/",className:"w-100",children:[Object(x.jsx)(k.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Eliminar"})]})})]})]})})}}],Ao=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("ItemColors")),a(Qe())}),[]),Object(x.jsx)(Pe,{title:t,columns:Po,data:c})},zo={idColor:"",stock:""},qo=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.normalForm})).color,a=t?t.length:0;return Object(r.useEffect)((function(){e(jt("Colors","colorsOpt"))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"card-title mb-2",children:"Color / Stock"}),Object(x.jsx)(At,{count:a,children:function(e){return Object(x.jsx)("div",{children:Object(x.jsx)(Vo,{position:e})},e)}}),Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-1 btn-sm",color:"primary",outline:!0,onClick:function(){e(Me("color",zo))},children:Object(x.jsx)(pe.a,{size:14})})]})},Vo=function(e){var t=e.position,a=Object(b.b)(),c=Object(b.c)((function(e){return e})),n=c.normalForm,r=c.selectReducer.colorsOpt,s=n.color[t],i=s.idColor,o=s.stock,l=i?Vt(i):null;return Object(x.jsxs)("div",{className:"row border-bottom pb-1 mt-1 mx-1",children:[Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Colores"}),Object(x.jsx)(it.a,{name:"idColor",options:r,onChange:function(e){!function(e,c){var n=Mt(c);a(Be("color",t,{name:e,value:n}))}("idColor",e)},value:l})]}),Object(x.jsxs)("div",{className:"col-md-5",children:[Object(x.jsx)("label",{className:"control-label",children:"Stock"}),Object(x.jsx)("input",{type:"text",name:"stock",className:"form-control",onChange:function(e){var c=e.target,n={name:c.name,value:c.value};a(Be("color",t,n))},value:o})]}),Object(x.jsx)("div",{className:"col-md-2",children:Object(x.jsx)(Fe.a.Ripple,{className:"btn-icon form-control mt-2 btn-sm",color:"danger",outline:!0,onClick:function(){a(Le("color",t))},children:Object(x.jsx)(zt.a,{size:14})})})]})},Mo={itemType:{validations:[tt.isRequired]},idVendor:{validations:[tt.isRequired]},idFamily:{validations:[tt.isRequired]},idPlace:{validations:[tt.isRequired]}},Lo=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(f.g)(),n=Object(b.c)((function(e){return e.normalForm})),s=Object(b.c)((function(e){return e})),i=s.normalForm,o=s.formValidator,l=i.description,d=void 0!==e?e:i.itemCode;Object(r.useEffect)((function(){t(jt("ItemType","ItemType")),t(ut("Vendors","Vendors","comercialName")),void 0===e&&t(_e("ItemColors","itemCode")),t(Ke(Mo))}),[]);var j=function(){var r=Object(q.a)(z.a.mark((function r(s){var i,l;return z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:s.preventDefault(),i=et(o.schema,n),0!==Object.keys(i).length?t(Ye(i)):(l=Object(c.a)(Object(c.a)({},n),{},{idVendor:kt(n.idVendor),itemType:kt(n.itemType),idFamily:kt(n.idFamily),idPlace:kt(n.idPlace),show:kt(n.show),color:n.color.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{idColor:kt(e.idColor)})}))}),Q("ItemColors",e,l),t(Nt()),a.push("/items/itemColors"));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(x.jsxs)(at.a,{onSubmit:j,children:[Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:" card-body row pb-3 px-3",children:[Object(x.jsxs)("div",{className:"col-md-2",children:[Object(x.jsx)("label",{className:"control-label",children:"N\xba Art\xedculo"}),Object(x.jsx)("input",{className:"form-control",name:"itemCode",value:d,readOnly:!0})]}),Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)(st,{name:"name",label:"Nombre"})}),Object(x.jsx)("div",{className:"col-md-5",children:Object(x.jsx)(st,{name:"name_fr",label:"Nombre Franc\xe9s",placeholder:"Nombre"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idFamily",label:"Familia",endpoint:"Family"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{required:"true",name:"itemType",label:"Tipo de art\xedculo",endpoint:"ItemType"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{required:"true",name:"idVendor",label:"Proveedor",endpoint:"Vendors",labelName:"comercialName"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"idPlace",label:"Ubicaci\xf3n",endpoint:"Place"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"minimumStock",label:"Stock m\xednimo"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"priceVATout",label:"Precio sin IVA"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"priceVATin",label:"Precio con IVA"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"cost",label:"Coste"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(st,{type:"number",name:"maximumCost",label:"Coste m\xe1ximo"})}),Object(x.jsx)("div",{className:"col-md-3",children:Object(x.jsx)(mt,{name:"show",label:"Mostrar en albaran",endpoint:"Show"})}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{className:"control-label",children:"Descripci\xf3n"}),Object(x.jsx)("textarea",{className:"form-control",name:"description",placeholder:"Descripci\xf3n",value:l,onChange:function(e){var a=e.target;t(qe(a.name,a.value))}})]})]})}),Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-md-6",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(qo,{})})})})}),Object(x.jsx)(Tt,{})]})},Bo={color:[]},Uo=function(){var e=Object(f.i)().id,t=Object(b.b)(),a=Object(b.c)((function(e){return e.normalForm}));Object(r.useEffect)((function(){e&&t(We("ItemColors",e)),t(Ve(Bo))}),[Ve]);var c=e?"Editar Art\xedculocon color":"A\xf1adir Art\xedculo con color",n=a.name?a.name:c;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($e.a,{breadCrumbTitle:n,breadCrumbParent:"Art\xedculos con color",breadCrumbActive:c}),Object(x.jsx)(Lo,{})]})},Ho=[{path:"/items/itemColors",exact:!0,component:function(){return Object(x.jsx)(Ao,{titulo:"Art\xedculos con color"})},meta:{action:"read",resource:"itemColors"}},{path:"/items/itemColors/add",exact:!0,component:function(){return Object(x.jsx)(Uo,{})},meta:{action:"insert",resource:"itemColors"}},{path:"/items/itemColors/edit/:id",exact:!0,component:function(){return Object(x.jsx)(Uo,{})},meta:{action:"update",resource:"itemColors"}}],Wo=[{name:"N\xba",selector:"id",searcheable:!0,sortebale:!0,width:"8%"},{name:"Mensaje",selector:"message",searcheable:!0,sortable:!0,width:"45%"},{name:"Fecha de caducidad",selector:"date",searcheable:!0,sortable:!0,width:"25%"},{name:"Estado",selector:"isDone",searcheable:!0,sortable:!0,width:"18%",cell:function(e){return Object(x.jsx)(x.Fragment,{children:1===e.isDone?Object(x.jsx)(le.a,{color:"light-success",children:"Visto"}):Object(x.jsx)(le.a,{color:"light-danger",children:"No visto"})})}},{name:"",width:"4%",cell:function(e){var t=Object(b.b)();return Object(x.jsx)("div",{className:"d-flex",children:0!==e.isDone?"":Object(x.jsxs)(P.a,{children:[Object(x.jsx)(E.a,{className:"pr-1",tag:"span",children:Object(x.jsx)(C.a,{size:15})}),Object(x.jsx)(D.a,{right:!0,children:Object(x.jsxs)(I.a,{className:"w-100",onClick:function(){Q("Alerts",e.id,{id:e.id,isDone:1}),t(ce("Alerts"))},children:[Object(x.jsx)(N.a,{size:15}),Object(x.jsx)("span",{className:"align-middle ml-50",children:"Hecho"})]})})]})})}}],Jo=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Alerts"))}),[]),Object(x.jsx)(Pe,{title:t,columns:Wo,data:c,add:0})},_o=[{path:"/alerts",exact:!0,component:function(){return Object(x.jsx)(Jo,{titulo:"Alertas"})},meta:{action:"read",resource:"alerts"}}],Go=[{name:"N\xba",selector:"id",searcheable:!0,sortebale:!0,width:"8%"},{name:"Mensaje",selector:"message",searcheable:!0,sortable:!0,width:"30%"},{name:"Fecha",selector:"logDate",searcheable:!0,sortable:!0,width:"20%"},{name:"Hora",selector:"logTime",searcheable:!0,sortable:!0,width:"20%"},{name:"Usuario",selector:"usuario",searcheable:!0,sortable:!0,width:"20%"}],Ko=function(e){var t=e.titulo,a=Object(b.b)(),c=Object(b.c)((function(e){return e.registrosReducer})).registros;return Object(r.useEffect)((function(){a(Ue()),a(ce("Logs"))}),[]),Object(x.jsx)(Pe,{title:t,columns:Go,data:c,add:0})},Yo=[{path:"/logs",exact:!0,component:function(){return Object(x.jsx)(Ko,{titulo:"Logs"})},meta:{action:"read",resource:"logs"}}],Xo=Object(i.b)(),Qo=Xo?Xo.ability.find((function(e){return"read"===e.action})):"",Zo=null!==Qo?"/".concat(Qo.subject):"",$o=qc,el=[].concat(Object(g.a)(hn),Object(g.a)(Si),Object(g.a)(sn),Object(g.a)(Mi),Object(g.a)(Xc),Object(g.a)(sa),Object(g.a)(xa),Object(g.a)(Zn),Object(g.a)(Ir),Object(g.a)(Ar),Object(g.a)(Ho),Object(g.a)(Wr),Object(g.a)(gs),Object(g.a)(so),Object(g.a)(fa),Object(g.a)($o),Object(g.a)(_s),Object(g.a)(vi),Object(g.a)(Fi),Object(g.a)(fo),Object(g.a)(So),Object(g.a)(_o),Object(g.a)(Yo)),tl=a(539),al=["children"],cl=function(e){var t=e.children,a=(Object(je.a)(e,al),Object(tl.a)()),c=Object(n.a)(a,2),s=(c[0],c[1],Object(r.useState)(!1)),i=Object(n.a)(s,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){return l(!0),function(){return l(!1)}}),[]),o?Object(x.jsx)("div",{className:"blank-page",children:Object(x.jsx)("div",{className:"app-content content",children:Object(x.jsx)("div",{className:"content-wrapper",children:Object(x.jsx)("div",{className:"content-body",children:t})})})}):null},nl=a(686),rl=a(941),sl=a.n(rl),il=a(1102),ol=a(678),ll=function(){return Object(x.jsxs)("p",{className:"clearfix mb-0",children:[Object(x.jsxs)("span",{className:"float-md-left d-block d-md-inline-block mt-25",children:["COPYRIGHT \xa9 ",(new Date).getFullYear()," ",Object(x.jsx)("a",{href:"https://1.envato.market/pixinvent_portfolio",target:"_blank",rel:"noopener noreferrer",children:"Pixinvent"}),Object(x.jsx)("span",{className:"d-none d-sm-inline-block",children:", All rights Reserved"})]}),Object(x.jsxs)("span",{className:"float-md-right d-none d-md-block",children:["Hand-crafted & Made with",Object(x.jsx)(ol.a,{size:14})]})]})},dl=a(540),jl=a(1096),ul=a(679),bl=function(){var e=Object(b.b)(),t=Object(r.useState)(null),a=Object(n.a)(t,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){null!==Object(i.d)()&&s(JSON.parse(localStorage.getItem("userData")))}),[]),Object(x.jsxs)(jl.a,{tag:"li",className:"dropdown-user nav-item",children:[Object(x.jsxs)(Ce.a,{href:"/",tag:"a",className:"nav-link dropdown-user-link",onClick:function(e){return e.preventDefault()},children:[Object(x.jsxs)("div",{className:"user-nav d-sm-flex d-none",children:[Object(x.jsx)("span",{className:"user-name font-weight-bold",children:c&&c.fullName||""}),Object(x.jsx)("span",{className:"user-status",children:c&&c.role||"Admin"})]}),Object(x.jsx)(ei.a,{imgHeight:"40",imgWidth:"40",status:"online",initials:!0,content:c&&c.fullName||""})]}),Object(x.jsx)(we.a,{right:!0,children:Object(x.jsxs)(ke.a,{tag:v.b,to:"/login",onClick:function(){return e(Object(dl.b)())},children:[Object(x.jsx)(ul.a,{size:14,className:"mr-75"}),Object(x.jsx)("span",{className:"align-middle",children:"Cerrar Sesi\xf3n"})]})})]})},ml=a(587),Ol=a.n(ml),hl=a(680),xl=a(1097),pl=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.alertReducer})).data,a=void 0!==t?t:[];Object(r.useEffect)((function(){e(function(){var e=Object(q.a)(z.a.mark((function e(t,a){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=bs.a.AlertLoad,e.next=4,us("Alerts");case 4:e.t2=e.sent,e.t3={type:e.t1,payload:e.t2},(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[]);return Object(x.jsxs)(jl.a,{tag:"li",className:"dropdown-notification nav-item mr-25",children:[Object(x.jsxs)(Ce.a,{tag:"a",className:"nav-link",href:"/",onClick:function(e){return e.preventDefault()},children:[Object(x.jsx)(hl.a,{size:21}),a.length>=1?Object(x.jsx)(ia.a,{pill:!0,color:"danger",className:"badge-up",children:a.length}):""]}),Object(x.jsxs)(we.a,{tag:"ul",right:!0,className:"dropdown-menu-media mt-0",children:[Object(x.jsx)("li",{className:"dropdown-menu-header",children:Object(x.jsxs)(ke.a,{className:"d-flex",tag:"div",header:!0,children:[Object(x.jsx)("h4",{className:"notification-title mb-0 mr-auto",children:"Notifications"}),Object(x.jsx)(ia.a,{tag:"div",color:"light-primary",pill:!0,children:a.length})]})}),Object(x.jsx)(Ol.a,{component:"li",className:"media-list scrollable-container",options:{wheelPropagation:!1},children:a.map((function(e,t){return Object(x.jsx)(xl.a,{className:u()("d-flex"),children:Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(xl.a,{left:!0}),Object(x.jsxs)(xl.a,{className:"font-weight-bolder black",body:!0,children:[e.title,Object(x.jsx)("br",{}),Object(x.jsx)("small",{className:"notification-text",children:e.subtitle})]})]})})}))}),Object(x.jsx)("li",{className:"dropdown-menu-footer",children:Object(x.jsx)(v.b,{to:"/alerts",children:Object(x.jsx)(Fe.a.Ripple,{color:"primary",block:!0,children:"Ver todas las notificaciones"})})})]})]})},fl=a(681),vl=a(682),gl=a(1098),Nl=a(1099),yl=function(e){var t=e.skin,a=e.setSkin,c=function(){return"dark"===t?Object(x.jsx)(fl.a,{className:"ficon",onClick:function(){return a("light")}}):Object(x.jsx)(vl.a,{className:"ficon",onClick:function(){return a("dark")}})};return Object(x.jsxs)("ul",{className:"nav navbar-nav align-items-center ml-auto",children:[Object(x.jsx)(gl.a,{className:"d-none d-lg-block",children:Object(x.jsx)(Nl.a,{className:"nav-link-style",children:Object(x.jsx)(c,{})})}),Object(x.jsx)(pl,{}),Object(x.jsx)(bl,{})]})},Cl=a(684),wl=a(477),kl=a(701),Fl=a(37),Il=a.n(Fl),Tl=a(683),Dl=(a(945),a(946),function(e){var t,a,c,s=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(r.useRef)(null),l=Object(r.useState)(!1),j=Object(n.a)(l,2),b=j[0],m=j[1],O=Object(r.useState)(0),h=Object(n.a)(O,2),p=h[0],v=h[1],N=Object(r.useState)(!1),y=Object(n.a)(N,2),C=y[0],w=y[1],k=Object(r.useState)(e.value?e.value:""),F=Object(n.a)(k,2),I=F[0],T=F[1],D=Object(f.g)(),R=[],E=function(t,a){v(0),w(!1),T(R[p][e.filterKey]),void 0!==t&&null!==t&&D.push(t),e.onSuggestionClick&&e.onSuggestionClick(t,a)},S=function(e){v(e)},P=function(t){var a=e.filterKey,c=e.customRender;return t.map((function(e,t){return function(e,t){if(c)return c?c(e,t,R,p,E,S,I):null;var n=void 0!==e.link&&null!==e.link?e.link:null;return Object(x.jsx)("li",{className:u()("suggestion-item",{active:R.indexOf(e)===p}),onClick:function(e){return E(n,e)},onMouseEnter:function(){S(R.indexOf(e))},children:e[a]},e[a])}(e,t)}))};return Object(r.useEffect)((function(){e.defaultSuggestions&&b&&w(!0)}),[b,e.defaultSuggestions]),Object(r.useEffect)((function(){null!==Il.a.findDOMNode(i.current)&&e.autoFocus&&i.current.focus(),e.defaultSuggestions&&b&&w(!0),e.clearInput&&e.clearInput(I,T),e.onSuggestionsShown&&C&&e.onSuggestionsShown(I)}),[w,b,I,C,e]),t=s,a=function(){w(!1),e.externalClick&&e.externalClick()},Object(r.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&a(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,a]),C&&(c=Object(x.jsx)(Ol.a,{className:u()("suggestions-list",Object(d.a)({},e.wrapperClass,e.wrapperClass)),ref:o,component:"ul",options:{wheelPropagation:!1},children:function(){var t=e.filterKey,a=e.grouped,c=e.filterHeaderKey,n=e.suggestions;return void 0!==a&&null!==a&&a?(R=[],n.map((function(e){var a,n=e.data.filter((function(e){var a=e[t].toLowerCase().startsWith(I.toLowerCase()),c=e[t].toLowerCase().includes(I.toLowerCase());return a||(!a&&c?c:null)})).slice(0,e.searchLimit);return(a=R).push.apply(a,Object(g.a)(n)),Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)("li",{className:"suggestion-item suggestion-title-wrapper",children:Object(x.jsx)("h6",{className:"suggestion-title",children:e[c]})}),n.length?P(n):Object(x.jsxs)("li",{className:"suggestion-item no-result",children:[Object(x.jsx)(Tl.a,{size:15})," ",Object(x.jsx)("span",{className:"align-middle ml-50",children:"No Result"})]})]},e[c])}))):function(){var t,a=e.filterKey,c=e.suggestions,n=e.customRender,r=e.suggestionLimit;R=[];var s=c.filter((function(e){var t=e[a].toLowerCase().startsWith(I.toLowerCase()),c=e[a].toLowerCase().includes(I.toLowerCase());return t||(!t&&c?c:null)})).slice(0,r);return(t=R).push.apply(t,Object(g.a)(s)),s.length?s.map((function(e,t){var c=void 0!==e.link&&null!==e.link?e.link:null;return n?n?n(e,t,R,p,E,S,I):null:Object(x.jsx)("li",{className:u()("suggestion-item",{active:R.indexOf(e)===p}),onClick:function(e){return E(c,e)},onMouseEnter:function(){return S(R.indexOf(e))},children:e[a]},e[a])})):Object(x.jsxs)("li",{className:"suggestion-item no-result",children:[Object(x.jsx)(Tl.a,{size:15})," ",Object(x.jsx)("span",{className:"align-middle ml-50",children:"No Result"})]})}()}()})),Object(x.jsxs)("div",{className:"autocomplete-container",ref:s,children:[Object(x.jsx)("input",{type:"text",onChange:function(t){!function(e){var t=e.currentTarget.value;v(0),w(!0),T(t),e.target.value<1&&w(!1)}(t),e.onChange&&e.onChange(t)},onKeyDown:function(t){return function(t){var a=e.filterKey,c=Il.a.findDOMNode(o.current);if(38===t.keyCode&&0!==p)v(p-1),t.target.value.length>-1&&null!==c&&p<=R.length/2&&(c.scrollTop=0);else if(40===t.keyCode&&p<R.length-1)v(p+1),t.target.value.length>-1&&null!==c&&p>=R.length/2&&(c.scrollTop=c.scrollHeight);else if(27===t.keyCode)w(!1),T("");else{if(13!==t.keyCode||!C)return;E(R[p].link,t),T(R[p][a]),w(!1)}void 0!==e.onKeyDown&&null!==e.onKeyDown&&e.onKeyDown(t,I)}(t)},value:I,className:"autocomplete-search ".concat(e.className?e.className:""),placeholder:e.placeholder,onClick:function(e){e.stopPropagation()},ref:i,onFocus:function(e){return m(!0)},autoFocus:e.autoFocus,onBlur:function(t){e.onBlur&&e.onBlur(t),m(!1)}}),c]})}),Rl=function(e){return function(t){return t({type:"HANDLE_SEARCH_QUERY",val:e})}},El=function(e){var t=e.setMenuVisibility,a=Object(r.useState)(""),c=Object(n.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(!1),l=Object(n.a)(o,2),d=l[0],j=l[1],m=Object(b.b)(),O=Object(b.c)((function(e){return e.navbar}));Object(r.useEffect)((function(){m((function(e){return H.a.get("/api/bookmarks/data").then((function(t){e({type:"GET_BOOKMARKS",data:t.data.suggestions,bookmarks:t.data.bookmarks})}))}))}),[]);var h=function(){return m(Rl(""))},p=function(e){return m(function(e){return function(t){return H.a.post("/api/bookmarks/update",{id:e}).then((function(){t({type:"UPDATE_BOOKMARKED",id:e})}))}}(e))};return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)("ul",{className:"navbar-nav d-xl-none",children:Object(x.jsx)(gl.a,{className:"mobile-menu mr-auto",children:Object(x.jsx)(Nl.a,{className:"nav-menu-main menu-toggle hidden-xs is-active",onClick:function(){return t(!0)},children:Object(x.jsx)(ci.a,{className:"ficon"})})})}),Object(x.jsx)("ul",{className:"nav navbar-nav bookmark-icons",children:Object(x.jsx)(gl.a,{className:"nav-item d-none d-lg-block",children:Object(x.jsxs)("div",{className:u()("bookmark-input search-input",{show:d}),children:[Object(x.jsx)("div",{className:"bookmark-input-icon",children:Object(x.jsx)(Cl.a,{size:14})}),d&&O.suggestions.length?Object(x.jsx)(Dl,{wrapperClass:u()("search-list search-list-bookmark",{show:d}),className:"form-control",suggestions:s.length?O.suggestions:O.bookmarks,filterKey:"title",autoFocus:!0,defaultSuggestions:!0,suggestionLimit:s.length?6:O.bookmarks.length,placeholder:"Search...",externalClick:function(){!0===d&&(j(!1),h())},clearInput:function(e,t){return function(e){d||(e(""),h())}(t)},onKeyDown:function(e){27!==e.keyCode&&13!==e.keyCode||setTimeout((function(){j(!1),h()}),1)},value:s,onChange:function(e){i(e.target.value),m(Rl(e.target.value))},customRender:function(e,t,a,c,n,r){var s=wl[e.icon?e.icon:"X"];return Object(x.jsxs)("li",{onMouseEnter:function(){return r(a.indexOf(e))},className:u()("suggestion-item d-flex align-items-center justify-content-between",{active:a.indexOf(e)===c}),children:[Object(x.jsx)(v.b,{to:e.link,className:"d-flex align-items-center justify-content-between p-0",onClick:function(){j(!1),h()},style:{width:"calc(90%)"},children:Object(x.jsxs)("div",{className:"d-flex justify-content-start align-items-center overflow-hidden",children:[Object(x.jsx)(s,{size:17.5,className:"mr-75"}),Object(x.jsx)("span",{className:"text-truncate",children:e.title})]})}),Object(x.jsx)(kl.a,{size:17.5,className:u()("bookmark-icon float-right",{"text-warning":e.isBookmarked}),onClick:function(){return p(e.id)}})]},t)}}):null]})})})]})},Sl=function(e){var t=e.skin,a=e.setSkin,c=e.setMenuVisibility;return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)("div",{className:"bookmark-wrapper d-flex align-items-center",children:Object(x.jsx)(El,{setMenuVisibility:c})}),Object(x.jsx)(yl,{skin:t,setSkin:a})]})},Pl=[{id:"customers",title:"Clientes",icon:Object(x.jsx)(ct.a,{icon:nt.p}),navLink:"/customers"}],Al=[{id:"vendors",title:"Proveedores",icon:Object(x.jsx)(ct.a,{icon:nt.c}),navLink:"/vendors"}],zl=a(688),ql=[{id:"porters",title:"Transporte",icon:Object(x.jsx)(ct.a,{icon:nt.n}),children:[{id:"carriers",title:"Transportistas",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/porters/carriers"},{id:"vehicles",title:"Veh\xedculos",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/porters/vehicles"},{id:"trailers",title:"Remolques",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/porters/trailers"}]}],Vl=[{id:"pools",title:"Piscinas",icon:Object(x.jsx)(ct.a,{icon:nt.l}),navLink:"/pools"}],Ml=[{id:"purchases",title:"Compras",icon:Object(x.jsx)(ct.a,{icon:nt.k}),navLink:"/purchases"}],Ll=[{id:"stock",title:"Art\xedculos",icon:Object(x.jsx)(ct.a,{icon:nt.f}),children:[{id:"items",title:"Art\xedculos",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/items"},{id:"colors",title:"Art\xedculos con color",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/items/itemColors"},{id:"family",title:"Familias",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/items/family"}]}],Bl=[{id:"orders",title:"Pedidos",icon:Object(x.jsx)(ct.a,{icon:nt.j}),navLink:"/orders"}],Ul=[{id:"production",title:"Producci\xf3n",icon:Object(x.jsx)(ct.a,{icon:nt.g}),navLink:"/production"}],Hl=[{id:"setup",title:"Configuraci\xf3n",icon:Object(x.jsx)(ct.a,{icon:nt.e}),children:[{id:"general",title:"General",icon:Object(x.jsx)(ct.a,{icon:nt.a}),children:[{id:"paymentMethods",title:"M\xe9todos de pago",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/general/paymentMethods"},{id:"departments",title:"Departamentos",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/general/departments"},{id:"addressesTypes",title:"Tipos de direcciones",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/general/addressesTypes"},{id:"taxes",title:"Impuestos",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/taxes"}]},{id:"setupCustomers",title:"Clientes",icon:Object(x.jsx)(ct.a,{icon:nt.p}),children:[{id:"customerType",title:"Tipos de cliente",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/customer/customerType"},{id:"customerCategory",title:"Categorias de cliente",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/customer/category"},{id:"activity",title:"Actividades",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/customer/activity"},{id:"origin",title:"Origenes",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/customer/origin"}]},{id:"setupVendors",title:"Proveedores",icon:Object(x.jsx)(ct.a,{icon:nt.c}),children:[{id:"vendorType",title:"Tipos de proveedor",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/vendors/vendorType"}]},{id:"setupVehicles",title:"Veh\xedculos",icon:Object(x.jsx)(ct.a,{icon:nt.n}),children:[{id:"brand",title:"Marcas",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/vehicles/brand"},{id:"model",title:"Modelos",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/vehicles/model"}]},{id:"setupItems",title:"Art\xedculos",icon:Object(x.jsx)(ct.a,{icon:nt.f}),children:[{id:"place",title:"Ubicaciones",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/items/place"},{id:"colors",title:"Colores",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/setup/items/colors"}]}]}],Wl=[{id:"calendar",title:"Calendario",icon:Object(x.jsx)(ct.a,{icon:nt.d}),navLink:"/calendar"}],Jl=[{id:"delivery",title:"Gestor de entregas",icon:Object(x.jsx)(ct.a,{icon:nt.m}),navLink:"/delivery"}],_l=[{id:"usersRoles",title:"Usuarios / Roles",icon:Object(x.jsx)(ct.a,{icon:nt.q}),children:[{id:"users",title:"Usuarios",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/users"},{id:"roles",title:"Roles",icon:Object(x.jsx)(zl.a,{size:12}),navLink:"/roles"}]}],Gl=[{id:"alerts",title:"Alertas",icon:Object(x.jsx)(ct.a,{icon:nt.b}),navLink:"/alerts"}],Kl=[{id:"logs",title:"Logs",icon:Object(x.jsx)(ct.a,{icon:nt.i}),navLink:"/logs"}],Yl=[].concat(Object(g.a)([{header:"Men\xfa",group:["customers","vendors","carriers","vehicles","trailers","pools","items","family","purchases","orders","delivery","production","calendar"]}]),Object(g.a)(Pl),Object(g.a)(Al),Object(g.a)(ql),Object(g.a)(Vl),Object(g.a)(Ll),Object(g.a)(Ml),Object(g.a)(Bl),Object(g.a)(Jl),Object(g.a)(Ul),Object(g.a)(Wl),Object(g.a)([{header:"Administrador",group:["users","roles","paymentMethods","departments","addressesTypes","taxes","customerType","customerCategory","activities","origins","vendorType","brand","model","place","colors"]}]),Object(g.a)(_l),Object(g.a)(Hl),Object(g.a)(Gl),Object(g.a)(Kl)),Xl=a(690),Ql=function(e){var t=e.menuCollapsed,a=e.setMenuCollapsed,c=e.setMenuVisibility,n=e.setGroupOpen,s=e.menuHover;Object(r.useEffect)((function(){!s&&t&&n([])}),[s,t]);var i=function(){return t?Object(x.jsx)(zl.a,{size:20,"data-tour":"toggle-icon",className:"text-primary toggle-icon d-none d-xl-block",onClick:function(){return a(!1)}}):Object(x.jsx)(Xl.a,{size:20,"data-tour":"toggle-icon",className:"text-primary toggle-icon d-none d-xl-block",onClick:function(){return a(!0)}})};return Object(x.jsx)("div",{className:"navbar-header",children:Object(x.jsxs)("ul",{className:"nav navbar-nav flex-row",children:[Object(x.jsx)("li",{className:"nav-item mr-auto",children:Object(x.jsxs)(v.c,{to:"/",className:"navbar-brand",children:[Object(x.jsx)("span",{className:"brand-logo",children:Object(x.jsx)("img",{src:o.a.app.appLogoImage,alt:"logo"})}),Object(x.jsx)("h2",{className:"brand-text mb-0",children:o.a.app.appName})]})}),Object(x.jsx)("li",{className:"nav-item nav-toggle",children:Object(x.jsxs)("div",{className:"nav-link modern-nav-toggle cursor-pointer",children:[Object(x.jsx)(i,{}),Object(x.jsx)(zt.a,{onClick:function(){return c(!1)},className:"toggle-icon icon-x d-block d-xl-none",size:20})]})})]})})},Zl=a(1100),$l=function(e,t,a){return t===e||a&&a.meta&&a.meta.navLink&&a.meta.navLink===e},ed=function e(t,a,c){return t.some((function(t){return t.children?e(t.children,a,c):$l(t.navLink,a,c)}))},td=function e(t,a,c){var n;return t.some((function(t){var r;return t.children&&(r=e(t.children,a,c))?n={id:t.id,children:r}:$l(t.navLink,a,c)?n={id:t.id}:void 0})),n},ad=function(e,t){var a=[];return function e(c,n){for(var r in c){var s=c[r];void 0!==s&&(s&&"object"===typeof s?e(s,r):r===t&&a.push(s))}}(e),a},cd=function e(t){var a=Object(r.useContext)(l.a),c=t.children&&t.children.some((function(t){return t.children?e(t):a.can("read",t.id)}));return t.action&&t.resource?a.can("read",t.id)&&c:c},nd=function(e){var t=e.item,a=(e.groupActive,e.setGroupActive),n=e.activeItem,s=e.setActiveItem,i=(e.groupOpen,e.setGroupOpen),o=e.toggleActiveGroup,l=e.parentItem,d=e.routerProps,j=e.currentActiveItem,b=t.externalLink?"a":v.c,m=Object(f.h)(),O=m.pathname,h=Object(f.f)(O,{path:"".concat(t.navLink,"/:param"),exact:!0,strict:!1});return Object(r.useEffect)((function(){if(null!==j){s(j);var e=function(e,t){var a=td(e,t,d);return ad(a,"id")}(Yl,O);a(Object(g.a)(e))}}),[m]),Object(x.jsx)("li",{className:u()({"nav-item":!t.children,disabled:t.disabled,active:t.navLink===n}),children:Object(x.jsxs)(b,Object(c.a)(Object(c.a)({className:"d-flex align-items-center",target:t.newTab?"_blank":void 0},!0===t.externalLink?{href:t.navLink||"/"}:{to:t.navLink||"/",isActive:function(e,a){if(!e)return!1;e.url&&""!==e.url&&e.url===t.navLink&&(j=t.navLink)}}),{},{onClick:function(e){t.navLink.length||e.preventDefault(),l?function(e){var a=td(Yl,e,h);o(t.id,a)}(t.navLink):(a([]),i([]))},children:[t.icon,Object(x.jsx)("span",{className:"menu-item text-truncate",children:Object(x.jsx)(Zl.a,{id:t.title})}),t.badge&&t.badgeText?Object(x.jsx)(ia.a,{className:"ml-auto mr-1",color:t.badge,pill:!0,children:t.badgeText}):null]}))})},rd=a(1101),sd=function(e){var t,a=e.item,c=e.groupActive,n=e.setGroupActive,r=e.activeItem,s=e.setActiveItem,i=e.groupOpen,o=e.setGroupOpen,l=e.parentItem,d=e.menuCollapsed,j=e.menuHover,b=e.routerProps,m=e.currentActiveItem,O=Object(f.h)().pathname,h=function(e,t){var a,r=c;t?(a=ad(t,"id"),r=a):r.includes(e)?r.splice(r.indexOf(e),1):r.push(e);var s=i.filter((function(e){return!r.includes(e)}));o(Object(g.a)(s)),n(Object(g.a)(r))},p=function(e,t){c&&c.includes(t.id)||ed(t.children,O,b)?h(t.id):function(e,t){var a,c=i;t&&(a=ad(t,"id")).pop(),i&&a&&i[0]===a[0]?i.includes(e)?c.splice(c.indexOf(e),1):c.push(e):(c=[],i.includes(e)||c.push(e)),o(Object(g.a)(c))}(t.id,l),e.preventDefault()};return Object(x.jsxs)("li",{className:u()("nav-item has-sub",{open:(t=a.id,d&&j||!1===d?!(!c.includes(t)&&!i.includes(a.id))||void 0:(!c.includes(t)||!d||!1!==j)&&null),"menu-collapsed-open":c.includes(a.id),"sidebar-group-active":c.includes(a.id)||i.includes(a.id)}),children:[Object(x.jsxs)(v.b,{className:"d-flex align-items-center",to:"/",onClick:function(e){return p(e,a)},children:[a.icon,Object(x.jsx)("span",{className:"menu-title text-truncate",children:Object(x.jsx)(Zl.a,{id:a.title})}),a.badge&&a.badgeText?Object(x.jsx)(ia.a,{className:"ml-auto mr-1",color:a.badge,pill:!0,children:a.badgeText}):null]}),Object(x.jsx)("ul",{className:"menu-content",children:Object(x.jsx)(rd.a,{isOpen:c&&c.includes(a.id)||i&&i.includes(a.id),children:Object(x.jsx)(ld,{items:a.children,groupActive:c,setGroupActive:n,groupOpen:i,setGroupOpen:o,toggleActiveGroup:h,parentItem:a,menuCollapsed:d,menuHover:j,routerProps:b,currentActiveItem:m,activeItem:r,setActiveItem:s})})})]})},id=a(698),od=function(e){var t=e.item;e.index;return Object(x.jsxs)("li",{className:"navigation-header",children:[Object(x.jsx)("span",{children:Object(x.jsx)(Zl.a,{id:t.header})}),Object(x.jsx)(id.a,{className:"feather-more-horizontal"})]})},ld=function(e){var t={VerticalNavMenuSectionHeader:od,VerticalNavMenuGroup:sd,VerticalNavMenuLink:nd};return e.items.map((function(a,n){var s=t[function(e){return e.header?"VerticalNavMenuSectionHeader":e.children?"VerticalNavMenuGroup":"VerticalNavMenuLink"}(a)];return a.header?function(e){var t,a=Object(r.useContext)(l.a),c=!1;try{e.group.forEach((function(e){if(a.can("read",e))throw c=!0,t}))}catch(n){if(n!==t)throw n}return c}(a)&&Object(x.jsx)(s,Object(c.a)({item:a},e),a.header):a.children?cd(a)&&Object(x.jsx)(s,Object(c.a)({item:a,index:n},e),a.id):function(e){return Object(r.useContext)(l.a).can("read",e.id)}(a)&&Object(x.jsx)(s,Object(c.a)({item:a},e),a.id)}))},dd=function(e){var t=e.menuCollapsed,a=e.routerProps,s=e.menu,i=e.currentActiveItem,o=e.skin,l=Object(r.useState)([]),d=Object(n.a)(l,2),j=d[0],b=d[1],m=Object(r.useState)([]),O=Object(n.a)(m,2),h=O[0],p=O[1],f=Object(r.useState)(null),v=Object(n.a)(f,2),g=v[0],N=v[1],y=Object(r.useState)(!1),C=Object(n.a)(y,2),w=C[0],k=C[1],F=Object(r.useRef)(null);return Object(x.jsx)(r.Fragment,{children:Object(x.jsx)("div",{className:u()("main-menu menu-fixed menu-accordion menu-shadow",{expanded:w||!1===t,"menu-light":"semi-dark"!==o&&"dark"!==o,"menu-dark":"semi-dark"===o||"dark"===o}),onMouseEnter:function(){t&&k(!0)},onMouseLeave:function(){return k(!1)},children:s||Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(Ql,Object(c.a)({setGroupOpen:b,menuHover:w},e)),Object(x.jsx)("div",{className:"shadow-bottom",ref:F}),Object(x.jsx)(Ol.a,{className:"main-menu-content",options:{wheelPropagation:!1},onScrollY:function(e){return function(e){F&&e.scrollTop>0?F.current.classList.contains("d-block")||F.current.classList.add("d-block"):F.current.classList.contains("d-block")&&F.current.classList.remove("d-block")}(e)},children:Object(x.jsx)("ul",{className:"navigation navigation-main",children:Object(x.jsx)(ld,{items:Yl,groupActive:h,setGroupActive:p,activeItem:g,setActiveItem:N,groupOpen:j,setGroupOpen:b,routerProps:a,menuCollapsed:t,menuHover:w,currentActiveItem:i})})})]})})})},jd=(a(953),a(954),function(e){var t=e.children,a=e.navbar,s=e.footer,i=e.menu,l=e.routerProps,d=e.currentActiveItem,j=Object(tl.a)(),m=Object(n.a)(j,2),h=m[0],p=m[1],v=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.layout.isRTL}));return Object(r.useEffect)((function(){var e=document.getElementsByTagName("html")[0];t?e.setAttribute("dir","rtl"):e.setAttribute("dir","ltr")}),[t]),[t,function(a){try{var c=a instanceof Function?a(t):a;e(function(e){return function(t){return t({type:"HANDLE_RTL",value:e})}}(c))}catch(n){console.log(n)}}]}(),g=Object(n.a)(v,2),N=(g[0],g[1],function(){var e=Object(r.useState)((function(){try{return o.a.layout.navbar.type}catch(e){return console.log(e),o.a.layout.navbar.type}})),t=Object(n.a)(e,2),a=t[0],c=t[1];return[a,function(e){try{var t=e instanceof Function?e(a):e;c(t)}catch(n){console.log(n)}}]}()),y=Object(n.a)(N,2),C=y[0],w=(y[1],function(){var e=Object(r.useState)((function(){try{return o.a.layout.footer.type}catch(e){return console.log(e),o.a.layout.footer.type}})),t=Object(n.a)(e,2),a=t[0],c=t[1];return[a,function(e){try{var t=e instanceof Function?e(a):e;c(t)}catch(n){console.log(n)}}]}()),k=Object(n.a)(w,2),F=k[0],I=(k[1],function(){var e=Object(r.useState)((function(){try{return o.a.layout.navbar.backgroundColor}catch(e){return console.log(e),o.a.layout.navbar.backgroundColor}})),t=Object(n.a)(e,2),a=t[0],c=t[1];return[a,function(e){try{var t=e instanceof Function?e(a):e;c(t)}catch(n){console.log(n)}}]}()),T=Object(n.a)(I,2),D=T[0],R=(T[1],Object(r.useState)(!1)),E=Object(n.a)(R,2),S=E[0],P=E[1],A=Object(r.useState)(!1),z=Object(n.a)(A,2),q=z[0],V=z[1],M=Object(r.useState)(window.innerWidth),L=Object(n.a)(M,2),B=L[0],U=L[1],H=Object(b.b)(),W=Object(b.c)((function(e){return e.layout})),J=function(){U(window.innerWidth)},_=Object(f.h)(),G=(W.contentWidth,W.menuCollapsed),K=W.menuHidden;Object(r.useEffect)((function(){q&&B<1200&&V(!1)}),[_]),Object(r.useEffect)((function(){void 0!==window&&window.addEventListener("resize",J)}),[B]),Object(r.useEffect)((function(){return P(!0),function(){return P(!1)}}),[]);var Y={static:"footer-static",sticky:"footer-fixed",hidden:"footer-hidden"},X=""!==D&&"light"!==D&&"white"!==D;return S?Object(x.jsxs)("div",Object(c.a)(Object(c.a)({className:u()("wrapper vertical-layout ".concat({floating:"navbar-floating",sticky:"navbar-sticky",static:"navbar-static",hidden:"navbar-hidden"}[C]||"navbar-floating"," ").concat(Y[F]||"footer-static"),{"vertical-menu-modern":B>=1200,"menu-collapsed":G&&B>=1200,"menu-expanded":!G&&B>1200,"vertical-overlay-menu":B<1200,"menu-hide":!q&&B<1200,"menu-open":q&&B<1200})},K?{"data-col":"1-column"}:{}),{},{children:[K?null:Object(x.jsx)(dd,{skin:h,menu:i,menuCollapsed:G,menuVisibility:q,setMenuCollapsed:function(e){return H(O(e))},setMenuVisibility:V,routerProps:l,currentActiveItem:d}),Object(x.jsx)(il.a,{expand:"lg",light:"dark"!==h,dark:"dark"===h||X,color:X?D:void 0,className:u()("header-navbar navbar align-items-center ".concat({floating:"floating-nav",sticky:"fixed-top",static:"navbar-static-top",hidden:"d-none"}[C]||"floating-nav"," navbar-shadow")),children:Object(x.jsx)("div",{className:"navbar-container d-flex content",children:a||Object(x.jsx)(Sl,{setMenuVisibility:V,skin:h,setSkin:p})})}),t,Object(x.jsx)("div",{className:u()("sidenav-overlay",{show:q}),onClick:function(){return V(!1)}}),Object(x.jsx)("footer",{className:u()("footer footer-light ".concat(Y[F]||"footer-static"),{"d-none":"hidden"===F}),children:s||Object(x.jsx)(ll,{footerType:F,footerClasses:Y})}),!0===o.a.layout.scrollTop?Object(x.jsx)("div",{className:"scroll-to-top",children:Object(x.jsx)(sl.a,{showUnder:300,duration:1e3,style:{bottom:"5%"},children:Object(x.jsx)(Fe.a,{className:"btn-icon",color:"primary",children:Object(x.jsx)(nl.a,{size:14})})})}):null]})):null}),ud=function(e){return Object(x.jsx)(jd,Object(c.a)(Object(c.a)({},e),{},{children:e.children}))},bd=function(){var e=function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)((function(){try{return o.a.layout.type}catch(e){return console.log(e),o.a.layout.type}})),i=Object(n.a)(s,2),l=i[0],d=i[1],j=function(){"horizontal"===l&&window.innerWidth<=1200&&(d("vertical"),c("horizontal")),"horizontal"===a&&window.innerWidth>=1200&&d("horizontal")};return Object(r.useEffect)((function(){j()}),[]),Object(r.useEffect)((function(){window.addEventListener("resize",j)}),[l,a]),[l,function(e){try{var t=e instanceof Function?e(l):e;d(t)}catch(a){console.log(a)}}]}(),t=Object(n.a)(e,2),d=(t[0],t[1]),j=function(){var e=Object(r.useState)((function(){try{return o.a.layout.routerTransition}catch(e){return console.log(e),o.a.layout.routerTransition}})),t=Object(n.a)(e,2),a=t[0],c=t[1];return[a,function(e){try{var t=e instanceof Function?e(a):e;c(t)}catch(n){console.log(n)}}]}(),u=Object(n.a)(j,2),m=u[0],O=u[1],h=Object(r.useContext)(l.a),g="VerticalLayout",N={BlankLayout:cl,VerticalLayout:ud},y=Object(r.lazy)((function(){return a.e(2).then(a.bind(null,1103))})),C=Object(r.lazy)((function(){return a.e(1).then(a.bind(null,1104))})),w=function(e){var t,a,n=e.route;return n.meta&&(t=n.meta.action?n.meta.action:null,a=n.meta.resource?n.meta.resource:null),!Object(i.d)()&&void 0===n.meta||!Object(i.d)()&&n.meta&&!n.meta.authRoute&&!n.meta.publicRoute?Object(x.jsx)(f.a,{to:"/login"}):n.meta&&n.meta.authRoute&&Object(i.d)()?Object(x.jsx)(f.a,{to:"/"}):Object(i.d)()&&!h.can(t||"read",a)?Object(x.jsx)(f.a,{to:"/misc/not-authorized"}):Object(x.jsx)(n.component,Object(c.a)({},e))},k=Object(r.useRef)(null),F=Object(b.b)();return Object(x.jsx)(v.a,{basename:"",children:Object(x.jsxs)(f.d,{children:[Object(x.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(i.d)()?Object(x.jsx)(f.a,{to:Zo}):Object(x.jsx)(f.a,{to:"/login"})}}),Object(x.jsx)(f.b,{exact:!0,path:"/misc/not-authorized",render:function(e){return Object(x.jsx)(N.BlankLayout,{children:Object(x.jsx)(y,{})})}}),Object(x.jsx)(s.a,{ref:k,timeout:36e5,onIdle:function(){return F(Object(dl.b)())},children:Object.keys(N).map((function(e,t){var a=N[e],n=function(e){var t=[],a=[];return el&&el.filter((function(c){(c.layout===e||void 0===c.layout&&g===e)&&(t.push(c),a.push(c.path))})),{LayoutRoutes:t,LayoutPaths:a}}(e),s=n.LayoutRoutes,i=n.LayoutPaths,o={};return Object(x.jsx)(f.b,{path:i,children:Object(x.jsx)(a,{routerProps:o,layout:e,setLayout:d,transition:m,setTransition:O,currentActiveItem:null,children:Object(x.jsx)(f.d,{children:s.map((function(e){return Object(x.jsx)(f.b,{path:e.path,exact:!0===e.exact,render:function(t){return Object.assign(o,Object(c.a)(Object(c.a)({},t),{},{meta:e.meta})),Object(x.jsx)(r.Suspense,{fallback:null,children:Object(x.jsx)(p,Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({layout:g,transition:m,setTransition:O},e.appLayout?{appLayout:e.appLayout}:{}),e.meta?{routeMeta:e.meta}:{}),e.className?{wrapperClass:e.className}:{}),{},{children:Object(x.jsx)(w,Object(c.a)({route:e},t))}))})}},e.path)}))})})},t)}))}),Object(x.jsx)(f.b,{path:"*",component:C})]})})};t.default=function(e){return Object(x.jsx)(bd,{})}},486:function(e,t,a){"use strict";var c=a(479),n=a(475),r=a(1086),s=a(1087),i=a(7);t.a=function(e){var t=e.breadCrumbTitle,a=e.breadCrumbParent,o=e.breadCrumbParent2,l=e.breadCrumbParent3,d=e.breadCrumbActive,j=Object(c.g)();return Object(i.jsx)("div",{className:"content-header row",children:Object(i.jsx)("div",{className:"content-header-left col-md-9 col-12 mb-2",children:Object(i.jsx)("div",{className:"row breadcrumbs-top",children:Object(i.jsxs)("div",{className:"col-12",children:[t?Object(i.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(i.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(i.jsxs)(r.a,{children:[Object(i.jsx)(s.a,{tag:"li",children:Object(i.jsx)(n.b,{to:"/",children:"Inicio"})}),Object(i.jsx)(s.a,{tag:"li",className:"text-primary",style:{cursor:"Pointer"},onClick:function(){j.goBack()},children:a}),o?Object(i.jsx)(s.a,{tag:"li",className:"text-primary",children:o}):"",l?Object(i.jsx)(s.a,{tag:"li",className:"text-primary",children:l}):"",Object(i.jsx)(s.a,{tag:"li",active:!0,children:d})]})})]})})})})}},488:function(e,t,a){},515:function(e,t,a){"use strict";var c=a(1),n=a(6),r=a(138),s=a(0),i=a(1089),o=a(65),l=a.n(o),d=a(7),j=["color","className","imgClassName","initials","size","badgeUp","content","icon","badgeColor","badgeText","img","imgHeight","imgWidth","status","tag","contentStyles"],u=Object(s.forwardRef)((function(e,t){var a,s,o=e.color,u=e.className,b=e.imgClassName,m=e.initials,O=e.size,h=e.badgeUp,x=e.content,p=e.icon,f=e.badgeColor,v=e.badgeText,g=e.img,N=e.imgHeight,y=e.imgWidth,C=e.status,w=e.tag,k=e.contentStyles,F=Object(r.a)(e,j);return Object(d.jsxs)(w,Object(c.a)(Object(c.a)({className:l()("avatar",(a={},Object(n.a)(a,u,u),Object(n.a)(a,"bg-".concat(o),o),Object(n.a)(a,"avatar-".concat(O),O),a)),ref:t},F),{},{children:[!1===g||void 0===g?Object(d.jsxs)("span",{className:l()("avatar-content",{"position-relative":h}),style:k,children:[m?function(e){var t=[];return e.split(" ").forEach((function(e){t.length<2&&t.push(e[0])})),t.join("")}(x):x,p||null,h?Object(d.jsx)(i.a,{color:f||"primary",className:"badge-sm badge-up",pill:!0,children:v||"0"}):null]}):Object(d.jsx)("img",{className:l()(Object(n.a)({},b,b)),src:g,alt:"avatarImg",height:N&&!O?N:32,width:y&&!O?y:32}),C?Object(d.jsx)("span",{className:l()((s={},Object(n.a)(s,"avatar-status-".concat(C),C),Object(n.a)(s,"avatar-status-".concat(O),O),s))}):null]}))}));t.a=u,u.defaultProps={tag:"div"}},523:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));a(1);var c=function(e){return 0===Object.keys(e).length},n=function(){return localStorage.getItem("userData")},r=function(){return JSON.parse(localStorage.getItem("userData"))},s=function(e){var t=r().ability.find((function(e){return"read"===e.action}));return""!==e?"/".concat(t.subject):"/login"}},539:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a(10),n=a(17),r=a(0),s=a(51),i=function(){var e=Object(r.useState)((function(){try{var e=window.localStorage.getItem("skin");return e?JSON.parse(e):s.a.layout.skin}catch(t){return console.log(t),s.a.layout.skin}})),t=Object(n.a)(e,2),a=t[0],i=t[1];return Object(r.useEffect)((function(){var e,t=window.document.body;(e=t.classList).remove.apply(e,Object(c.a)(t.classList)),"light"!==a&&t.classList.add({dark:"dark-layout",bordered:"bordered-layout","semi-dark":"semi-dark-layout"}[a])}),[a]),[a,function(e){try{var t=e instanceof Function?e(a):e;i(t),window.localStorage.setItem("skin",JSON.stringify(t))}catch(c){console.log(c)}}]}},540:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var c=a(6),n=a(586),r=a(124),s=n.a.jwtConfig,i=function(e){return function(t){t(Object(c.a)({type:r.a.login,data:e,config:s},s.storageTokenKeyName,e[s.storageTokenKeyName])),localStorage.setItem("userData",JSON.stringify(e)),localStorage.setItem(s.storageTokenKeyName,JSON.stringify(e.accessToken))}},o=function(){return function(e){e(Object(c.a)({type:r.a.logout},s.storageTokenKeyName,null)),localStorage.removeItem("userData"),localStorage.removeItem(s.storageTokenKeyName)}}},561:function(e,t,a){"use strict";var c=a(1),n=a(6),r=a(17),s=a(138),i=a(0),o=a(65),l=a.n(o),d=a(630),j=a(676),u=a(1084),b=a(1094),m=a(1085),O=a(1095),h=a(937),x=a(7),p=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName"],f=function(e){var t=e.label,a=e.hideIcon,o=e.showIcon,f=e.visible,v=e.className,g=e.htmlFor,N=e.placeholder,y=e.iconSize,C=e.inputClassName,w=Object(s.a)(e,p),k=Object(i.useState)(f),F=Object(r.a)(k,2),I=F[0],T=F[1];return Object(x.jsxs)(i.Fragment,{children:[t?Object(x.jsx)(u.a,{for:g,children:t}):null,Object(x.jsxs)(b.a,{className:l()(Object(n.a)({},v,v)),children:[Object(x.jsx)(m.a,Object(c.a)(Object(c.a)({type:!1===I?"password":"text",placeholder:N||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:l()(Object(n.a)({},C,C))},t&&g?{id:g}:{}),w)),Object(x.jsx)(O.a,{addonType:"append",onClick:function(){return T(!I)},children:Object(x.jsx)(h.a,{className:"cursor-pointer",style:{backgroundColor:"transparent !important"},children:function(){var e=y||14;return!1===I?a||Object(x.jsx)(d.a,{size:e}):o||Object(x.jsx)(j.a,{size:e})}()})})]})]})};t.a=f,f.defaultProps={visible:!1}},586:function(e,t,a){"use strict";var c=a(713),n=Object(c.a)({}).jwt;t.a=n},713:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var c=a(476),n=a.n(c),r=a(478),s=a(1),i=a(131),o=a(132),l=a(89),d=a.n(l),j={loginEndpoint:"".concat("https://betasfp.madetosoft.com","/auth/login"),refreshEndpoint:"".concat("https://betasfp.madetosoft.com","/auth/refreshToken"),logoutEndpoint:"".concat("https://betasfp.madetosoft.com","/jwt/logout"),tokenType:"Bearer",storageTokenKeyName:"accessToken"},u=function(){function e(t){var a=this;Object(i.a)(this,e),this.jwtConfig=Object(s.a)({},j),this.isAlreadyFetchingAccessToken=!1,this.subscribers=[],this.jwtConfig=Object(s.a)(Object(s.a)({},this.jwtConfig),t),d.a.interceptors.request.use((function(e){var t=a.getToken();return t&&(e.headers.Authorization="".concat(a.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),d.a.interceptors.response.use((function(e){return e}),function(){var e=Object(r.a)(n.a.mark((function e(t){var c,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.config,s=t.response,i=c,!s||401!==s.status){e.next=7;break}return a.isAlreadyFetchingAccessToken||(a.isAlreadyFetchingAccessToken=!0,a.refreshToken().then((function(e){a.isAlreadyFetchingAccessToken=!1,a.setToken(e.data.accessToken),a.onAccessTokenFetched(e.data.accessToken)}))),e.next=6,new Promise((function(e){a.addSubscriber(function(){var t=Object(r.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.headers.Authorization="".concat(a.jwtConfig.tokenType," ").concat(c),"get"!==i.method&&"delete"!==i.method){t.next=9;break}return t.t0=e,t.next=5,d.a[i.method](i.url,{headers:{"Content-type":"application/json","x-token":c}});case 5:t.t1=t.sent,(0,t.t0)(t.t1),t.next=14;break;case 9:return t.t2=e,t.next=12,d.a[i.method](i.url,i.data,{headers:{"Content-type":"application/json","x-token":c}});case 12:t.t3=t.sent,(0,t.t2)(t.t3);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",Promise.reject(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return Object(o.a)(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"login",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return d.a.post.apply(d.a,[this.jwtConfig.loginEndpoint].concat(t))}},{key:"refreshToken",value:function(){var e=Object(r.a)(n.a.mark((function e(){var t,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(this.jwtConfig.refreshEndpoint,{userData:localStorage.getItem("userData")});case 2:return t=e.sent,a=t.data,c=a,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function b(e){return{jwt:new u(e)}}},760:function(e,t,a){},878:function(e,t,a){},925:function(e,t,a){},926:function(e,t,a){},930:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo-hydryus.843c276f.png"},931:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo-europa.62d10e6b.png"},932:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo-sociedad.b438957e.png"},945:function(e,t,a){},946:function(e,t,a){},953:function(e,t,a){},954:function(e,t,a){}}]);
//# sourceMappingURL=7.a9d2684e.chunk.js.map